import{a as Zh,b as ef,c as nf,d as is,e as sf,f as af,l as lf}from"./chunk-RFKWETKL.js";import{a as rf,b as Nn,c as Bn}from"./chunk-PRRRHKXG.js";import{$ as pr,A as Cn,B as xn,C as En,H as fr,I as Tn,M as In,N as tf,O as kn,R as mr,U as Sn,V as Rn,aa as gr,ba as _r,da as An,fa as Pn,ha as Dn,ia as Vn,ka as Mn,la as Fn,ma as Ln,v as ns,w as hr,x as os,y as vn,z as wn}from"./chunk-JDDDTQXJ.js";import{a as Vr,b as dn,c as hn,d as or,e as ir,f as ll,g as cl,h as fn,i as mn,j as pn,k as Uh,l as jh,m as Xh,n as _n,o as of,p as ss,q as cf,r as uf,s as df,t as hf}from"./chunk-QQ56R2GW.js";import{a as Nh,b as Bh,d as es,e as ts,f as vt,g as sr,h as $h,i as Gh,j as Kh,k as Qh,l as Be,m as ar}from"./chunk-EXWRICTH.js";import{$a as ur,Ba as Yh,Ca as Jh,Da as lr,Ea as wt,Ga as cr,Ia as Ct,Ja as xt,La as yn,Ma as Et,Ya as bn,Za as Tt,_a as Ie,ab as dr,c as Vh,d as Mh,ma as gn,qa as be,va as rs,za as Hh}from"./chunk-ILYSFQGJ.js";import{$a as Ch,$b as ye,Aa as gh,Ab as Ih,Ac as Dr,B as zi,Ba as _h,Bb as Me,Da as yh,Fb as h,G as dh,Gb as m,Hb as R,Ib as Wi,Jb as $i,K as hh,Lb as te,Nb as $,Nc as Ah,Ob as N,R as rl,Ra as bh,Tc as Ph,Ub as Ot,V as fh,Vb as Ut,Vc as nr,Wa as P,Wb as jt,Wc as Gi,X as gt,Xa as J,Xc as bt,Y as nl,Ya as vh,Zb as ln,_ as rt,_a as wh,_b as x,_c as Dh,aa as Xe,ac as Pr,ad as cn,ba as Uo,bb as yt,c as ch,ca as Ze,cc as de,dc as he,dd as Ne,ea as tr,ec as fe,fc as et,gc as ae,hb as Y,ib as il,ic as kh,ja as j,ka as q,kb as sl,la as rr,lb as xh,ld as qh,ma as sn,md as zh,n as Oo,na as ol,o as tl,ob as K,od as ul,pa as an,pd as dl,qa as mh,qc as lt,qd as Wh,rc as qt,s as uh,sc as Sh,ta as _t,tc as al,uc as ie,vb as Ar,wa as ph,wb as O,xb as Eh,yb as Th,yc as Rh,zb as Te}from"./chunk-W5TUANWH.js";import{b as Ki,d as Qi,e as Fh,f as Lh,h as Hi,j as Re,k as un,l as zt,m as Oh,n as Yi,o as Xi,p as Ji,r as Zi,t as ct,u as hl,v as fl}from"./chunk-DQAK3G55.js";import{a as at,b as on,f as L}from"./chunk-KT3CPUTC.js";var p1="@",g1=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=Uo(mh,{optional:!0});loadingSchedulerFn=Uo(_1,{optional:!0});_engine;constructor(t,n,o,s,a){this.doc=t,this.delegate=n,this.zone=o,this.animationType=s,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-GGDHYJGD.js").then(o=>o),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(o=>{throw new fh(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let a=new s(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,n){let o=this.delegate.createRenderer(t,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new ml(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(t,n);s.use(c),this.scheduler?.notify(11)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(n){vh()};static \u0275prov=gt({token:r,factory:r.\u0275fac})}return r})(),ml=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,o){this.delegate.insertBefore(e,t,n,o)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,o){this.delegate.setAttribute(e,t,n,o)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,o){this.delegate.setStyle(e,t,n,o)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,n)),this.delegate.listen(e,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(p1)}},_1=new rt("");function ff(r="animations"){return yh("NgAsyncAnimations"),tr([{provide:wh,useFactory:(e,t,n)=>new g1(e,t,n,r),deps:[Ah,Nh,_t]},{provide:_h,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var mf={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}};var pf={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var gf={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var _f={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var yf={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var bf={root:{borderRadius:"{content.border.radius}"}};var vf={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var wf={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var Cf={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var xf={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var Ef={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var Tf={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var If={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var kf={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var Sf={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var Rf={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var Af={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var Pf={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var Df={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var Vf={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var Mf={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var Nf={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var Bf={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Ff={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var Lf={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var Of={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var Uf={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var jf={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var qf={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var zf={icon:{color:"{form.field.icon.color}"}};var Wf={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var $f={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Gf={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Kf={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}};var Qf={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var Hf={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var Yf={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var Xf={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}};var Jf={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var Zf={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var em={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var tm={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var rm={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var nm={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var om={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var im={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var sm={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var am={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var lm={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var cm={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var um={root:{outline:{width:"2px",color:"{content.background}"}}};var dm={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var hm={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var fm={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var mm={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var pm={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var gm={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var _m={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}};var ym={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}};var bm={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var vm={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var wm={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var Cm={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}};var xm={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var Em={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var Tm={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var Im={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}};var km={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var Sm={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var Rm={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Am={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var Pm={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}};var Dm={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}};var Vm={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var Mm={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var Nm={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var Bm={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var Fm={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var Lm={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var Om={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var Um={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var jm={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}};var qm={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var zm={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var Wm={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var $m={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var Gm={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var Km={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var Qm={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var Hm=on(at({},yf),{components:{accordion:mf,autocomplete:pf,avatar:gf,badge:_f,blockui:bf,breadcrumb:vf,button:wf,datepicker:Vf,card:Cf,carousel:xf,cascadeselect:Ef,checkbox:Tf,chip:If,colorpicker:kf,confirmdialog:Sf,confirmpopup:Rf,contextmenu:Af,dataview:Df,datatable:Pf,dialog:Mf,divider:Nf,dock:Bf,drawer:Ff,editor:Lf,fieldset:Of,fileupload:Uf,iftalabel:Wf,floatlabel:jf,galleria:qf,iconfield:zf,image:$f,imagecompare:Gf,inlinemessage:Kf,inplace:Qf,inputchips:Hf,inputgroup:Yf,inputnumber:Xf,inputotp:Jf,inputtext:Zf,knob:em,listbox:tm,megamenu:rm,menu:nm,menubar:om,message:im,metergroup:sm,multiselect:am,orderlist:lm,organizationchart:cm,overlaybadge:um,popover:gm,paginator:dm,password:mm,panel:hm,panelmenu:fm,picklist:pm,progressbar:_m,progressspinner:ym,radiobutton:bm,rating:vm,scrollpanel:Cm,select:xm,selectbutton:Em,skeleton:Tm,slider:Im,speeddial:km,splitter:Rm,splitbutton:Sm,stepper:Am,steps:Pm,tabmenu:Dm,tabs:Vm,tabview:Mm,textarea:Fm,tieredmenu:Lm,tag:Nm,terminal:Bm,timeline:Om,togglebutton:jm,toggleswitch:qm,tree:$m,treeselect:Gm,treetable:Km,toast:Um,toolbar:zm,virtualscroller:Qm,tooltip:Wm,ripple:wm}});var y1=(r,e)=>({"pi ":!0,"pi-moon":r,"pi-sun":e}),jo=class r{constructor(e){this.layoutService=e}items;toggleDarkMode(){this.layoutService.layoutConfig.update(e=>on(at({},e),{darkTheme:!e.darkTheme}))}static \u0275fac=function(t){return new(t||r)(J(ar))};static \u0275cmp=Y({type:r,selectors:[["app-topbar"]],decls:11,vars:4,consts:[[1,"layout-topbar"],[1,"layout-topbar-logo-container"],[1,"layout-menu-button","layout-topbar-action",3,"click"],[1,"pi","pi-bars"],["routerLink","/",1,"layout-topbar-logo"],[1,"layout-topbar-actions"],[1,"layout-config-menu"],["type","button",1,"layout-topbar-action",3,"click"],[3,"ngClass"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1)(2,"button",2),$("click",function(){return n.layoutService.onMenuToggle()}),R(3,"i",3),m(),h(4,"a",4)(5,"span"),x(6,"BAF"),m()()(),h(7,"div",5)(8,"div",6)(9,"button",7),$("click",function(){return n.toggleDarkMode()}),R(10,"i",8),m()()()()),t&2&&(P(10),O("ngClass",kh(1,y1,n.layoutService.isDarkTheme(),!n.layoutService.isDarkTheme())))},dependencies:[Be,sr,Ne,nr,_n],encapsulation:2})};var b1=["app-menuitem",""],v1=()=>({paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"});function w1(r,e){if(r&1&&(h(0,"div",4),x(1),m()),r&2){let t=N();P(),ye(t.item.label)}}function C1(r,e){r&1&&R(0,"i",9)}function x1(r,e){if(r&1){let t=te();h(0,"a",5),$("click",function(o){j(t);let s=N();return q(s.itemClick(o))}),R(1,"i",6),h(2,"span",7),x(3),m(),K(4,C1,1,0,"i",8),m()}if(r&2){let t=N();O("ngClass",t.item.styleClass),Ar("href",t.item.url,bh)("target",t.item.target),P(),O("ngClass",t.item.icon),P(2),ye(t.item.label),P(),O("ngIf",t.item.items)}}function E1(r,e){r&1&&R(0,"i",9)}function T1(r,e){if(r&1){let t=te();h(0,"a",10),$("click",function(o){j(t);let s=N();return q(s.itemClick(o))}),R(1,"i",6),h(2,"span",7),x(3),m(),K(4,E1,1,0,"i",8),m()}if(r&2){let t=N();O("ngClass",t.item.styleClass)("routerLink",t.item.routerLink)("routerLinkActiveOptions",t.item.routerLinkActiveOptions||ae(14,v1))("fragment",t.item.fragment)("queryParamsHandling",t.item.queryParamsHandling)("preserveFragment",t.item.preserveFragment)("skipLocationChange",t.item.skipLocationChange)("replaceUrl",t.item.replaceUrl)("state",t.item.state)("queryParams",t.item.queryParams),Ar("target",t.item.target),P(),O("ngClass",t.item.icon),P(2),ye(t.item.label),P(),O("ngIf",t.item.items)}}function I1(r,e){if(r&1&&R(0,"li",12),r&2){let t=e.$implicit,n=e.index,o=N(2);Ih(t.badgeClass),O("item",t)("index",n)("parentKey",o.key)}}function k1(r,e){if(r&1&&(h(0,"ul"),K(1,I1,1,5,"ng-template",11),m()),r&2){let t=N();O("@children",t.submenuAnimation),P(),O("ngForOf",t.item.items)}}var as=class r{constructor(e,t){this.router=e;this.layoutService=t;this.menuSourceSubscription=this.layoutService.menuSource$.subscribe(n=>{Promise.resolve(null).then(()=>{n.routeEvent?this.active=!!(n.key===this.key||n.key.startsWith(this.key+"-")):n.key!==this.key&&!n.key.startsWith(this.key+"-")&&(this.active=!1)})}),this.menuResetSubscription=this.layoutService.resetSource$.subscribe(()=>{this.active=!1}),this.router.events.pipe(zi(n=>n instanceof es)).subscribe(n=>{this.item.routerLink&&this.updateActiveStateFromRoute()})}item;index;root;parentKey;active=!1;menuSourceSubscription;menuResetSubscription;key="";ngOnInit(){this.key=this.parentKey?this.parentKey+"-"+this.index:String(this.index),this.item.routerLink&&this.updateActiveStateFromRoute()}updateActiveStateFromRoute(){this.router.isActive(this.item.routerLink[0],{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"})&&this.layoutService.onMenuStateChange({key:this.key,routeEvent:!0})}itemClick(e){if(this.item.disabled){e.preventDefault();return}this.item.command&&this.item.command({originalEvent:e,item:this.item}),this.item.items&&(this.active=!this.active),this.layoutService.onMenuStateChange({key:this.key})}get submenuAnimation(){return this.root||this.active?"expanded":"collapsed"}get activeClass(){return this.active&&!this.root}ngOnDestroy(){this.menuSourceSubscription&&this.menuSourceSubscription.unsubscribe(),this.menuResetSubscription&&this.menuResetSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||r)(J(vt),J(ar))};static \u0275cmp=Y({type:r,selectors:[["","app-menuitem",""]],hostVars:4,hostBindings:function(t,n){t&2&&Th("layout-root-menuitem",n.root)("active-menuitem",n.activeClass)},inputs:{item:"item",index:"index",root:"root",parentKey:"parentKey"},features:[et([ar])],attrs:b1,decls:5,vars:4,consts:[["class","layout-menuitem-root-text",4,"ngIf"],["tabindex","0","pRipple","",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"layout-menuitem-root-text"],["tabindex","0","pRipple","",3,"click","ngClass"],[1,"layout-menuitem-icon",3,"ngClass"],[1,"layout-menuitem-text"],["class","pi pi-fw pi-angle-down layout-submenu-toggler",4,"ngIf"],[1,"pi","pi-fw","pi-angle-down","layout-submenu-toggler"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"click","ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams"],["ngFor","",3,"ngForOf"],["app-menuitem","",3,"item","index","parentKey"]],template:function(t,n){t&1&&(Wi(0),K(1,w1,2,1,"div",0)(2,x1,5,6,"a",1)(3,T1,5,15,"a",2)(4,k1,2,2,"ul",3),$i()),t&2&&(P(),O("ngIf",n.root&&n.item.visible!==!1),P(),O("ngIf",(!n.item.routerLink||n.item.items)&&n.item.visible!==!1),P(),O("ngIf",n.item.routerLink&&!n.item.items&&n.item.visible!==!1),P(),O("ngIf",n.item.items&&n.item.visible!==!1))},dependencies:[r,Ne,nr,Gi,bt,Be,sr,$h,wt,lr],encapsulation:2,data:{animation:[qh("children",[dl("collapsed",ul({height:"0"})),dl("expanded",ul({height:"*"})),Wh("collapsed <=> expanded",zh("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}})};function S1(r,e){if(r&1&&R(0,"li",4),r&2){let t=N(),n=t.$implicit,o=t.index;O("item",n)("index",o)("root",!0)}}function R1(r,e){r&1&&R(0,"li",5)}function A1(r,e){if(r&1&&(Wi(0),K(1,S1,1,3,"li",2)(2,R1,1,0,"li",3),$i()),r&2){let t=e.$implicit;P(),O("ngIf",!t.separator),P(),O("ngIf",t.separator)}}var ls=class r{model=[];ngOnInit(){this.model=[{label:"Finanzas",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",routerLink:["/"]},{label:"Ingresos",icon:"pi pi-fw pi-dollar",routerLink:["/ingresos"]},{label:"Egresos",icon:"pi pi-fw pi-receipt",routerLink:["/egresos"]}]},{label:"Sistema",items:[{label:"Categorias",icon:"pi pi-fw pi-bars",routerLink:["/categorias"]},{label:"Tarjetas",icon:"pi pi-fw pi-credit-card",routerLink:["/tarjetas"]},{label:"Documentos",icon:"pi pi-fw pi-file",routerLink:["/documentos"]}]},{label:"Auth",icon:"pi pi-fw pi-user",items:[{label:"Cerrar sesion",icon:"pi pi-fw pi-times-circle",routerLink:["/auth/logout"]}]}]}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["app-menu"]],decls:2,vars:1,consts:[[1,"layout-menu"],[4,"ngFor","ngForOf"],["app-menuitem","",3,"item","index","root",4,"ngIf"],["class","menu-separator",4,"ngIf"],["app-menuitem","",3,"item","index","root"],[1,"menu-separator"]],template:function(t,n){t&1&&(h(0,"ul",0),K(1,A1,3,2,"ng-container",1),m()),t&2&&(P(),O("ngForOf",n.model))},dependencies:[Ne,Gi,bt,as,Be],encapsulation:2})};var qo=class r{constructor(e){this.el=e}static \u0275fac=function(t){return new(t||r)(J(ph))};static \u0275cmp=Y({type:r,selectors:[["app-sidebar"]],decls:2,vars:0,consts:[[1,"layout-sidebar"]],template:function(t,n){t&1&&(h(0,"div",0),R(1,"app-menu"),m())},dependencies:[ls],encapsulation:2})};var cs=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["app-footer"]],decls:1,vars:0,consts:[[1,"layout-footer"]],template:function(t,n){t&1&&R(0,"div",0)},encapsulation:2})};var us=class r{constructor(e,t,n){this.layoutService=e;this.renderer=t;this.router=n;this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",o=>{this.isOutsideClicked(o)&&this.hideMenu()})),this.layoutService.layoutState().staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe(zi(o=>o instanceof es)).subscribe(()=>{this.hideMenu()})}overlayMenuOpenSubscription;menuOutsideClickListener;appSidebar;appTopBar;isOutsideClicked(e){let t=document.querySelector(".layout-sidebar"),n=document.querySelector(".layout-menu-button"),o=e.target;return!(t?.isSameNode(o)||t?.contains(o)||n?.isSameNode(o)||n?.contains(o))}hideMenu(){this.layoutService.layoutState.update(e=>on(at({},e),{overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-overlay":this.layoutService.layoutConfig().menuMode==="overlay","layout-static":this.layoutService.layoutConfig().menuMode==="static","layout-static-inactive":this.layoutService.layoutState().staticMenuDesktopInactive&&this.layoutService.layoutConfig().menuMode==="static","layout-overlay-active":this.layoutService.layoutState().overlayMenuActive,"layout-mobile-active":this.layoutService.layoutState().staticMenuMobileActive}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}static \u0275fac=function(t){return new(t||r)(J(ar),J(Ch),J(vt))};static \u0275cmp=Y({type:r,selectors:[["app-layout"]],viewQuery:function(t,n){if(t&1&&(Ot(qo,5),Ot(jo,5)),t&2){let o;Ut(o=jt())&&(n.appSidebar=o.first),Ut(o=jt())&&(n.appTopBar=o.first)}},decls:8,vars:1,consts:[[1,"layout-wrapper",3,"ngClass"],[1,"layout-main-container"],[1,"layout-main"],[1,"layout-mask","animate-fadein"]],template:function(t,n){t&1&&(h(0,"div",0),R(1,"app-topbar")(2,"app-sidebar"),h(3,"div",1)(4,"div",2),R(5,"router-outlet"),m(),R(6,"app-footer"),m(),R(7,"div",3),m()),t&2&&O("ngClass",n.containerClass)},dependencies:[Ne,nr,jo,qo,Be,ts,cs],encapsulation:2})};var P1=({dt:r})=>`
.p-progressspinner {
    position: relative;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    display: inline-block;
}

.p-progressspinner::before {
    content: "";
    display: block;
    padding-top: 100%;
}

.p-progressspinner-spin {
    height: 100%;
    transform-origin: center center;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    animation: p-progressspinner-rotate 2s linear infinite;
}

.p-progressspinner-circle {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: 0;
    stroke: ${r("progressspinner.color.1")};
    animation: p-progressspinner-dash 1.5s ease-in-out infinite, p-progressspinner-color 6s ease-in-out infinite;
    stroke-linecap: round;
}

@keyframes p-progressspinner-rotate {
    100% {
        transform: rotate(360deg);
    }
}
@keyframes p-progressspinner-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35px;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124px;
    }
}
@keyframes p-progressspinner-color {
    100%,
    0% {
        stroke: ${r("progressspinner.color.1")};
    }
    40% {
        stroke: ${r("progressspinner.color.2")};
    }
    66% {
        stroke: ${r("progressspinner.color.3")};
    }
    80%,
    90% {
        stroke: ${r("progressspinner.color.4")};
    }
}
`,D1={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},Xm=(()=>{class r extends Hh{name="progressspinner";theme=P1;classes=D1;static \u0275fac=(()=>{let t;return function(o){return(t||(t=ol(r)))(o||r)}})();static \u0275prov=gt({token:r,factory:r.\u0275fac})}return r})();var Wt=(()=>{class r extends Jh{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;_componentStyle=Uo(Xm);static \u0275fac=(()=>{let t;return function(o){return(t||(t=ol(r)))(o||r)}})();static \u0275cmp=Y({type:r,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},features:[et([Xm]),xh],decls:3,vars:11,consts:[["role","progressbar",1,"p-progressspinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progressspinner-spin"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progressspinner-circle"]],template:function(n,o){n&1&&(h(0,"div",0),rr(),h(1,"svg",1),R(2,"circle",2),m()()),n&2&&(O("ngStyle",o.style)("ngClass",o.styleClass),Ar("aria-label",o.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),P(),Eh("animation-duration",o.animationDuration),Ar("data-pc-section","root"),P(),Ar("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[Ne,nr,Dh,rs],encapsulation:2,changeDetection:0})}return r})(),yr=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=il({type:r});static \u0275inj=nl({imports:[Wt,rs,rs]})}return r})();var It=class r{THOUSANDS_SEPARATOR=".";GROUP_SEPARATOR=".";DECIMAL_SEPARATOR=".";transform(e){let t=(e||"").toString();return this.unFormat(t).split(this.DECIMAL_SEPARATOR)[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,this.GROUP_SEPARATOR)}unFormat(e){return e?(e=e.replace(/^0+/,"").replace(/\D/g,""),e.replace(/\./g,"")):""}static \u0275fac=function(t){return new(t||r)};static \u0275pipe=sl({name:"miles",type:r,pure:!0})};var Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zm={};var br,gl;(function(){var r;function e(w,_){function b(){}b.prototype=_.prototype,w.D=_.prototype,w.prototype=new b,w.prototype.constructor=w,w.C=function(v,C,I){for(var y=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)y[Bt-2]=arguments[Bt];return _.prototype[C].apply(v,y)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,_,b){b||(b=0);var v=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)v[C]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(C=0;16>C;++C)v[C]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=w.g[0],b=w.g[1],C=w.g[2];var I=w.g[3],y=_+(I^b&(C^I))+v[0]+3614090360&4294967295;_=b+(y<<7&4294967295|y>>>25),y=I+(C^_&(b^C))+v[1]+3905402710&4294967295,I=_+(y<<12&4294967295|y>>>20),y=C+(b^I&(_^b))+v[2]+606105819&4294967295,C=I+(y<<17&4294967295|y>>>15),y=b+(_^C&(I^_))+v[3]+3250441966&4294967295,b=C+(y<<22&4294967295|y>>>10),y=_+(I^b&(C^I))+v[4]+4118548399&4294967295,_=b+(y<<7&4294967295|y>>>25),y=I+(C^_&(b^C))+v[5]+1200080426&4294967295,I=_+(y<<12&4294967295|y>>>20),y=C+(b^I&(_^b))+v[6]+2821735955&4294967295,C=I+(y<<17&4294967295|y>>>15),y=b+(_^C&(I^_))+v[7]+4249261313&4294967295,b=C+(y<<22&4294967295|y>>>10),y=_+(I^b&(C^I))+v[8]+1770035416&4294967295,_=b+(y<<7&4294967295|y>>>25),y=I+(C^_&(b^C))+v[9]+2336552879&4294967295,I=_+(y<<12&4294967295|y>>>20),y=C+(b^I&(_^b))+v[10]+4294925233&4294967295,C=I+(y<<17&4294967295|y>>>15),y=b+(_^C&(I^_))+v[11]+2304563134&4294967295,b=C+(y<<22&4294967295|y>>>10),y=_+(I^b&(C^I))+v[12]+1804603682&4294967295,_=b+(y<<7&4294967295|y>>>25),y=I+(C^_&(b^C))+v[13]+4254626195&4294967295,I=_+(y<<12&4294967295|y>>>20),y=C+(b^I&(_^b))+v[14]+2792965006&4294967295,C=I+(y<<17&4294967295|y>>>15),y=b+(_^C&(I^_))+v[15]+1236535329&4294967295,b=C+(y<<22&4294967295|y>>>10),y=_+(C^I&(b^C))+v[1]+4129170786&4294967295,_=b+(y<<5&4294967295|y>>>27),y=I+(b^C&(_^b))+v[6]+3225465664&4294967295,I=_+(y<<9&4294967295|y>>>23),y=C+(_^b&(I^_))+v[11]+643717713&4294967295,C=I+(y<<14&4294967295|y>>>18),y=b+(I^_&(C^I))+v[0]+3921069994&4294967295,b=C+(y<<20&4294967295|y>>>12),y=_+(C^I&(b^C))+v[5]+3593408605&4294967295,_=b+(y<<5&4294967295|y>>>27),y=I+(b^C&(_^b))+v[10]+38016083&4294967295,I=_+(y<<9&4294967295|y>>>23),y=C+(_^b&(I^_))+v[15]+3634488961&4294967295,C=I+(y<<14&4294967295|y>>>18),y=b+(I^_&(C^I))+v[4]+3889429448&4294967295,b=C+(y<<20&4294967295|y>>>12),y=_+(C^I&(b^C))+v[9]+568446438&4294967295,_=b+(y<<5&4294967295|y>>>27),y=I+(b^C&(_^b))+v[14]+3275163606&4294967295,I=_+(y<<9&4294967295|y>>>23),y=C+(_^b&(I^_))+v[3]+4107603335&4294967295,C=I+(y<<14&4294967295|y>>>18),y=b+(I^_&(C^I))+v[8]+1163531501&4294967295,b=C+(y<<20&4294967295|y>>>12),y=_+(C^I&(b^C))+v[13]+2850285829&4294967295,_=b+(y<<5&4294967295|y>>>27),y=I+(b^C&(_^b))+v[2]+4243563512&4294967295,I=_+(y<<9&4294967295|y>>>23),y=C+(_^b&(I^_))+v[7]+1735328473&4294967295,C=I+(y<<14&4294967295|y>>>18),y=b+(I^_&(C^I))+v[12]+2368359562&4294967295,b=C+(y<<20&4294967295|y>>>12),y=_+(b^C^I)+v[5]+4294588738&4294967295,_=b+(y<<4&4294967295|y>>>28),y=I+(_^b^C)+v[8]+2272392833&4294967295,I=_+(y<<11&4294967295|y>>>21),y=C+(I^_^b)+v[11]+1839030562&4294967295,C=I+(y<<16&4294967295|y>>>16),y=b+(C^I^_)+v[14]+4259657740&4294967295,b=C+(y<<23&4294967295|y>>>9),y=_+(b^C^I)+v[1]+2763975236&4294967295,_=b+(y<<4&4294967295|y>>>28),y=I+(_^b^C)+v[4]+1272893353&4294967295,I=_+(y<<11&4294967295|y>>>21),y=C+(I^_^b)+v[7]+4139469664&4294967295,C=I+(y<<16&4294967295|y>>>16),y=b+(C^I^_)+v[10]+3200236656&4294967295,b=C+(y<<23&4294967295|y>>>9),y=_+(b^C^I)+v[13]+681279174&4294967295,_=b+(y<<4&4294967295|y>>>28),y=I+(_^b^C)+v[0]+3936430074&4294967295,I=_+(y<<11&4294967295|y>>>21),y=C+(I^_^b)+v[3]+3572445317&4294967295,C=I+(y<<16&4294967295|y>>>16),y=b+(C^I^_)+v[6]+76029189&4294967295,b=C+(y<<23&4294967295|y>>>9),y=_+(b^C^I)+v[9]+3654602809&4294967295,_=b+(y<<4&4294967295|y>>>28),y=I+(_^b^C)+v[12]+3873151461&4294967295,I=_+(y<<11&4294967295|y>>>21),y=C+(I^_^b)+v[15]+530742520&4294967295,C=I+(y<<16&4294967295|y>>>16),y=b+(C^I^_)+v[2]+3299628645&4294967295,b=C+(y<<23&4294967295|y>>>9),y=_+(C^(b|~I))+v[0]+4096336452&4294967295,_=b+(y<<6&4294967295|y>>>26),y=I+(b^(_|~C))+v[7]+1126891415&4294967295,I=_+(y<<10&4294967295|y>>>22),y=C+(_^(I|~b))+v[14]+2878612391&4294967295,C=I+(y<<15&4294967295|y>>>17),y=b+(I^(C|~_))+v[5]+4237533241&4294967295,b=C+(y<<21&4294967295|y>>>11),y=_+(C^(b|~I))+v[12]+1700485571&4294967295,_=b+(y<<6&4294967295|y>>>26),y=I+(b^(_|~C))+v[3]+2399980690&4294967295,I=_+(y<<10&4294967295|y>>>22),y=C+(_^(I|~b))+v[10]+4293915773&4294967295,C=I+(y<<15&4294967295|y>>>17),y=b+(I^(C|~_))+v[1]+2240044497&4294967295,b=C+(y<<21&4294967295|y>>>11),y=_+(C^(b|~I))+v[8]+1873313359&4294967295,_=b+(y<<6&4294967295|y>>>26),y=I+(b^(_|~C))+v[15]+4264355552&4294967295,I=_+(y<<10&4294967295|y>>>22),y=C+(_^(I|~b))+v[6]+2734768916&4294967295,C=I+(y<<15&4294967295|y>>>17),y=b+(I^(C|~_))+v[13]+1309151649&4294967295,b=C+(y<<21&4294967295|y>>>11),y=_+(C^(b|~I))+v[4]+4149444226&4294967295,_=b+(y<<6&4294967295|y>>>26),y=I+(b^(_|~C))+v[11]+3174756917&4294967295,I=_+(y<<10&4294967295|y>>>22),y=C+(_^(I|~b))+v[2]+718787259&4294967295,C=I+(y<<15&4294967295|y>>>17),y=b+(I^(C|~_))+v[9]+3951481745&4294967295,w.g[0]=w.g[0]+_&4294967295,w.g[1]=w.g[1]+(C+(y<<21&4294967295|y>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+I&4294967295}n.prototype.u=function(w,_){_===void 0&&(_=w.length);for(var b=_-this.blockSize,v=this.B,C=this.h,I=0;I<_;){if(C==0)for(;I<=b;)o(this,w,I),I+=this.blockSize;if(typeof w=="string"){for(;I<_;)if(v[C++]=w.charCodeAt(I++),C==this.blockSize){o(this,v),C=0;break}}else for(;I<_;)if(v[C++]=w[I++],C==this.blockSize){o(this,v),C=0;break}}this.h=C,this.o+=_},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var _=1;_<w.length-8;++_)w[_]=0;var b=8*this.o;for(_=w.length-8;_<w.length;++_)w[_]=b&255,b/=256;for(this.u(w),w=Array(16),_=b=0;4>_;++_)for(var v=0;32>v;v+=8)w[b++]=this.g[_]>>>v&255;return w};function s(w,_){var b=c;return Object.prototype.hasOwnProperty.call(b,w)?b[w]:b[w]=_(w)}function a(w,_){this.h=_;for(var b=[],v=!0,C=w.length-1;0<=C;C--){var I=w[C]|0;v&&I==_||(b[C]=I,v=!1)}this.g=b}var c={};function d(w){return-128<=w&&128>w?s(w,function(_){return new a([_|0],0>_?-1:0)}):new a([w|0],0>w?-1:0)}function p(w){if(isNaN(w)||!isFinite(w))return T;if(0>w)return V(p(-w));for(var _=[],b=1,v=0;w>=b;v++)_[v]=w/b|0,b*=4294967296;return new a(_,0)}function g(w,_){if(w.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w.charAt(0)=="-")return V(g(w.substring(1),_));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(_,8)),v=T,C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C),y=parseInt(w.substring(C,C+I),_);8>I?(I=p(Math.pow(_,I)),v=v.j(I).add(p(y))):(v=v.j(b),v=v.add(p(y)))}return v}var T=d(0),k=d(1),A=d(16777216);r=a.prototype,r.m=function(){if(U(this))return-V(this).m();for(var w=0,_=1,b=0;b<this.g.length;b++){var v=this.i(b);w+=(0<=v?v:4294967296+v)*_,_*=4294967296}return w},r.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M(this))return"0";if(U(this))return"-"+V(this).toString(w);for(var _=p(Math.pow(w,6)),b=this,v="";;){var C=ne(b,_).g;b=Z(b,C.j(_));var I=((0<b.g.length?b.g[0]:b.h)>>>0).toString(w);if(b=C,M(b))return I+v;for(;6>I.length;)I="0"+I;v=I+v}},r.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function M(w){if(w.h!=0)return!1;for(var _=0;_<w.g.length;_++)if(w.g[_]!=0)return!1;return!0}function U(w){return w.h==-1}r.l=function(w){return w=Z(this,w),U(w)?-1:M(w)?0:1};function V(w){for(var _=w.g.length,b=[],v=0;v<_;v++)b[v]=~w.g[v];return new a(b,~w.h).add(k)}r.abs=function(){return U(this)?V(this):this},r.add=function(w){for(var _=Math.max(this.g.length,w.g.length),b=[],v=0,C=0;C<=_;C++){var I=v+(this.i(C)&65535)+(w.i(C)&65535),y=(I>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);v=y>>>16,I&=65535,y&=65535,b[C]=y<<16|I}return new a(b,b[b.length-1]&-2147483648?-1:0)};function Z(w,_){return w.add(V(_))}r.j=function(w){if(M(this)||M(w))return T;if(U(this))return U(w)?V(this).j(V(w)):V(V(this).j(w));if(U(w))return V(this.j(V(w)));if(0>this.l(A)&&0>w.l(A))return p(this.m()*w.m());for(var _=this.g.length+w.g.length,b=[],v=0;v<2*_;v++)b[v]=0;for(v=0;v<this.g.length;v++)for(var C=0;C<w.g.length;C++){var I=this.i(v)>>>16,y=this.i(v)&65535,Bt=w.i(C)>>>16,vo=w.i(C)&65535;b[2*v+2*C]+=y*vo,ee(b,2*v+2*C),b[2*v+2*C+1]+=I*vo,ee(b,2*v+2*C+1),b[2*v+2*C+1]+=y*Bt,ee(b,2*v+2*C+1),b[2*v+2*C+2]+=I*Bt,ee(b,2*v+2*C+2)}for(v=0;v<_;v++)b[v]=b[2*v+1]<<16|b[2*v];for(v=_;v<2*_;v++)b[v]=0;return new a(b,0)};function ee(w,_){for(;(w[_]&65535)!=w[_];)w[_+1]+=w[_]>>>16,w[_]&=65535,_++}function Q(w,_){this.g=w,this.h=_}function ne(w,_){if(M(_))throw Error("division by zero");if(M(w))return new Q(T,T);if(U(w))return _=ne(V(w),_),new Q(V(_.g),V(_.h));if(U(_))return _=ne(w,V(_)),new Q(V(_.g),_.h);if(30<w.g.length){if(U(w)||U(_))throw Error("slowDivide_ only works with positive integers.");for(var b=k,v=_;0>=v.l(w);)b=Ve(b),v=Ve(v);var C=le(b,1),I=le(v,1);for(v=le(v,2),b=le(b,2);!M(v);){var y=I.add(v);0>=y.l(w)&&(C=C.add(b),I=y),v=le(v,1),b=le(b,1)}return _=Z(w,C.j(_)),new Q(C,_)}for(C=T;0<=w.l(_);){for(b=Math.max(1,Math.floor(w.m()/_.m())),v=Math.ceil(Math.log(b)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),I=p(b),y=I.j(_);U(y)||0<y.l(w);)b-=v,I=p(b),y=I.j(_);M(I)&&(I=k),C=C.add(I),w=Z(w,y)}return new Q(C,w)}r.A=function(w){return ne(this,w).h},r.and=function(w){for(var _=Math.max(this.g.length,w.g.length),b=[],v=0;v<_;v++)b[v]=this.i(v)&w.i(v);return new a(b,this.h&w.h)},r.or=function(w){for(var _=Math.max(this.g.length,w.g.length),b=[],v=0;v<_;v++)b[v]=this.i(v)|w.i(v);return new a(b,this.h|w.h)},r.xor=function(w){for(var _=Math.max(this.g.length,w.g.length),b=[],v=0;v<_;v++)b[v]=this.i(v)^w.i(v);return new a(b,this.h^w.h)};function Ve(w){for(var _=w.g.length+1,b=[],v=0;v<_;v++)b[v]=w.i(v)<<1|w.i(v-1)>>>31;return new a(b,w.h)}function le(w,_){var b=_>>5;_%=32;for(var v=w.g.length-b,C=[],I=0;I<v;I++)C[I]=0<_?w.i(I+b)>>>_|w.i(I+b+1)<<32-_:w.i(I+b);return new a(C,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,gl=Zm.Md5=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=p,a.fromString=g,br=Zm.Integer=a}).apply(typeof Jm<"u"?Jm:typeof self<"u"?self:typeof window<"u"?window:{});var hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$t={};var _l,V1,Un,yl,zo,fs,bl,vl,wl;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,l,u){return i==Array.prototype||i==Object.prototype||(i[l]=u.value),i};function t(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof hs=="object"&&hs];for(var l=0;l<i.length;++l){var u=i[l];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var n=t(this);function o(i,l){if(l)e:{var u=n;i=i.split(".");for(var f=0;f<i.length-1;f++){var E=i[f];if(!(E in u))break e;u=u[E]}i=i[i.length-1],f=u[i],l=l(f),l!=f&&l!=null&&e(u,i,{configurable:!0,writable:!0,value:l})}}function s(i,l){i instanceof String&&(i+="");var u=0,f=!1,E={next:function(){if(!f&&u<i.length){var S=u++;return{value:l(S,i[S]),done:!1}}return f=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}o("Array.prototype.values",function(i){return i||function(){return s(this,function(l,u){return u})}});var a=a||{},c=this||self;function d(i){var l=typeof i;return l=l!="object"?l:i?Array.isArray(i)?"array":l:"null",l=="array"||l=="object"&&typeof i.length=="number"}function p(i){var l=typeof i;return l=="object"&&i!=null||l=="function"}function g(i,l,u){return i.call.apply(i.bind,arguments)}function T(i,l,u){if(!i)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,f),i.apply(l,E)}}return function(){return i.apply(l,arguments)}}function k(i,l,u){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:T,k.apply(null,arguments)}function A(i,l){var u=Array.prototype.slice.call(arguments,1);return function(){var f=u.slice();return f.push.apply(f,arguments),i.apply(this,f)}}function M(i,l){function u(){}u.prototype=l.prototype,i.aa=l.prototype,i.prototype=new u,i.prototype.constructor=i,i.Qb=function(f,E,S){for(var F=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)F[pe-2]=arguments[pe];return l.prototype[E].apply(f,F)}}function U(i){let l=i.length;if(0<l){let u=Array(l);for(let f=0;f<l;f++)u[f]=i[f];return u}return[]}function V(i,l){for(let u=1;u<arguments.length;u++){let f=arguments[u];if(d(f)){let E=i.length||0,S=f.length||0;i.length=E+S;for(let F=0;F<S;F++)i[E+F]=f[F]}else i.push(f)}}class Z{constructor(l,u){this.i=l,this.j=u,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function ee(i){return/^[\s\xa0]*$/.test(i)}function Q(){var i=c.navigator;return i&&(i=i.userAgent)?i:""}function ne(i){return ne[" "](i),i}ne[" "]=function(){};var Ve=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function le(i,l,u){for(let f in i)l.call(u,i[f],f,i)}function w(i,l){for(let u in i)l.call(void 0,i[u],u,i)}function _(i){let l={};for(let u in i)l[u]=i[u];return l}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(i,l){let u,f;for(let E=1;E<arguments.length;E++){f=arguments[E];for(u in f)i[u]=f[u];for(let S=0;S<b.length;S++)u=b[S],Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}}function C(i){var l=1;i=i.split(":");let u=[];for(;0<l&&i.length;)u.push(i.shift()),l--;return i.length&&u.push(i.join(":")),u}function I(i){c.setTimeout(()=>{throw i},0)}function y(){var i=Aa;let l=null;return i.g&&(l=i.g,i.g=i.g.next,i.g||(i.h=null),l.next=null),l}class Bt{constructor(){this.h=this.g=null}add(l,u){let f=vo.get();f.set(l,u),this.h?this.h.next=f:this.g=f,this.h=f}}var vo=new Z(()=>new N0,i=>i.reset());class N0{constructor(){this.next=this.g=this.h=null}set(l,u){this.h=l,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let wo,Co=!1,Aa=new Bt,ld=()=>{let i=c.Promise.resolve(void 0);wo=()=>{i.then(B0)}};var B0=()=>{for(var i;i=y();){try{i.h.call(i.g)}catch(u){I(u)}var l=vo;l.j(i),100>l.h&&(l.h++,i.next=l.g,l.g=i)}Co=!1};function Xt(){this.s=this.s,this.C=this.C}Xt.prototype.s=!1,Xt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(i,l){this.type=i,this.g=this.target=l,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var F0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var i=!1,l=Object.defineProperty({},"passive",{get:function(){i=!0}});try{let u=()=>{};c.addEventListener("test",u,l),c.removeEventListener("test",u,l)}catch{}return i}();function xo(i,l){if(je.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var u=this.type=i.type,f=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=l,l=i.relatedTarget){if(Ve){e:{try{ne(l.nodeName);var E=!0;break e}catch{}E=!1}E||(l=null)}}else u=="mouseover"?l=i.fromElement:u=="mouseout"&&(l=i.toElement);this.relatedTarget=l,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:L0[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&xo.aa.h.call(this)}}M(xo,je);var L0={2:"touch",3:"pen",4:"mouse"};xo.prototype.h=function(){xo.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Eo="closure_listenable_"+(1e6*Math.random()|0),O0=0;function U0(i,l,u,f,E){this.listener=i,this.proxy=null,this.src=l,this.type=u,this.capture=!!f,this.ha=E,this.key=++O0,this.da=this.fa=!1}function Ii(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function ki(i){this.src=i,this.g={},this.h=0}ki.prototype.add=function(i,l,u,f,E){var S=i.toString();i=this.g[S],i||(i=this.g[S]=[],this.h++);var F=Da(i,l,f,E);return-1<F?(l=i[F],u||(l.fa=!1)):(l=new U0(l,this.src,S,!!f,E),l.fa=u,i.push(l)),l};function Pa(i,l){var u=l.type;if(u in i.g){var f=i.g[u],E=Array.prototype.indexOf.call(f,l,void 0),S;(S=0<=E)&&Array.prototype.splice.call(f,E,1),S&&(Ii(l),i.g[u].length==0&&(delete i.g[u],i.h--))}}function Da(i,l,u,f){for(var E=0;E<i.length;++E){var S=i[E];if(!S.da&&S.listener==l&&S.capture==!!u&&S.ha==f)return E}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Ma={};function cd(i,l,u,f,E){if(f&&f.once)return dd(i,l,u,f,E);if(Array.isArray(l)){for(var S=0;S<l.length;S++)cd(i,l[S],u,f,E);return null}return u=La(u),i&&i[Eo]?i.K(l,u,p(f)?!!f.capture:!!f,E):ud(i,l,u,!1,f,E)}function ud(i,l,u,f,E,S){if(!l)throw Error("Invalid event type");var F=p(E)?!!E.capture:!!E,pe=Ba(i);if(pe||(i[Va]=pe=new ki(i)),u=pe.add(l,u,f,F,S),u.proxy)return u;if(f=j0(),u.proxy=f,f.src=i,f.listener=u,i.addEventListener)F0||(E=F),E===void 0&&(E=!1),i.addEventListener(l.toString(),f,E);else if(i.attachEvent)i.attachEvent(fd(l.toString()),f);else if(i.addListener&&i.removeListener)i.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return u}function j0(){function i(u){return l.call(i.src,i.listener,u)}let l=q0;return i}function dd(i,l,u,f,E){if(Array.isArray(l)){for(var S=0;S<l.length;S++)dd(i,l[S],u,f,E);return null}return u=La(u),i&&i[Eo]?i.L(l,u,p(f)?!!f.capture:!!f,E):ud(i,l,u,!0,f,E)}function hd(i,l,u,f,E){if(Array.isArray(l))for(var S=0;S<l.length;S++)hd(i,l[S],u,f,E);else f=p(f)?!!f.capture:!!f,u=La(u),i&&i[Eo]?(i=i.i,l=String(l).toString(),l in i.g&&(S=i.g[l],u=Da(S,u,f,E),-1<u&&(Ii(S[u]),Array.prototype.splice.call(S,u,1),S.length==0&&(delete i.g[l],i.h--)))):i&&(i=Ba(i))&&(l=i.g[l.toString()],i=-1,l&&(i=Da(l,u,f,E)),(u=-1<i?l[i]:null)&&Na(u))}function Na(i){if(typeof i!="number"&&i&&!i.da){var l=i.src;if(l&&l[Eo])Pa(l.i,i);else{var u=i.type,f=i.proxy;l.removeEventListener?l.removeEventListener(u,f,i.capture):l.detachEvent?l.detachEvent(fd(u),f):l.addListener&&l.removeListener&&l.removeListener(f),(u=Ba(l))?(Pa(u,i),u.h==0&&(u.src=null,l[Va]=null)):Ii(i)}}}function fd(i){return i in Ma?Ma[i]:Ma[i]="on"+i}function q0(i,l){if(i.da)i=!0;else{l=new xo(l,this);var u=i.listener,f=i.ha||i.src;i.fa&&Na(i),i=u.call(f,l)}return i}function Ba(i){return i=i[Va],i instanceof ki?i:null}var Fa="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(i){return typeof i=="function"?i:(i[Fa]||(i[Fa]=function(l){return i.handleEvent(l)}),i[Fa])}function qe(){Xt.call(this),this.i=new ki(this),this.M=this,this.F=null}M(qe,Xt),qe.prototype[Eo]=!0,qe.prototype.removeEventListener=function(i,l,u,f){hd(this,i,l,u,f)};function He(i,l){var u,f=i.F;if(f)for(u=[];f;f=f.F)u.push(f);if(i=i.M,f=l.type||l,typeof l=="string")l=new je(l,i);else if(l instanceof je)l.target=l.target||i;else{var E=l;l=new je(f,i),v(l,E)}if(E=!0,u)for(var S=u.length-1;0<=S;S--){var F=l.g=u[S];E=Si(F,f,!0,l)&&E}if(F=l.g=i,E=Si(F,f,!0,l)&&E,E=Si(F,f,!1,l)&&E,u)for(S=0;S<u.length;S++)F=l.g=u[S],E=Si(F,f,!1,l)&&E}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var i=this.i,l;for(l in i.g){for(var u=i.g[l],f=0;f<u.length;f++)Ii(u[f]);delete i.g[l],i.h--}}this.F=null},qe.prototype.K=function(i,l,u,f){return this.i.add(String(i),l,!1,u,f)},qe.prototype.L=function(i,l,u,f){return this.i.add(String(i),l,!0,u,f)};function Si(i,l,u,f){if(l=i.i.g[String(l)],!l)return!0;l=l.concat();for(var E=!0,S=0;S<l.length;++S){var F=l[S];if(F&&!F.da&&F.capture==u){var pe=F.listener,Le=F.ha||F.src;F.fa&&Pa(i.i,F),E=pe.call(Le,f)!==!1&&E}}return E&&!f.defaultPrevented}function md(i,l,u){if(typeof i=="function")u&&(i=k(i,u));else if(i&&typeof i.handleEvent=="function")i=k(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(i,l||0)}function pd(i){i.g=md(()=>{i.g=null,i.i&&(i.i=!1,pd(i))},i.l);let l=i.h;i.h=null,i.m.apply(null,l)}class z0 extends Xt{constructor(l,u){super(),this.m=l,this.l=u,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:pd(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(i){Xt.call(this),this.h=i,this.g={}}M(To,Xt);var gd=[];function _d(i){le(i.g,function(l,u){this.g.hasOwnProperty(u)&&Na(l)},i),i.g={}}To.prototype.N=function(){To.aa.N.call(this),_d(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=c.JSON.stringify,W0=c.JSON.parse,$0=class{stringify(i){return c.JSON.stringify(i,void 0)}parse(i){return c.JSON.parse(i,void 0)}};function Ua(){}Ua.prototype.h=null;function yd(i){return i.h||(i.h=i.i())}function bd(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ja(){je.call(this,"d")}M(ja,je);function qa(){je.call(this,"c")}M(qa,je);var Ir={},vd=null;function Ri(){return vd=vd||new qe}Ir.La="serverreachability";function wd(i){je.call(this,Ir.La,i)}M(wd,je);function ko(i){let l=Ri();He(l,new wd(l))}Ir.STAT_EVENT="statevent";function Cd(i,l){je.call(this,Ir.STAT_EVENT,i),this.stat=l}M(Cd,je);function Ye(i){let l=Ri();He(l,new Cd(l,i))}Ir.Ma="timingevent";function xd(i,l){je.call(this,Ir.Ma,i),this.size=l}M(xd,je);function So(i,l){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){i()},l)}function Ro(){this.g=!0}Ro.prototype.xa=function(){this.g=!1};function G0(i,l,u,f,E,S){i.info(function(){if(i.g)if(S)for(var F="",pe=S.split("&"),Le=0;Le<pe.length;Le++){var ce=pe[Le].split("=");if(1<ce.length){var ze=ce[0];ce=ce[1];var We=ze.split("_");F=2<=We.length&&We[1]=="type"?F+(ze+"="+ce+"&"):F+(ze+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+f+") [attempt "+E+"]: "+l+`
`+u+`
`+F})}function K0(i,l,u,f,E,S,F){i.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+E+"]: "+l+`
`+u+`
`+S+" "+F})}function en(i,l,u,f){i.info(function(){return"XMLHTTP TEXT ("+l+"): "+H0(i,u)+(f?" "+f:"")})}function Q0(i,l){i.info(function(){return"TIMEOUT: "+l})}Ro.prototype.info=function(){};function H0(i,l){if(!i.g)return l;if(!l)return null;try{var u=JSON.parse(l);if(u){for(i=0;i<u.length;i++)if(Array.isArray(u[i])){var f=u[i];if(!(2>f.length)){var E=f[1];if(Array.isArray(E)&&!(1>E.length)){var S=E[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<E.length;F++)E[F]=""}}}}return Oa(u)}catch{return l}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ed={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},za;function Pi(){}M(Pi,Ua),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},za=new Pi;function Jt(i,l,u,f){this.j=i,this.i=l,this.l=u,this.R=f||1,this.U=new To(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Td}function Td(){this.i=null,this.g="",this.h=!1}var Id={},Wa={};function $a(i,l,u){i.L=1,i.v=Ni(Ft(l)),i.m=u,i.P=!0,kd(i,null)}function kd(i,l){i.F=Date.now(),Di(i),i.A=Ft(i.v);var u=i.A,f=i.R;Array.isArray(f)||(f=[String(f)]),jd(u.i,"t",f),i.C=0,u=i.j.J,i.h=new Td,i.g=ih(i.j,u?l:null,!i.m),0<i.O&&(i.M=new z0(k(i.Y,i,i.g),i.O)),l=i.U,u=i.g,f=i.ca;var E="readystatechange";Array.isArray(E)||(E&&(gd[0]=E.toString()),E=gd);for(var S=0;S<E.length;S++){var F=cd(u,E[S],f||l.handleEvent,!1,l.h||l);if(!F)break;l.g[F.key]=F}l=i.H?_(i.H):{},i.m?(i.u||(i.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,l)):(i.u="GET",i.g.ea(i.A,i.u,null,l)),ko(),G0(i.i,i.u,i.A,i.l,i.R,i.m)}Jt.prototype.ca=function(i){i=i.target;let l=this.M;l&&Lt(i)==3?l.j():this.Y(i)},Jt.prototype.Y=function(i){try{if(i==this.g)e:{let We=Lt(this.g);var l=this.g.Ba();let nn=this.g.Z();if(!(3>We)&&(We!=3||this.g&&(this.h.h||this.g.oa()||Qd(this.g)))){this.J||We!=4||l==7||(l==8||0>=nn?ko(3):ko(2)),Ga(this);var u=this.g.Z();this.X=u;t:if(Sd(this)){var f=Qd(this.g);i="";var E=f.length,S=Lt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Ao(this);var F="";break t}this.h.i=new c.TextDecoder}for(l=0;l<E;l++)this.h.h=!0,i+=this.h.i.decode(f[l],{stream:!(S&&l==E-1)});f.length=0,this.h.g+=i,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=u==200,K0(this.i,this.u,this.A,this.l,this.R,We,u),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,Le=this.g;if((pe=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(pe)){var ce=pe;break t}}ce=null}if(u=ce)en(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ka(this,u);else{this.o=!1,this.s=3,Ye(12),kr(this),Ao(this);break e}}if(this.P){u=!0;let ht;for(;!this.J&&this.C<F.length;)if(ht=Y0(this,F),ht==Wa){We==4&&(this.s=4,Ye(14),u=!1),en(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Id){this.s=4,Ye(15),en(this.i,this.l,F,"[Invalid Chunk]"),u=!1;break}else en(this.i,this.l,ht,null),Ka(this,ht);if(Sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||F.length!=0||this.h.h||(this.s=1,Ye(16),u=!1),this.o=this.o&&u,!u)en(this.i,this.l,F,"[Invalid Chunked Response]"),kr(this),Ao(this);else if(0<F.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Za(ze),ze.M=!0,Ye(11))}}else en(this.i,this.l,F,null),Ka(this,F);We==4&&kr(this),this.o&&!this.J&&(We==4?th(this.j,this):(this.o=!1,Di(this)))}else f1(this.g),u==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),kr(this),Ao(this)}}}catch{}finally{}};function Sd(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function Y0(i,l){var u=i.C,f=l.indexOf(`
`,u);return f==-1?Wa:(u=Number(l.substring(u,f)),isNaN(u)?Id:(f+=1,f+u>l.length?Wa:(l=l.slice(f,f+u),i.C=f+u,l)))}Jt.prototype.cancel=function(){this.J=!0,kr(this)};function Di(i){i.S=Date.now()+i.I,Rd(i,i.I)}function Rd(i,l){if(i.B!=null)throw Error("WatchDog timer not null");i.B=So(k(i.ba,i),l)}function Ga(i){i.B&&(c.clearTimeout(i.B),i.B=null)}Jt.prototype.ba=function(){this.B=null;let i=Date.now();0<=i-this.S?(Q0(this.i,this.A),this.L!=2&&(ko(),Ye(17)),kr(this),this.s=2,Ao(this)):Rd(this,this.S-i)};function Ao(i){i.j.G==0||i.J||th(i.j,i)}function kr(i){Ga(i);var l=i.M;l&&typeof l.ma=="function"&&l.ma(),i.M=null,_d(i.U),i.g&&(l=i.g,i.g=null,l.abort(),l.ma())}function Ka(i,l){try{var u=i.j;if(u.G!=0&&(u.g==i||Qa(u.h,i))){if(!i.K&&Qa(u.h,i)&&u.G==3){try{var f=u.Da.g.parse(l)}catch{f=null}if(Array.isArray(f)&&f.length==3){var E=f;if(E[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<i.F)Ui(u),Li(u);else break e;Ja(u),Ye(18)}}else u.za=E[1],0<u.za-u.T&&37500>E[2]&&u.F&&u.v==0&&!u.C&&(u.C=So(k(u.Za,u),6e3));if(1>=Dd(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else Rr(u,11)}else if((i.K||u.g==i)&&Ui(u),!ee(l))for(E=u.Da.g.parse(l),l=0;l<E.length;l++){let ce=E[l];if(u.T=ce[0],ce=ce[1],u.G==2)if(ce[0]=="c"){u.K=ce[1],u.ia=ce[2];let ze=ce[3];ze!=null&&(u.la=ze,u.j.info("VER="+u.la));let We=ce[4];We!=null&&(u.Aa=We,u.j.info("SVER="+u.Aa));let nn=ce[5];nn!=null&&typeof nn=="number"&&0<nn&&(f=1.5*nn,u.L=f,u.j.info("backChannelRequestTimeoutMs_="+f)),f=u;let ht=i.g;if(ht){let qi=ht.g?ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var S=f.h;S.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ha(S,S.h),S.h=null))}if(f.D){let el=ht.g?ht.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(f.ya=el,_e(f.I,f.D,el))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-i.F,u.j.info("Handshake RTT: "+u.R+"ms")),f=u;var F=i;if(f.qa=oh(f,f.J?f.ia:null,f.W),F.K){Vd(f.h,F);var pe=F,Le=f.L;Le&&(pe.I=Le),pe.B&&(Ga(pe),Di(pe)),f.g=F}else Zd(f);0<u.i.length&&Oi(u)}else ce[0]!="stop"&&ce[0]!="close"||Rr(u,7);else u.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Rr(u,7):Xa(u):ce[0]!="noop"&&u.l&&u.l.ta(ce),u.v=0)}}ko(4)}catch{}}var X0=class{constructor(i,l){this.g=i,this.map=l}};function Ad(i){this.l=i||10,c.PerformanceNavigationTiming?(i=c.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pd(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function Dd(i){return i.h?1:i.g?i.g.size:0}function Qa(i,l){return i.h?i.h==l:i.g?i.g.has(l):!1}function Ha(i,l){i.g?i.g.add(l):i.h=l}function Vd(i,l){i.h&&i.h==l?i.h=null:i.g&&i.g.has(l)&&i.g.delete(l)}Ad.prototype.cancel=function(){if(this.i=Md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let i of this.g.values())i.cancel();this.g.clear()}};function Md(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let l=i.i;for(let u of i.g.values())l=l.concat(u.D);return l}return U(i.i)}function J0(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(d(i)){for(var l=[],u=i.length,f=0;f<u;f++)l.push(i[f]);return l}l=[],u=0;for(f in i)l[u++]=i[f];return l}function Z0(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(d(i)||typeof i=="string"){var l=[];i=i.length;for(var u=0;u<i;u++)l.push(u);return l}l=[],u=0;for(let f in i)l[u++]=f;return l}}}function Nd(i,l){if(i.forEach&&typeof i.forEach=="function")i.forEach(l,void 0);else if(d(i)||typeof i=="string")Array.prototype.forEach.call(i,l,void 0);else for(var u=Z0(i),f=J0(i),E=f.length,S=0;S<E;S++)l.call(void 0,f[S],u&&u[S],i)}var Bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e1(i,l){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var f=i[u].indexOf("="),E=null;if(0<=f){var S=i[u].substring(0,f);E=i[u].substring(f+1)}else S=i[u];l(S,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Sr(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof Sr){this.h=i.h,Vi(this,i.j),this.o=i.o,this.g=i.g,Mi(this,i.s),this.l=i.l;var l=i.i,u=new Vo;u.i=l.i,l.g&&(u.g=new Map(l.g),u.h=l.h),Fd(this,u),this.m=i.m}else i&&(l=String(i).match(Bd))?(this.h=!1,Vi(this,l[1]||"",!0),this.o=Po(l[2]||""),this.g=Po(l[3]||"",!0),Mi(this,l[4]),this.l=Po(l[5]||"",!0),Fd(this,l[6]||"",!0),this.m=Po(l[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}Sr.prototype.toString=function(){var i=[],l=this.j;l&&i.push(Do(l,Ld,!0),":");var u=this.g;return(u||l=="file")&&(i.push("//"),(l=this.o)&&i.push(Do(l,Ld,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&i.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&i.push("/"),i.push(Do(u,u.charAt(0)=="/"?n1:r1,!0))),(u=this.i.toString())&&i.push("?",u),(u=this.m)&&i.push("#",Do(u,i1)),i.join("")};function Ft(i){return new Sr(i)}function Vi(i,l,u){i.j=u?Po(l,!0):l,i.j&&(i.j=i.j.replace(/:$/,""))}function Mi(i,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);i.s=l}else i.s=null}function Fd(i,l,u){l instanceof Vo?(i.i=l,s1(i.i,i.h)):(u||(l=Do(l,o1)),i.i=new Vo(l,i.h))}function _e(i,l,u){i.i.set(l,u)}function Ni(i){return _e(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Po(i,l){return i?l?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Do(i,l,u){return typeof i=="string"?(i=encodeURI(i).replace(l,t1),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function t1(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Ld=/[#\/\?@]/g,r1=/[#\?:]/g,n1=/[#\?]/g,o1=/[#\?@]/g,i1=/#/g;function Vo(i,l){this.h=this.g=null,this.i=i||null,this.j=!!l}function Zt(i){i.g||(i.g=new Map,i.h=0,i.i&&e1(i.i,function(l,u){i.add(decodeURIComponent(l.replace(/\+/g," ")),u)}))}r=Vo.prototype,r.add=function(i,l){Zt(this),this.i=null,i=tn(this,i);var u=this.g.get(i);return u||this.g.set(i,u=[]),u.push(l),this.h+=1,this};function Od(i,l){Zt(i),l=tn(i,l),i.g.has(l)&&(i.i=null,i.h-=i.g.get(l).length,i.g.delete(l))}function Ud(i,l){return Zt(i),l=tn(i,l),i.g.has(l)}r.forEach=function(i,l){Zt(this),this.g.forEach(function(u,f){u.forEach(function(E){i.call(l,E,f,this)},this)},this)},r.na=function(){Zt(this);let i=Array.from(this.g.values()),l=Array.from(this.g.keys()),u=[];for(let f=0;f<l.length;f++){let E=i[f];for(let S=0;S<E.length;S++)u.push(l[f])}return u},r.V=function(i){Zt(this);let l=[];if(typeof i=="string")Ud(this,i)&&(l=l.concat(this.g.get(tn(this,i))));else{i=Array.from(this.g.values());for(let u=0;u<i.length;u++)l=l.concat(i[u])}return l},r.set=function(i,l){return Zt(this),this.i=null,i=tn(this,i),Ud(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[l]),this.h+=1,this},r.get=function(i,l){return i?(i=this.V(i),0<i.length?String(i[0]):l):l};function jd(i,l,u){Od(i,l),0<u.length&&(i.i=null,i.g.set(tn(i,l),U(u)),i.h+=u.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let i=[],l=Array.from(this.g.keys());for(var u=0;u<l.length;u++){var f=l[u];let S=encodeURIComponent(String(f)),F=this.V(f);for(f=0;f<F.length;f++){var E=S;F[f]!==""&&(E+="="+encodeURIComponent(String(F[f]))),i.push(E)}}return this.i=i.join("&")};function tn(i,l){return l=String(l),i.j&&(l=l.toLowerCase()),l}function s1(i,l){l&&!i.j&&(Zt(i),i.i=null,i.g.forEach(function(u,f){var E=f.toLowerCase();f!=E&&(Od(this,f),jd(this,E,u))},i)),i.j=l}function a1(i,l){let u=new Ro;if(c.Image){let f=new Image;f.onload=A(er,u,"TestLoadImage: loaded",!0,l,f),f.onerror=A(er,u,"TestLoadImage: error",!1,l,f),f.onabort=A(er,u,"TestLoadImage: abort",!1,l,f),f.ontimeout=A(er,u,"TestLoadImage: timeout",!1,l,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=i}else l(!1)}function l1(i,l){let u=new Ro,f=new AbortController,E=setTimeout(()=>{f.abort(),er(u,"TestPingServer: timeout",!1,l)},1e4);fetch(i,{signal:f.signal}).then(S=>{clearTimeout(E),S.ok?er(u,"TestPingServer: ok",!0,l):er(u,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(E),er(u,"TestPingServer: error",!1,l)})}function er(i,l,u,f,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),f(u)}catch{}}function c1(){this.g=new $0}function u1(i,l,u){let f=u||"";try{Nd(i,function(E,S){let F=E;p(E)&&(F=Oa(E)),l.push(f+S+"="+encodeURIComponent(F))})}catch(E){throw l.push(f+"type="+encodeURIComponent("_badmap")),E}}function Mo(i){this.l=i.Ub||null,this.j=i.eb||!1}M(Mo,Ua),Mo.prototype.g=function(){return new Bi(this.l,this.j)},Mo.prototype.i=function(i){return function(){return i}}({});function Bi(i,l){qe.call(this),this.D=i,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Bi,qe),r=Bi.prototype,r.open=function(i,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=l,this.readyState=1,Bo(this)},r.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(l.body=i),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},r.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qd(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function qd(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}r.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var l=i.value?i.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!i.done}))&&(this.response=this.responseText+=l)}i.done?No(this):Bo(this),this.readyState==3&&qd(this)}},r.Ra=function(i){this.g&&(this.response=this.responseText=i,No(this))},r.Qa=function(i){this.g&&(this.response=i,No(this))},r.ga=function(){this.g&&No(this)};function No(i){i.readyState=4,i.l=null,i.j=null,i.v=null,Bo(i)}r.setRequestHeader=function(i,l){this.u.append(i,l)},r.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let i=[],l=this.h.entries();for(var u=l.next();!u.done;)u=u.value,i.push(u[0]+": "+u[1]),u=l.next();return i.join(`\r
`)};function Bo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function zd(i){let l="";return le(i,function(u,f){l+=f,l+=":",l+=u,l+=`\r
`}),l}function Ya(i,l,u){e:{for(f in u){var f=!1;break e}f=!0}f||(u=zd(u),typeof i=="string"?u!=null&&encodeURIComponent(String(u)):_e(i,l,u))}function Ee(i){qe.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ee,qe);var d1=/^https?$/i,h1=["POST","PUT"];r=Ee.prototype,r.Ha=function(i){this.J=i},r.ea=function(i,l,u,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);l=l?l.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():za.g(),this.v=this.o?yd(this.o):yd(za),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(l,String(i),!0),this.B=!1}catch(S){Wd(this,S);return}if(i=u||"",u=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var E in f)u.set(E,f[E]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let S of f.keys())u.set(S,f.get(S));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(u.keys()).find(S=>S.toLowerCase()=="content-type"),E=c.FormData&&i instanceof c.FormData,!(0<=Array.prototype.indexOf.call(h1,l,void 0))||f||E||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of u)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kd(this),this.u=!0,this.g.send(i),this.u=!1}catch(S){Wd(this,S)}};function Wd(i,l){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=l,i.m=5,$d(i),Fi(i)}function $d(i){i.A||(i.A=!0,He(i,"complete"),He(i,"error"))}r.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,He(this,"complete"),He(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Ee.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Gd(this):this.bb())},r.bb=function(){Gd(this)};function Gd(i){if(i.h&&typeof a<"u"&&(!i.v[1]||Lt(i)!=4||i.Z()!=2)){if(i.u&&Lt(i)==4)md(i.Ea,0,i);else if(He(i,"readystatechange"),Lt(i)==4){i.h=!1;try{let F=i.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var u;if(!(u=l)){var f;if(f=F===0){var E=String(i.D).match(Bd)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),f=!d1.test(E?E.toLowerCase():"")}u=f}if(u)He(i,"complete"),He(i,"success");else{i.m=6;try{var S=2<Lt(i)?i.g.statusText:""}catch{S=""}i.l=S+" ["+i.Z()+"]",$d(i)}}finally{Fi(i)}}}}function Fi(i,l){if(i.g){Kd(i);let u=i.g,f=i.v[0]?()=>{}:null;i.g=null,i.v=null,l||He(i,"ready");try{u.onreadystatechange=f}catch{}}}function Kd(i){i.I&&(c.clearTimeout(i.I),i.I=null)}r.isActive=function(){return!!this.g};function Lt(i){return i.g?i.g.readyState:0}r.Z=function(){try{return 2<Lt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(i){if(this.g){var l=this.g.responseText;return i&&l.indexOf(i)==0&&(l=l.substring(i.length)),W0(l)}};function Qd(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function f1(i){let l={};i=(i.g&&2<=Lt(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<i.length;f++){if(ee(i[f]))continue;var u=C(i[f]);let E=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let S=l[E]||[];l[E]=S,S.push(u)}w(l,function(f){return f.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(i,l,u){return u&&u.internalChannelParams&&u.internalChannelParams[i]||l}function Hd(i){this.Aa=0,this.i=[],this.j=new Ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,i),this.cb=Fo("retryDelaySeedMs",1e4,i),this.Wa=Fo("forwardChannelMaxRetries",2,i),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new Ad(i&&i.concurrentRequestLimit),this.Da=new c1,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hd.prototype,r.la=8,r.G=1,r.connect=function(i,l,u,f){Ye(0),this.W=i,this.H=l||{},u&&f!==void 0&&(this.H.OSID=u,this.H.OAID=f),this.F=this.X,this.I=oh(this,null,this.W),Oi(this)};function Xa(i){if(Yd(i),i.G==3){var l=i.U++,u=Ft(i.I);if(_e(u,"SID",i.K),_e(u,"RID",l),_e(u,"TYPE","terminate"),Lo(i,u),l=new Jt(i,i.j,l),l.L=2,l.v=Ni(Ft(u)),u=!1,c.navigator&&c.navigator.sendBeacon)try{u=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!u&&c.Image&&(new Image().src=l.v,u=!0),u||(l.g=ih(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Di(l)}nh(i)}function Li(i){i.g&&(Za(i),i.g.cancel(),i.g=null)}function Yd(i){Li(i),i.u&&(c.clearTimeout(i.u),i.u=null),Ui(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&c.clearTimeout(i.s),i.s=null)}function Oi(i){if(!Pd(i.h)&&!i.s){i.s=!0;var l=i.Ga;wo||ld(),Co||(wo(),Co=!0),Aa.add(l,i),i.B=0}}function m1(i,l){return Dd(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=l.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=So(k(i.Ga,i,l),rh(i,i.B)),i.B++,!0)}r.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;let E=new Jt(this,this.j,i),S=this.o;if(this.S&&(S?(S=_(S),v(S,this.S)):S=this.S),this.m!==null||this.O||(E.H=S,S=null),this.P)e:{for(var l=0,u=0;u<this.i.length;u++){t:{var f=this.i[u];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(l+=f,4096<l){l=u;break e}if(l===4096||u===this.i.length-1){l=u+1;break e}}l=1e3}else l=1e3;l=Jd(this,E,l),u=Ft(this.I),_e(u,"RID",i),_e(u,"CVER",22),this.D&&_e(u,"X-HTTP-Session-Id",this.D),Lo(this,u),S&&(this.O?l="headers="+encodeURIComponent(String(zd(S)))+"&"+l:this.m&&Ya(u,this.m,S)),Ha(this.h,E),this.Ua&&_e(u,"TYPE","init"),this.P?(_e(u,"$req",l),_e(u,"SID","null"),E.T=!0,$a(E,u,null)):$a(E,u,l),this.G=2}}else this.G==3&&(i?Xd(this,i):this.i.length==0||Pd(this.h)||Xd(this))};function Xd(i,l){var u;l?u=l.l:u=i.U++;let f=Ft(i.I);_e(f,"SID",i.K),_e(f,"RID",u),_e(f,"AID",i.T),Lo(i,f),i.m&&i.o&&Ya(f,i.m,i.o),u=new Jt(i,i.j,u,i.B+1),i.m===null&&(u.H=i.o),l&&(i.i=l.D.concat(i.i)),l=Jd(i,u,1e3),u.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),Ha(i.h,u),$a(u,f,l)}function Lo(i,l){i.H&&le(i.H,function(u,f){_e(l,f,u)}),i.l&&Nd({},function(u,f){_e(l,f,u)})}function Jd(i,l,u){u=Math.min(i.i.length,u);var f=i.l?k(i.l.Na,i.l,i):null;e:{var E=i.i;let S=-1;for(;;){let F=["count="+u];S==-1?0<u?(S=E[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let pe=!0;for(let Le=0;Le<u;Le++){let ce=E[Le].g,ze=E[Le].map;if(ce-=S,0>ce)S=Math.max(0,E[Le].g-100),pe=!1;else try{u1(ze,F,"req"+ce+"_")}catch{f&&f(ze)}}if(pe){f=F.join("&");break e}}}return i=i.i.splice(0,u),l.D=i,f}function Zd(i){if(!i.g&&!i.u){i.Y=1;var l=i.Fa;wo||ld(),Co||(wo(),Co=!0),Aa.add(l,i),i.v=0}}function Ja(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=So(k(i.Fa,i),rh(i,i.v)),i.v++,!0)}r.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=So(k(this.ab,this),i)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Li(this),eh(this))};function Za(i){i.A!=null&&(c.clearTimeout(i.A),i.A=null)}function eh(i){i.g=new Jt(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var l=Ft(i.qa);_e(l,"RID","rpc"),_e(l,"SID",i.K),_e(l,"AID",i.T),_e(l,"CI",i.F?"0":"1"),!i.F&&i.ja&&_e(l,"TO",i.ja),_e(l,"TYPE","xmlhttp"),Lo(i,l),i.m&&i.o&&Ya(l,i.m,i.o),i.L&&(i.g.I=i.L);var u=i.g;i=i.ia,u.L=1,u.v=Ni(Ft(l)),u.m=null,u.P=!0,kd(u,i)}r.Za=function(){this.C!=null&&(this.C=null,Li(this),Ja(this),Ye(19))};function Ui(i){i.C!=null&&(c.clearTimeout(i.C),i.C=null)}function th(i,l){var u=null;if(i.g==l){Ui(i),Za(i),i.g=null;var f=2}else if(Qa(i.h,l))u=l.D,Vd(i.h,l),f=1;else return;if(i.G!=0){if(l.o)if(f==1){u=l.m?l.m.length:0,l=Date.now()-l.F;var E=i.B;f=Ri(),He(f,new xd(f,u)),Oi(i)}else Zd(i);else if(E=l.s,E==3||E==0&&0<l.X||!(f==1&&m1(i,l)||f==2&&Ja(i)))switch(u&&0<u.length&&(l=i.h,l.i=l.i.concat(u)),E){case 1:Rr(i,5);break;case 4:Rr(i,10);break;case 3:Rr(i,6);break;default:Rr(i,2)}}}function rh(i,l){let u=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(u*=2),u*l}function Rr(i,l){if(i.j.info("Error code "+l),l==2){var u=k(i.fb,i),f=i.Xa;let E=!f;f=new Sr(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Vi(f,"https"),Ni(f),E?a1(f.toString(),u):l1(f.toString(),u)}else Ye(2);i.G=0,i.l&&i.l.sa(l),nh(i),Yd(i)}r.fb=function(i){i?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function nh(i){if(i.G=0,i.ka=[],i.l){let l=Md(i.h);(l.length!=0||i.i.length!=0)&&(V(i.ka,l),V(i.ka,i.i),i.h.i.length=0,U(i.i),i.i.length=0),i.l.ra()}}function oh(i,l,u){var f=u instanceof Sr?Ft(u):new Sr(u);if(f.g!="")l&&(f.g=l+"."+f.g),Mi(f,f.s);else{var E=c.location;f=E.protocol,l=l?l+"."+E.hostname:E.hostname,E=+E.port;var S=new Sr(null);f&&Vi(S,f),l&&(S.g=l),E&&Mi(S,E),u&&(S.l=u),f=S}return u=i.D,l=i.ya,u&&l&&_e(f,u,l),_e(f,"VER",i.la),Lo(i,f),f}function ih(i,l,u){if(l&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=i.Ca&&!i.pa?new Ee(new Mo({eb:u})):new Ee(i.pa),l.Ha(i.J),l}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}r=sh.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ji(){}ji.prototype.g=function(i,l){return new tt(i,l)};function tt(i,l){qe.call(this),this.g=new Hd(l),this.l=i,this.h=l&&l.messageUrlParams||null,i=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(i?i["X-WebChannel-Content-Type"]=l.messageContentType:i={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(i?i["X-WebChannel-Client-Profile"]=l.va:i={"X-WebChannel-Client-Profile":l.va}),this.g.S=i,(i=l&&l.Sb)&&!ee(i)&&(this.g.m=i),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!ee(l)&&(this.g.D=l,i=this.h,i!==null&&l in i&&(i=this.h,l in i&&delete i[l])),this.j=new rn(this)}M(tt,qe),tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tt.prototype.close=function(){Xa(this.g)},tt.prototype.o=function(i){var l=this.g;if(typeof i=="string"){var u={};u.__data__=i,i=u}else this.u&&(u={},u.__data__=Oa(i),i=u);l.i.push(new X0(l.Ya++,i)),l.G==3&&Oi(l)},tt.prototype.N=function(){this.g.l=null,delete this.j,Xa(this.g),delete this.g,tt.aa.N.call(this)};function ah(i){ja.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var l=i.__sm__;if(l){e:{for(let u in l){i=u;break e}i=void 0}(this.i=i)&&(i=this.i,l=l!==null&&i in l?l[i]:void 0),this.data=l}else this.data=i}M(ah,ja);function lh(){qa.call(this),this.status=1}M(lh,qa);function rn(i){this.g=i}M(rn,sh),rn.prototype.ua=function(){He(this.g,"a")},rn.prototype.ta=function(i){He(this.g,new ah(i))},rn.prototype.sa=function(i){He(this.g,new lh)},rn.prototype.ra=function(){He(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,tt.prototype.send=tt.prototype.o,tt.prototype.open=tt.prototype.m,tt.prototype.close=tt.prototype.close,wl=$t.createWebChannelTransport=function(){return new ji},vl=$t.getStatEventTarget=function(){return Ri()},bl=$t.Event=Ir,fs=$t.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,zo=$t.ErrorCode=Ai,Ed.COMPLETE="complete",yl=$t.EventType=Ed,bd.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",qe.prototype.listen=qe.prototype.K,Un=$t.WebChannel=bd,V1=$t.FetchXmlHttpFactory=Mo,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,_l=$t.XhrIo=Ee}).apply(typeof hs<"u"?hs:typeof self<"u"?self:typeof window<"u"?window:{});var ep="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var lo="10.14.0";var Fr=new Oh("@firebase/firestore");function Wo(){return Fr.logLevel}function W(r,...e){if(Fr.logLevel<=zt.DEBUG){let t=e.map(lu);Fr.debug(`Firestore (${lo}): ${r}`,...t)}}function Kt(r,...e){if(Fr.logLevel<=zt.ERROR){let t=e.map(lu);Fr.error(`Firestore (${lo}): ${r}`,...t)}}function Qn(r,...e){if(Fr.logLevel<=zt.WARN){let t=e.map(lu);Fr.warn(`Firestore (${lo}): ${r}`,...t)}}function lu(r){if(typeof r=="string")return r;try{return function(t){return JSON.stringify(t)}(r)}catch{return r}}function H(r="Unexpected state"){let e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+r;throw Kt(e),new Error(e)}function me(r,e){r||H()}function X(r,e){return r}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var St=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ys=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Il=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fe.UNAUTHENTICATED))}shutdown(){}},kl=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Sl=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){me(this.o===void 0);let n=this.i,o=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve(),s=new St;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new St,e.enqueueRetryable(()=>o(this.currentUser))};let a=()=>{let d=s;e.enqueueRetryable(()=>L(this,null,function*(){yield d.promise,yield o(this.currentUser)}))},c=d=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?c(d):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new St)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(me(typeof n.accessToken=="string"),new ys(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new Fe(e)}},Rl=class{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Al=class{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Rl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Pl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dl=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){me(this.o===void 0);let n=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};let o=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?o(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(me(typeof t.token=="string"),this.R=t.token,new Pl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function M1(r){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}var bs=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let o=M1(40);for(let s=0;s<o.length;++s)n.length<20&&o[s]<t&&(n+=e.charAt(o[s]%e.length))}return n}};function ue(r,e){return r<e?-1:r>e?1:0}function Hn(r,e,t){return r.length===e.length&&r.every((n,o)=>t(n,e[o]))}var Oe=class r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new z(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return r.fromMillis(Date.now())}static fromDate(e){return r.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new r(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class r{constructor(e){this.timestamp=e}static fromTimestamp(e){return new r(e)}static min(){return new r(new Oe(0,0))}static max(){return new r(new Oe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vs=class r{constructor(e,t,n){t===void 0?t=0:t>e.length&&H(),n===void 0?n=e.length-t:n>e.length-t&&H(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let o=0;o<n;o++){let s=e.get(o),a=t.get(o);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ce=class r extends vs{construct(e,t,n){return new r(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new z(D.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(o=>o.length>0))}return new r(t)}static emptyPath(){return new r([])}},N1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=class r extends vs{construct(e,t,n){return new r(e,t,n)}static isValidIdentifier(e){return N1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new r(["__name__"])}static fromServerFormat(e){let t=[],n="",o=0,s=()=>{if(n.length===0)throw new z(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},a=!1;for(;o<e.length;){let c=e[o];if(c==="\\"){if(o+1===e.length)throw new z(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new z(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,o+=2}else c==="`"?(a=!a,o++):c!=="."||a?(n+=c,o++):(s(),o++)}if(s(),a)throw new z(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new r(t)}static emptyPath(){return new r([])}};var G=class r{constructor(e){this.path=e}static fromPath(e){return new r(Ce.fromString(e))}static fromName(e){return new r(Ce.fromString(e).popFirst(5))}static empty(){return new r(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new Ce(e.slice()))}};var Vl=class{constructor(e,t,n,o){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=o}};Vl.UNKNOWN_ID=-1;function B1(r,e){let t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=re.fromTimestamp(n===1e9?new Oe(t+1,0):new Oe(t,n));return new Lr(o,G.empty(),e)}function F1(r){return new Lr(r.readTime,r.key,-1)}var Lr=class r{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new r(re.min(),G.empty(),-1)}static max(){return new r(re.max(),G.empty(),-1)}};function L1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(r.documentKey,e.documentKey),t!==0?t:ue(r.largestBatchId,e.largestBatchId))}var O1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ml=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ci(r){return L(this,null,function*(){if(r.code!==D.FAILED_PRECONDITION||r.message!==O1)throw r;W("LocalStore","Unexpectedly lost primary lease")})}var B=class r{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new r((n,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,o)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof r?t:r.resolve(t)}catch(t){return r.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):r.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):r.reject(t)}static resolve(e){return new r((t,n)=>{t(e)})}static reject(e){return new r((t,n)=>{n(e)})}static waitFor(e){return new r((t,n)=>{let o=0,s=0,a=!1;e.forEach(c=>{++o,c.next(()=>{++s,a&&s===o&&t()},d=>n(d))}),a=!0,s===o&&t()})}static or(e){let t=r.resolve(!1);for(let n of e)t=t.next(o=>o?r.resolve(o):n());return t}static forEach(e,t){let n=[];return e.forEach((o,s)=>{n.push(t.call(this,o,s))}),this.waitFor(n)}static mapArray(e,t){return new r((n,o)=>{let s=e.length,a=new Array(s),c=0;for(let d=0;d<s;d++){let p=d;t(e[p]).next(g=>{a[p]=g,++c,c===s&&n(a)},g=>o(g))}})}static doWhile(e,t){return new r((n,o)=>{let s=()=>{e()===!0?t().next(()=>{s()},o):n()};s()})}};function U1(r){let e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ui(r){return r.name==="IndexedDbTransactionError"}var Mp=(()=>{class r{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=o=>this.ie(o),this.se=o=>n.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return r.oe=-1,r})();function Ks(r){return r==null}function Yo(r){return r===0&&1/r==-1/0}function j1(r){return typeof r=="number"&&Number.isInteger(r)&&!Yo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}var q1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cT=[...q1,"documentOverlays"],z1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],W1=z1,$1=[...W1,"indexConfiguration","indexState","indexEntries"];var uT=[...$1,"globals"];function tp(r){let e=0;for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Gr(r,e){for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Np(r){for(let e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}var ke=class r{constructor(e,t){this.comparator=e,this.root=t||Rt.EMPTY}insert(e,t){return new r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wn(this.root,e,this.comparator,!0)}},Wn=class{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rt=class r{constructor(e,t,n,o,s){this.key=e,this.value=t,this.color=n??r.RED,this.left=o??r.EMPTY,this.right=s??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,s){return new r(e??this.key,t??this.value,n??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this,s=n(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,t,n),null):s===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return r.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();let e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,t,n,o,s){return this}insert(e,t,n){return new Rt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class r{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ws(this.data.getIterator())}getIteratorFrom(e){return new ws(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let o=t.getNext().key,s=n.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new r(this.comparator);return t.data=e,t}},ws=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ut=class r{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new r([])}unionWith(e){let t=new Ge(ot.comparator);for(let n of this.fields)t=t.add(n);for(let n of e)t=t.add(n);return new r(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hn(this.fields,e.fields,(t,n)=>t.isEqual(n))}};var Cs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ke=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cs("Invalid base64 string: "+s):s}}(e);return new r(t)}static fromUint8Array(e){let t=function(o){let s="";for(let a=0;a<o.length;++a)s+=String.fromCharCode(o[a]);return s}(e);return new r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ke.EMPTY_BYTE_STRING=new Ke("");var G1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qt(r){if(me(!!r),typeof r=="string"){let e=0,t=G1.exec(r);if(me(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}let n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}function cu(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function uu(r){let e=r.mapValue.fields.__previous_value__;return cu(e)?uu(e):e}function Xo(r){let e=Qt(r.mapValue.fields.__local_write_time__.timestampValue);return new Oe(e.seconds,e.nanos)}var Nl=class{constructor(e,t,n,o,s,a,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}},xs=class r{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new r("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};var ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cu(r)?4:Fp(r)?9007199254740991:Bp(r)?10:11:H()}function Dt(r,e){if(r===e)return!0;let t=Or(r);if(t!==Or(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xo(r).isEqual(Xo(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;let a=Qt(o.timestampValue),c=Qt(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,s){return wr(o.bytesValue).isEqual(wr(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,s){return ve(o.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(r,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return ve(o.integerValue)===ve(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){let a=ve(o.doubleValue),c=ve(s.doubleValue);return a===c?Yo(a)===Yo(c):isNaN(a)&&isNaN(c)}return!1}(r,e);case 9:return Hn(r.arrayValue.values||[],e.arrayValue.values||[],Dt);case 10:case 11:return function(o,s){let a=o.mapValue.fields||{},c=s.mapValue.fields||{};if(tp(a)!==tp(c))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!Dt(a[d],c[d])))return!1;return!0}(r,e);default:return H()}}function Jo(r,e){return(r.values||[]).find(t=>Dt(t,e))!==void 0}function Yn(r,e){if(r===e)return 0;let t=Or(r),n=Or(e);if(t!==n)return ue(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(r.booleanValue,e.booleanValue);case 2:return function(s,a){let c=ve(s.integerValue||s.doubleValue),d=ve(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return rp(r.timestampValue,e.timestampValue);case 4:return rp(Xo(r),Xo(e));case 5:return ue(r.stringValue,e.stringValue);case 6:return function(s,a){let c=wr(s),d=wr(a);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(s,a){let c=s.split("/"),d=a.split("/");for(let p=0;p<c.length&&p<d.length;p++){let g=ue(c[p],d[p]);if(g!==0)return g}return ue(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,a){let c=ue(ve(s.latitude),ve(a.latitude));return c!==0?c:ue(ve(s.longitude),ve(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return np(r.arrayValue,e.arrayValue);case 10:return function(s,a){var c,d,p,g;let T=s.fields||{},k=a.fields||{},A=(c=T.value)===null||c===void 0?void 0:c.arrayValue,M=(d=k.value)===null||d===void 0?void 0:d.arrayValue,U=ue(((p=A?.values)===null||p===void 0?void 0:p.length)||0,((g=M?.values)===null||g===void 0?void 0:g.length)||0);return U!==0?U:np(A,M)}(r.mapValue,e.mapValue);case 11:return function(s,a){if(s===ms.mapValue&&a===ms.mapValue)return 0;if(s===ms.mapValue)return 1;if(a===ms.mapValue)return-1;let c=s.fields||{},d=Object.keys(c),p=a.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let T=0;T<d.length&&T<g.length;++T){let k=ue(d[T],g[T]);if(k!==0)return k;let A=Yn(c[d[T]],p[g[T]]);if(A!==0)return A}return ue(d.length,g.length)}(r.mapValue,e.mapValue);default:throw H()}}function rp(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ue(r,e);let t=Qt(r),n=Qt(e),o=ue(t.seconds,n.seconds);return o!==0?o:ue(t.nanos,n.nanos)}function np(r,e){let t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){let s=Yn(t[o],n[o]);if(s)return s}return ue(t.length,n.length)}function Xn(r){return Bl(r)}function Bl(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){let n=Qt(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return wr(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return G.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",o=!0;for(let s of t.values||[])o?o=!1:n+=",",n+=Bl(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){let n=Object.keys(t.fields||{}).sort(),o="{",s=!0;for(let a of n)s?s=!1:o+=",",o+=`${a}:${Bl(t.fields[a])}`;return o+"}"}(r.mapValue):H()}function op(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fl(r){return!!r&&"integerValue"in r}function du(r){return!!r&&"arrayValue"in r}function ip(r){return!!r&&"nullValue"in r}function sp(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gs(r){return!!r&&"mapValue"in r}function Bp(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Go(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){let e={mapValue:{fields:{}}};return Gr(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Go(n)),e}if(r.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Go(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Fp(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nt=class r{constructor(e){this.value=e}static empty(){return new r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(t)}setAll(e){let t=ot.emptyPath(),n={},o=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){let d=this.getFieldsMap(t);this.applyChanges(d,n,o),n={},o=[],t=c.popLast()}a?n[c.lastSegment()]=Go(a):o.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,n,o)}delete(e){let t=this.field(e.popLast());gs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];gs(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){Gr(t,(o,s)=>e[o]=s);for(let o of n)delete e[o]}clone(){return new r(Go(this.value))}};function Lp(r){let e=[];return Gr(r.fields,(t,n)=>{let o=new ot([t]);if(gs(n)){let s=Lp(n.mapValue).fields;if(s.length===0)e.push(o);else for(let a of s)e.push(o.child(a))}else e.push(o)}),new ut(e)}var ft=class r{constructor(e,t,n,o,s,a,c){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new r(e,0,re.min(),re.min(),re.min(),nt.empty(),0)}static newFoundDocument(e,t,n,o){return new r(e,1,t,re.min(),n,o,0)}static newNoDocument(e,t){return new r(e,2,t,re.min(),re.min(),nt.empty(),0)}static newUnknownDocument(e,t){return new r(e,3,t,re.min(),re.min(),nt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jn=class{constructor(e,t){this.position=e,this.inclusive=t}};function ap(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){let s=e[o],a=r.position[o];if(s.field.isKeyField()?n=G.comparator(G.fromName(a.referenceValue),t.key):n=Yn(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function lp(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Dt(r.position[t],e.position[t]))return!1;return!0}var Zn=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function K1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}var Es=class{},De=class r extends Es{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Ol(e,t,n):t==="array-contains"?new ql(e,n):t==="in"?new zl(e,n):t==="not-in"?new Wl(e,n):t==="array-contains-any"?new $l(e,n):new r(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Ul(e,n):new jl(e,n)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yn(t,this.value)):t!==null&&Or(this.value)===Or(t)&&this.matchesComparison(Yn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mt=class r extends Es{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new r(e,t)}matches(e){return Op(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Op(r){return r.op==="and"}function Up(r){return Q1(r)&&Op(r)}function Q1(r){for(let e of r.filters)if(e instanceof mt)return!1;return!0}function Ll(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+Xn(r.value);if(Up(r))return r.filters.map(e=>Ll(e)).join(",");{let e=r.filters.map(t=>Ll(t)).join(",");return`${r.op}(${e})`}}function jp(r,e){return r instanceof De?function(n,o){return o instanceof De&&n.op===o.op&&n.field.isEqual(o.field)&&Dt(n.value,o.value)}(r,e):r instanceof mt?function(n,o){return o instanceof mt&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce((s,a,c)=>s&&jp(a,o.filters[c]),!0):!1}(r,e):void H()}function qp(r){return r instanceof De?function(t){return`${t.field.canonicalString()} ${t.op} ${Xn(t.value)}`}(r):r instanceof mt?function(t){return t.op.toString()+" {"+t.getFilters().map(qp).join(" ,")+"}"}(r):"Filter"}var Ol=class extends De{constructor(e,t,n){super(e,t,n),this.key=G.fromName(n.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},Ul=class extends De{constructor(e,t){super(e,"in",t),this.keys=zp("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},jl=class extends De{constructor(e,t){super(e,"not-in",t),this.keys=zp("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zp(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>G.fromName(n.referenceValue))}var ql=class extends De{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return du(t)&&Jo(t.arrayValue,this.value)}},zl=class extends De{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Jo(this.value.arrayValue,t)}},Wl=class extends De{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Jo(this.value.arrayValue,t)}},$l=class extends De{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!du(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Jo(this.value.arrayValue,n))}};var Gl=class{constructor(e,t=null,n=[],o=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}};function cp(r,e=null,t=[],n=[],o=null,s=null,a=null){return new Gl(r,e,t,n,o,s,a)}function hu(r){let e=X(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Ll(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Ks(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Xn(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Xn(n)).join(",")),e.ue=t}return e.ue}function fu(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!K1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!jp(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lp(r.startAt,e.startAt)&&lp(r.endAt,e.endAt)}function Kl(r){return G.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}var Ur=class{constructor(e,t=null,n=[],o=[],s=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function H1(r,e,t,n,o,s,a,c){return new Ur(r,e,t,n,o,s,a,c)}function Wp(r){return new Ur(r)}function up(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $p(r){return r.collectionGroup!==null}function Ko(r){let e=X(r);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Ge(ot.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zn(s,n))}),t.has(ot.keyField().canonicalString())||e.ce.push(new Zn(ot.keyField(),n))}return e.ce}function At(r){let e=X(r);return e.le||(e.le=Y1(e,Ko(r))),e.le}function Y1(r,e){if(r.limitType==="F")return cp(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{let s=o.dir==="desc"?"asc":"desc";return new Zn(o.field,s)});let t=r.endAt?new Jn(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Jn(r.startAt.position,r.startAt.inclusive):null;return cp(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Ql(r,e){let t=r.filters.concat([e]);return new Ur(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Hl(r,e,t){return new Ur(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qs(r,e){return fu(At(r),At(e))&&r.limitType===e.limitType}function Gp(r){return`${hu(At(r))}|lt:${r.limitType}`}function jn(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(o=>qp(o)).join(", ")}]`),Ks(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(o=>Xn(o)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(o=>Xn(o)).join(",")),`Target(${n})`}(At(r))}; limitType=${r.limitType})`}function Hs(r,e){return e.isFoundDocument()&&function(n,o){let s=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):G.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,o){for(let s of Ko(n))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,o){for(let s of n.filters)if(!s.matches(o))return!1;return!0}(r,e)&&function(n,o){return!(n.startAt&&!function(a,c,d){let p=ap(a,c,d);return a.inclusive?p<=0:p<0}(n.startAt,Ko(n),o)||n.endAt&&!function(a,c,d){let p=ap(a,c,d);return a.inclusive?p>=0:p>0}(n.endAt,Ko(n),o))}(r,e)}function X1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Kp(r){return(e,t)=>{let n=!1;for(let o of Ko(r)){let s=J1(o,e,t);if(s!==0)return s;n=n||o.field.isKeyField()}return 0}}function J1(r,e,t){let n=r.field.isKeyField()?G.comparator(e.key,t.key):function(s,a,c){let d=a.data.field(s),p=c.data.field(s);return d!==null&&p!==null?Yn(d,p):H()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return H()}}var Cr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[o,s]of n)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(t,n)=>{for(let[o,s]of n)e(o,s)})}isEmpty(){return Np(this.inner)}size(){return this.innerSize}};var Z1=new ke(G.comparator);function Ht(){return Z1}var Qp=new ke(G.comparator);function $o(...r){let e=Qp;for(let t of r)e=e.insert(t.key,t);return e}function Hp(r){let e=Qp;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Nr(){return Qo()}function Yp(){return Qo()}function Qo(){return new Cr(r=>r.toString(),(r,e)=>r.isEqual(e))}var e_=new ke(G.comparator),t_=new Ge(G.comparator);function oe(...r){let e=t_;for(let t of r)e=e.add(t);return e}var r_=new Ge(ue);function n_(){return r_}function mu(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function Xp(r){return{integerValue:""+r}}function o_(r,e){return j1(e)?Xp(e):mu(r,e)}var eo=class{constructor(){this._=void 0}};function i_(r,e,t){return r instanceof to?function(o,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&cu(s)&&(s=uu(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):r instanceof jr?Zp(r,e):r instanceof qr?eg(r,e):function(o,s){let a=Jp(o,s),c=dp(a)+dp(o.Pe);return Fl(a)&&Fl(o.Pe)?Xp(c):mu(o.serializer,c)}(r,e)}function s_(r,e,t){return r instanceof jr?Zp(r,e):r instanceof qr?eg(r,e):t}function Jp(r,e){return r instanceof ro?function(n){return Fl(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}var to=class extends eo{},jr=class extends eo{constructor(e){super(),this.elements=e}};function Zp(r,e){let t=tg(e);for(let n of r.elements)t.some(o=>Dt(o,n))||t.push(n);return{arrayValue:{values:t}}}var qr=class extends eo{constructor(e){super(),this.elements=e}};function eg(r,e){let t=tg(e);for(let n of r.elements)t=t.filter(o=>!Dt(o,n));return{arrayValue:{values:t}}}var ro=class extends eo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function dp(r){return ve(r.integerValue||r.doubleValue)}function tg(r){return du(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function a_(r,e){return r.field.isEqual(e.field)&&function(n,o){return n instanceof jr&&o instanceof jr||n instanceof qr&&o instanceof qr?Hn(n.elements,o.elements,Dt):n instanceof ro&&o instanceof ro?Dt(n.Pe,o.Pe):n instanceof to&&o instanceof to}(r.transform,e.transform)}var Yl=class{constructor(e,t){this.version=e,this.transformResults=t}},Gt=class r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new r}static exists(e){return new r(void 0,e)}static updateTime(e){return new r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _s(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}var no=class{};function rg(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zo(r.key,Gt.none()):new zr(r.key,r.data,Gt.none());{let t=r.data,n=nt.empty(),o=new Ge(ot.comparator);for(let s of e.fields)if(!o.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),o=o.add(s)}return new Vt(r.key,n,new ut(o.toArray()),Gt.none())}}function l_(r,e,t){r instanceof zr?function(o,s,a){let c=o.value.clone(),d=fp(o.fieldTransforms,s,a.transformResults);c.setAll(d),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Vt?function(o,s,a){if(!_s(o.precondition,s))return void s.convertToUnknownDocument(a.version);let c=fp(o.fieldTransforms,s,a.transformResults),d=s.data;d.setAll(ng(o)),d.setAll(c),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(r,e,t):function(o,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Ho(r,e,t,n){return r instanceof zr?function(s,a,c,d){if(!_s(s.precondition,a))return c;let p=s.value.clone(),g=mp(s.fieldTransforms,d,a);return p.setAll(g),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Vt?function(s,a,c,d){if(!_s(s.precondition,a))return c;let p=mp(s.fieldTransforms,d,a),g=a.data;return g.setAll(ng(s)),g.setAll(p),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(r,e,t,n):function(s,a,c){return _s(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(r,e,t)}function c_(r,e){let t=null;for(let n of r.fieldTransforms){let o=e.data.field(n.field),s=Jp(n.transform,o||null);s!=null&&(t===null&&(t=nt.empty()),t.set(n.field,s))}return t||null}function hp(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&Hn(n,o,(s,a)=>a_(s,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}var zr=class extends no{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}},Vt=class extends no{constructor(e,t,n,o,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function ng(r){let e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let n=r.data.field(t);e.set(t,n)}}),e}function fp(r,e,t){let n=new Map;me(r.length===t.length);for(let o=0;o<t.length;o++){let s=r[o],a=s.transform,c=e.data.field(s.field);n.set(s.field,s_(a,c,t[o]))}return n}function mp(r,e,t){let n=new Map;for(let o of r){let s=o.transform,a=t.data.field(o.field);n.set(o.field,i_(s,a,e))}return n}var Zo=class extends no{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xl=class extends no{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jl=class{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){let s=this.mutations[o];s.key.isEqual(e.key)&&l_(s,e,n[o])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ho(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=Ho(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Yp();return this.mutations.forEach(o=>{let s=e.get(o.key),a=s.overlayedDocument,c=this.applyToLocalView(a,s.mutatedFields);c=t.has(o.key)?null:c;let d=rg(a,c);d!==null&&n.set(o.key,d),a.isValidDocument()||a.convertToNoDocument(re.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oe())}isEqual(e){return this.batchId===e.batchId&&Hn(this.mutations,e.mutations,(t,n)=>hp(t,n))&&Hn(this.baseMutations,e.baseMutations,(t,n)=>hp(t,n))}},Zl=class r{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){me(e.mutations.length===n.length);let o=function(){return e_}(),s=e.mutations;for(let a=0;a<s.length;a++)o=o.insert(s[a].key,n[a].version);return new r(e,t,n,o)}};var ec=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tc=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ae,se;function u_(r){switch(r){default:return H();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function og(r){if(r===void 0)return Kt("GRPC error has no .code"),D.UNKNOWN;switch(r){case Ae.OK:return D.OK;case Ae.CANCELLED:return D.CANCELLED;case Ae.UNKNOWN:return D.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return D.INTERNAL;case Ae.UNAVAILABLE:return D.UNAVAILABLE;case Ae.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ae.NOT_FOUND:return D.NOT_FOUND;case Ae.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ae.ABORTED:return D.ABORTED;case Ae.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ae.DATA_LOSS:return D.DATA_LOSS;default:return H()}}(se=Ae||(Ae={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var pp=null;function d_(){return new TextEncoder}var h_=new br([4294967295,4294967295],0);function gp(r){let e=d_().encode(r),t=new gl;return t.update(e),new Uint8Array(t.digest())}function _p(r){let e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new br([t,n],0),new br([o,s],0)]}var rc=class r{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Br(`Invalid padding: ${t}`);if(n<0)throw new Br(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Br(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Br(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=br.fromNumber(this.Ie)}Ee(e,t,n){let o=e.add(t.multiply(br.fromNumber(n)));return o.compare(h_)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=gp(e),[n,o]=_p(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(n,o,s);if(!this.de(a))return!1}return!0}static create(e,t,n){let o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new r(s,o,t);return n.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;let t=gp(e),[n,o]=_p(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(n,o,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Br=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ts=class r{constructor(e,t,n,o,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let o=new Map;return o.set(e,ei.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new r(re.min(),o,new ke(ue),Ht(),oe())}},ei=class r{constructor(e,t,n,o,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new r(n,t,oe(),oe(),oe())}};var Gn=class{constructor(e,t,n,o){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=o}},Is=class{constructor(e,t){this.targetId=e,this.me=t}},ks=class{constructor(e,t,n=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}},Ss=class{constructor(){this.fe=0,this.ge=bp(),this.pe=Ke.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),t=oe(),n=oe();return this.ge.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:H()}}),new ei(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=bp()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},nc=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ht(),this.qe=yp(),this.Qe=new ke(ue)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:H()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,o)=>{this.ze(o)&&t(o)})}He(e){let t=e.targetId,n=e.me.count,o=this.Je(t);if(o){let s=o.target;if(Kl(s))if(n===0){let a=new G(s.path);this.Ue(t,a,ft.newNoDocument(a,re.min()))}else me(n===1);else{let a=this.Ye(t);if(a!==n){let c=this.Ze(e),d=c?this.Xe(c,e,a):1;if(d!==0){this.je(t);let p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,p)}pp?.et(function(g,T,k,A,M){var U,V,Z,ee,Q,ne;let Ve={localCacheCount:g,existenceFilterCount:T.count,databaseId:k.database,projectId:k.projectId},le=T.unchangedNames;return le&&(Ve.bloomFilter={applied:M===0,hashCount:(U=le?.hashCount)!==null&&U!==void 0?U:0,bitmapLength:(ee=(Z=(V=le?.bits)===null||V===void 0?void 0:V.bitmap)===null||Z===void 0?void 0:Z.length)!==null&&ee!==void 0?ee:0,padding:(ne=(Q=le?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&ne!==void 0?ne:0,mightContain:w=>{var _;return(_=A?.mightContain(w))!==null&&_!==void 0&&_}}),Ve}(a,e.me,this.Le.tt(),c,d))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n="",padding:o=0},hashCount:s=0}=t,a,c;try{a=wr(n).toUint8Array()}catch(d){if(d instanceof Cs)return Qn("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new rc(a,o,s)}catch(d){return Qn(d instanceof Br?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){let n=this.Le.getRemoteKeysForTarget(t),o=0;return n.forEach(s=>{let a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),o++)}),o}rt(e){let t=new Map;this.Be.forEach((s,a)=>{let c=this.Je(a);if(c){if(s.current&&Kl(c.target)){let d=new G(c.target.path);this.ke.get(d)!==null||this.it(a,d)||this.Ue(a,d,ft.newNoDocument(d,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let n=oe();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(d=>{let p=this.Je(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let o=new Ts(e,t,this.Qe,this.ke,n);return this.ke=Ht(),this.qe=yp(),this.Qe=new ke(ue),o}$e(e,t){if(!this.ze(e))return;let n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;let o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ss,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ge(ue),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ss),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function yp(){return new ke(G.comparator)}function bp(){return new ke(G.comparator)}var f_={asc:"ASCENDING",desc:"DESCENDING"},m_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p_={and:"AND",or:"OR"},oc=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ic(r,e){return r.useProto3Json||Ks(e)?e:{value:e}}function Rs(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ig(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function g_(r,e){return Rs(r,e.toTimestamp())}function Pt(r){return me(!!r),re.fromTimestamp(function(t){let n=Qt(t);return new Oe(n.seconds,n.nanos)}(r))}function pu(r,e){return sc(r,e).canonicalString()}function sc(r,e){let t=function(o){return new Ce(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function sg(r){let e=Ce.fromString(r);return me(dg(e)),e}function ac(r,e){return pu(r.databaseId,e.path)}function Cl(r,e){let t=sg(e);if(t.get(1)!==r.databaseId.projectId)throw new z(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new z(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new G(lg(t))}function ag(r,e){return pu(r.databaseId,e)}function __(r){let e=sg(r);return e.length===4?Ce.emptyPath():lg(e)}function lc(r){return new Ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lg(r){return me(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function vp(r,e,t){return{name:ac(r,e),fields:t.value.mapValue.fields}}function y_(r,e){let t;if("targetChange"in e){e.targetChange;let n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(p,g){return p.useProto3Json?(me(g===void 0||typeof g=="string"),Ke.fromBase64String(g||"")):(me(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ke.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(p){let g=p.code===void 0?D.UNKNOWN:og(p.code);return new z(g,p.message||"")}(a);t=new ks(n,o,s,c||null)}else if("documentChange"in e){e.documentChange;let n=e.documentChange;n.document,n.document.name,n.document.updateTime;let o=Cl(r,n.document.name),s=Pt(n.document.updateTime),a=n.document.createTime?Pt(n.document.createTime):re.min(),c=new nt({mapValue:{fields:n.document.fields}}),d=ft.newFoundDocument(o,s,a,c),p=n.targetIds||[],g=n.removedTargetIds||[];t=new Gn(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;let n=e.documentDelete;n.document;let o=Cl(r,n.document),s=n.readTime?Pt(n.readTime):re.min(),a=ft.newNoDocument(o,s),c=n.removedTargetIds||[];t=new Gn([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let n=e.documentRemove;n.document;let o=Cl(r,n.document),s=n.removedTargetIds||[];t=new Gn([],s,o,null)}else{if(!("filter"in e))return H();{e.filter;let n=e.filter;n.targetId;let{count:o=0,unchangedNames:s}=n,a=new tc(o,s),c=n.targetId;t=new Is(c,a)}}return t}function b_(r,e){let t;if(e instanceof zr)t={update:vp(r,e.key,e.value)};else if(e instanceof Zo)t={delete:ac(r,e.key)};else if(e instanceof Vt)t={update:vp(r,e.key,e.data),updateMask:S_(e.fieldMask)};else{if(!(e instanceof Xl))return H();t={verify:ac(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,a){let c=a.transform;if(c instanceof to)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jr)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qr)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ro)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw H()}(0,n))),e.precondition.isNone||(t.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:g_(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H()}(r,e.precondition)),t}function v_(r,e){return r&&r.length>0?(me(e!==void 0),r.map(t=>function(o,s){let a=o.updateTime?Pt(o.updateTime):Pt(s);return a.isEqual(re.min())&&(a=Pt(s)),new Yl(a,o.transformResults||[])}(t,e))):[]}function w_(r,e){return{documents:[ag(r,e.path)]}}function C_(r,e){let t={structuredQuery:{}},n=e.path,o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=ag(r,o);let s=function(p){if(p.length!==0)return ug(mt.create(p,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(p){if(p.length!==0)return p.map(g=>function(k){return{field:qn(k.field),direction:T_(k.dir)}}(g))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let c=ic(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:t,parent:o}}function x_(r){let e=__(r.parent),t=r.structuredQuery,n=t.from?t.from.length:0,o=null;if(n>0){me(n===1);let g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(T){let k=cg(T);return k instanceof mt&&Up(k)?k.getFilters():[k]}(t.where));let a=[];t.orderBy&&(a=function(T){return T.map(k=>function(M){return new Zn(zn(M.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(k))}(t.orderBy));let c=null;t.limit&&(c=function(T){let k;return k=typeof T=="object"?T.value:T,Ks(k)?null:k}(t.limit));let d=null;t.startAt&&(d=function(T){let k=!!T.before,A=T.values||[];return new Jn(A,k)}(t.startAt));let p=null;return t.endAt&&(p=function(T){let k=!T.before,A=T.values||[];return new Jn(A,k)}(t.endAt)),H1(e,o,a,s,c,"F",d,p)}function E_(r,e){let t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cg(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let n=zn(t.unaryFilter.field);return De.create(n,"==",{doubleValue:NaN});case"IS_NULL":let o=zn(t.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=zn(t.unaryFilter.field);return De.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=zn(t.unaryFilter.field);return De.create(a,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(r):r.fieldFilter!==void 0?function(t){return De.create(zn(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return mt.create(t.compositeFilter.filters.map(n=>cg(n)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return H()}}(t.compositeFilter.op))}(r):H()}function T_(r){return f_[r]}function I_(r){return m_[r]}function k_(r){return p_[r]}function qn(r){return{fieldPath:r.canonicalString()}}function zn(r){return ot.fromServerFormat(r.fieldPath)}function ug(r){return r instanceof De?function(t){if(t.op==="=="){if(sp(t.value))return{unaryFilter:{field:qn(t.field),op:"IS_NAN"}};if(ip(t.value))return{unaryFilter:{field:qn(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sp(t.value))return{unaryFilter:{field:qn(t.field),op:"IS_NOT_NAN"}};if(ip(t.value))return{unaryFilter:{field:qn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qn(t.field),op:I_(t.op),value:t.value}}}(r):r instanceof mt?function(t){let n=t.getFilters().map(o=>ug(o));return n.length===1?n[0]:{compositeFilter:{op:k_(t.op),filters:n}}}(r):H()}function S_(r){let e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dg(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}var ti=class r{constructor(e,t,n,o,s=re.min(),a=re.min(),c=Ke.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new r(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cc=class{constructor(e){this.ct=e}};function R_(r){let e=x_({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hl(e,e.limit,"L"):e}var As=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ve(e.integerValue));else if("doubleValue"in e){let n=ve(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Yo(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),typeof n=="string"&&(n=Qt(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(wr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Fp(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Bp(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):H()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let n=e.fields||{};this.dt(t,55);for(let o of Object.keys(n))this.Vt(o,t),this.Tt(n[o],t)}wt(e,t){var n,o;let s=e.fields||{};this.dt(t,53);let a="value",c=((o=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(ve(c)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let n=e.values||[];this.dt(t,50);for(let o of n)this.Tt(o,t)}yt(e,t){this.dt(t,37),G.fromName(e).path.forEach(n=>{this.dt(t,60),this.Dt(n,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};As.vt=new As;var uc=class{constructor(){this.un=new dc}addToCollectionParentIndex(e,t){return this.un.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Lr.min())}updateCollectionGroup(e,t,n){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},dc=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Ge(Ce.comparator),s=!o.has(n);return this.index[t]=o.add(n),s}has(e){let t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Ge(Ce.comparator)).toArray()}};var hT=new Uint8Array(0);var kt=class r{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(41943040,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);var ri=class r{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new r(0)}static kn(){return new r(-1)}};var hc=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n!==void 0?B.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fc=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var mc=class{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(n=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(n!==null&&Ho(n.mutation,o,ut.empty(),Oe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,oe()).next(()=>n))}getLocalViewOfDocuments(e,t,n=oe()){let o=Nr();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,n).next(s=>{let a=$o();return s.forEach((c,d)=>{a=a.insert(c,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let n=Nr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,oe()))}populateOverlays(e,t,n){let o=[];return n.forEach(s=>{t.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,n,o){let s=Ht(),a=Qo(),c=function(){return Qo()}();return t.forEach((d,p)=>{let g=n.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof Vt)?s=s.insert(p.key,p):g!==void 0?(a.set(p.key,g.mutation.getFieldMask()),Ho(g.mutation,p,g.mutation.getFieldMask(),Oe.now())):a.set(p.key,ut.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((p,g)=>a.set(p,g)),t.forEach((p,g)=>{var T;return c.set(p,new fc(g,(T=a.get(p))!==null&&T!==void 0?T:null))}),c))}recalculateAndSaveOverlays(e,t){let n=Qo(),o=new ke((a,c)=>a-c),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let c of a)c.keys().forEach(d=>{let p=t.get(d);if(p===null)return;let g=n.get(d)||ut.empty();g=c.applyToLocalView(p,g),n.set(d,g);let T=(o.get(c.batchId)||oe()).add(d);o=o.insert(c.batchId,T)})}).next(()=>{let a=[],c=o.getReverseIterator();for(;c.hasNext();){let d=c.getNext(),p=d.key,g=d.value,T=Yp();g.forEach(k=>{if(!s.has(k)){let A=rg(t.get(k),n.get(k));A!==null&&T.set(k,A),s=s.add(k)}}),a.push(this.documentOverlayCache.saveOverlays(e,p,T))}return B.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,o){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$p(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next(s=>{let a=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-s.size):B.resolve(Nr()),c=-1,d=s;return a.next(p=>B.forEach(p,(g,T)=>(c<T.largestBatchId&&(c=T.largestBatchId),s.get(g)?B.resolve():this.remoteDocumentCache.getEntry(e,g).next(k=>{d=d.insert(g,k)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,d,p,oe())).next(g=>({batchId:c,changes:Hp(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(n=>{let o=$o();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){let s=t.collectionGroup,a=$o();return this.indexManager.getCollectionParents(e,s).next(c=>B.forEach(c,d=>{let p=function(T,k){return new Ur(k,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,n,o).next(g=>{g.forEach((T,k)=>{a=a.insert(T,k)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,o))).next(a=>{s.forEach((d,p)=>{let g=p.getKey();a.get(g)===null&&(a=a.insert(g,ft.newInvalidDocument(g)))});let c=$o();return a.forEach((d,p)=>{let g=s.get(d);g!==void 0&&Ho(g.mutation,p,ut.empty(),Oe.now()),Hs(t,p)&&(c=c.insert(d,p))}),c})}};var pc=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return B.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Pt(o.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:R_(o.bundledQuery),readTime:Pt(o.readTime)}}(t)),B.resolve()}};var gc=class{constructor(){this.overlays=new ke(G.comparator),this.Ir=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Nr();return B.forEach(t,o=>this.getOverlay(e,o).next(s=>{s!==null&&n.set(o,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((o,s)=>{this.ht(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,n){let o=this.Ir.get(n);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),B.resolve()}getOverlaysForCollection(e,t,n){let o=Nr(),s=t.length+1,a=new G(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&d.largestBatchId>n&&o.set(d.getKey(),d)}return B.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let s=new ke((p,g)=>p-g),a=this.overlays.getIterator();for(;a.hasNext();){let p=a.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let g=s.get(p.largestBatchId);g===null&&(g=Nr(),s=s.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}let c=Nr(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=o)););return B.resolve(c)}ht(e,t,n){let o=this.overlays.get(n.key);if(o!==null){let a=this.Ir.get(o.largestBatchId).delete(n.key);this.Ir.set(o.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new ec(t,n));let s=this.Ir.get(t);s===void 0&&(s=oe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}};var _c=class{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var ni=class{constructor(){this.Tr=new Ge(Pe.Er),this.dr=new Ge(Pe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let n=new Pe(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new Pe(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){let t=new G(new Ce([])),n=new Pe(t,e),o=new Pe(t,e+1),s=[];return this.dr.forEachInRange([n,o],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new G(new Ce([])),n=new Pe(t,e),o=new Pe(t,e+1),s=oe();return this.dr.forEachInRange([n,o],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Pe(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Pe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return G.comparator(e.key,t.key)||ue(e.wr,t.wr)}static Ar(e,t){return ue(e.wr,t.wr)||G.comparator(e.key,t.key)}};var yc=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ge(Pe.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Jl(s,t,n,o);this.mutationQueue.push(a);for(let c of o)this.br=this.br.add(new Pe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,t){return B.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,o=this.vr(n),s=o<0?0:o;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Pe(t,0),o=new Pe(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,o],a=>{let c=this.Dr(a.wr);s.push(c)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ge(ue);return t.forEach(o=>{let s=new Pe(o,0),a=new Pe(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],c=>{n=n.add(c.wr)})}),B.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,o=n.length+1,s=n;G.isDocumentKey(s)||(s=s.child(""));let a=new Pe(new G(s),0),c=new Ge(ue);return this.br.forEachWhile(d=>{let p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===o&&(c=c.add(d.wr)),!0)},a),B.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(n=>{let o=this.Dr(n);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return B.forEach(t.mutations,o=>{let s=new Pe(o.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){let n=new Pe(t,0),o=this.br.firstAfterOrEqual(n);return B.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var bc=class{constructor(e){this.Mr=e,this.docs=function(){return new ke(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,o=this.docs.get(n),s=o?o.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return B.resolve(n?n.document.mutableCopy():ft.newInvalidDocument(t))}getEntries(e,t){let n=Ht();return t.forEach(o=>{let s=this.docs.get(o);n=n.insert(o,s?s.document.mutableCopy():ft.newInvalidDocument(o))}),B.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let s=Ht(),a=t.path,c=new G(a.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){let{key:p,value:{document:g}}=d.getNext();if(!a.isPrefixOf(p.path))break;p.path.length>a.length+1||L1(F1(g),n)<=0||(o.has(g.key)||Hs(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,n,o){H()}Or(e,t){return B.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new vc(this)}getSize(e){return B.resolve(this.size)}},vc=class extends hc{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((n,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(n)}),B.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var wc=class{constructor(e){this.persistence=e,this.Nr=new Cr(t=>hu(t),fu),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ni,this.targetCount=0,this.kr=ri.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,o)=>t(o)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),B.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ri(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Kn(t),B.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,n){let o=0,s=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),B.waitFor(s).next(()=>o)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let n=this.Nr.get(t)||null;return B.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),B.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);let o=this.persistence.referenceDelegate,s=[];return o&&t.forEach(a=>{s.push(o.markPotentiallyOrphaned(e,a))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Br.yr(t);return B.resolve(n)}containsKey(e,t){return B.resolve(this.Br.containsKey(t))}};var Cc=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Mp(0),this.Kr=!1,this.Kr=!0,this.$r=new _c,this.referenceDelegate=e(this),this.Ur=new wc(this),this.indexManager=new uc,this.remoteDocumentCache=function(o){return new bc(o)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new cc(t),this.Gr=new pc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new yc(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){W("MemoryPersistence","Starting transaction:",e);let o=new xc(this.Qr.next());return this.referenceDelegate.zr(),n(o).next(s=>this.referenceDelegate.jr(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Hr(e,t){return B.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}},xc=class extends Ml{constructor(e){super(),this.currentSequenceNumber=e}},Ec=class r{constructor(e){this.persistence=e,this.Jr=new ni,this.Yr=null}static Zr(e){return new r(e)}get Xr(){if(this.Yr)return this.Yr;throw H()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),B.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,n=>{let o=G.fromPath(n);return this.ei(e,o).next(s=>{s||t.removeEntry(o,re.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return B.or([()=>B.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Tc=class r{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=o}static Wi(e,t){let n=oe(),o=oe();for(let s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new r(e,t.fromCache,n,o)}};var Ic=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kc=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Lh()?8:U1(Fh())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,o){let s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,o,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new Ic;return this.Xi(e,t,a).next(c=>{if(s.result=c,this.zi)return this.es(e,t,a,c.size)})}).next(()=>s.result)}es(e,t,n,o){return n.documentReadCount<this.ji?(Wo()<=zt.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",jn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Wo()<=zt.DEBUG&&W("QueryEngine","Query:",jn(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.Hi*o?(Wo()<=zt.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",jn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,At(t))):B.resolve())}Yi(e,t){if(up(t))return B.resolve(null);let n=At(t);return this.indexManager.getIndexType(e,n).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Hl(t,null,"F"),n=At(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{let a=oe(...s);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{let p=this.ts(t,c);return this.ns(t,p,a,d.readTime)?this.Yi(e,Hl(t,null,"F")):this.rs(e,p,t,d)}))})))}Zi(e,t,n,o){return up(t)||o.isEqual(re.min())?B.resolve(null):this.Ji.getDocuments(e,n).next(s=>{let a=this.ts(t,s);return this.ns(t,a,n,o)?B.resolve(null):(Wo()<=zt.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jn(t)),this.rs(e,a,t,B1(o,-1)).next(c=>c))})}ts(e,t){let n=new Ge(Kp(e));return t.forEach((o,s)=>{Hs(e,s)&&(n=n.add(s))}),n}ns(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Xi(e,t,n){return Wo()<=zt.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",jn(t)),this.Ji.getDocumentsMatchingQuery(e,t,Lr.min(),n)}rs(e,t,n,o){return this.Ji.getDocumentsMatchingQuery(e,n,o).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var Sc=class{constructor(e,t,n,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new ke(ue),this._s=new Cr(s=>hu(s),fu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mc(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function A_(r,e,t,n){return new Sc(r,e,t,n)}function hg(r,e){return L(this,null,function*(){let t=X(r);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next(s=>(o=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{let a=[],c=[],d=oe();for(let p of o){a.push(p.batchId);for(let g of p.mutations)d=d.add(g.key)}for(let p of s){c.push(p.batchId);for(let g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(n,d).next(p=>({hs:p,removedBatchIds:a,addedBatchIds:c}))})})})}function P_(r,e){let t=X(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let o=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,g){let T=p.batch,k=T.keys(),A=B.resolve();return k.forEach(M=>{A=A.next(()=>g.getEntry(d,M)).next(U=>{let V=p.docVersions.get(M);me(V!==null),U.version.compareTo(V)<0&&(T.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),g.addEntry(U)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(d,T))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=oe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,o))})}function fg(r){let e=X(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function D_(r,e){let t=X(r),n=e.snapshotVersion,o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;let c=[];e.targetChanges.forEach((g,T)=>{let k=o.get(T);if(!k)return;c.push(t.Ur.removeMatchingKeys(s,g.removedDocuments,T).next(()=>t.Ur.addMatchingKeys(s,g.addedDocuments,T)));let A=k.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(Ke.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,n)),o=o.insert(T,A),function(U,V,Z){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(k,A,g)&&c.push(t.Ur.updateTargetData(s,A))});let d=Ht(),p=oe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(V_(s,a,e.documentUpdates).next(g=>{d=g.Ps,p=g.Is})),!n.isEqual(re.min())){let g=t.Ur.getLastRemoteSnapshotVersion(s).next(T=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(g)}return B.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,p)).next(()=>d)}).then(s=>(t.os=o,s))}function V_(r,e,t){let n=oe(),o=oe();return t.forEach(s=>n=n.add(s)),e.getEntries(r,n).next(s=>{let a=Ht();return t.forEach((c,d)=>{let p=s.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(c)),d.isNoDocument()&&d.version.isEqual(re.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):W("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Ps:a,Is:o}})}function M_(r,e){let t=X(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function N_(r,e){let t=X(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let o;return t.Ur.getTargetData(n,e).next(s=>s?(o=s,B.resolve(o)):t.Ur.allocateTargetId(n).next(a=>(o=new ti(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,o).next(()=>o))))}).then(n=>{let o=t.os.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}function Rc(r,e,t){return L(this,null,function*(){let n=X(r),o=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,o)))}catch(a){if(!ui(a))throw a;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(o.target)})}function wp(r,e,t){let n=X(r),o=re.min(),s=oe();return n.persistence.runTransaction("Execute query","readwrite",a=>function(d,p,g){let T=X(d),k=T._s.get(g);return k!==void 0?B.resolve(T.os.get(k)):T.Ur.getTargetData(p,g)}(n,a,At(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,c.targetId).next(d=>{s=d})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,t?o:re.min(),t?s:oe())).next(c=>(B_(n,X1(e),c),{documents:c,Ts:s})))}function B_(r,e,t){let n=r.us.get(e)||re.min();t.forEach((o,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.us.set(e,n)}var Ps=class{constructor(){this.activeTargetIds=n_()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ac=class{constructor(){this.so=new Ps,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ps,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pc=class{_o(e){}shutdown(){}};var Ds=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ps=null;function xl(){return ps===null?ps=function(){return 268435456+Math.round(2147483648*Math.random())}():ps++,"0x"+ps.toString(16)}var F_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Dc=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var $e="WebChannelConnection",Vc=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let n=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${o}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get Fo(){return!1}Mo(t,n,o,s,a){let c=xl(),d=this.xo(t,n.toUriEncodedString());W("RestConnection",`Sending RPC '${t}' ${c}:`,d,o);let p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,s,a),this.No(t,d,p,o).then(g=>(W("RestConnection",`Received RPC '${t}' ${c}: `,g),g),g=>{throw Qn("RestConnection",`RPC '${t}' ${c} failed with error: `,g,"url: ",d,"request:",o),g})}Lo(t,n,o,s,a,c){return this.Mo(t,n,o,s,a)}Oo(t,n,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),o&&o.headers.forEach((s,a)=>t[a]=s)}xo(t,n){let o=F_[t];return`${this.Do}/v1/${n}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,o){let s=xl();return new Promise((a,c)=>{let d=new _l;d.setWithCredentials(!0),d.listenOnce(yl.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zo.NO_ERROR:let g=d.getResponseJson();W($e,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case zo.TIMEOUT:W($e,`RPC '${e}' ${s} timed out`),c(new z(D.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:let T=d.getStatus();if(W($e,`RPC '${e}' ${s} failed with status:`,T,"response text:",d.getResponseText()),T>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);let A=k?.error;if(A&&A.status&&A.message){let M=function(V){let Z=V.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(Z)>=0?Z:D.UNKNOWN}(A.status);c(new z(M,A.message))}else c(new z(D.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new z(D.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{W($e,`RPC '${e}' ${s} completed.`)}});let p=JSON.stringify(o);W($e,`RPC '${e}' ${s} sending request:`,o),d.send(t,"POST",p,n,15)})}Bo(e,t,n){let o=xl(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wl(),c=vl(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;let g=s.join("");W($e,`Creating RPC '${e}' stream ${o}: ${g}`,d);let T=a.createWebChannel(g,d),k=!1,A=!1,M=new Dc({Io:V=>{A?W($e,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(k||(W($e,`Opening RPC '${e}' stream ${o} transport.`),T.open(),k=!0),W($e,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},To:()=>T.close()}),U=(V,Z,ee)=>{V.listen(Z,Q=>{try{ee(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return U(T,Un.EventType.OPEN,()=>{A||(W($e,`RPC '${e}' stream ${o} transport opened.`),M.yo())}),U(T,Un.EventType.CLOSE,()=>{A||(A=!0,W($e,`RPC '${e}' stream ${o} transport closed`),M.So())}),U(T,Un.EventType.ERROR,V=>{A||(A=!0,Qn($e,`RPC '${e}' stream ${o} transport errored:`,V),M.So(new z(D.UNAVAILABLE,"The operation could not be completed")))}),U(T,Un.EventType.MESSAGE,V=>{var Z;if(!A){let ee=V.data[0];me(!!ee);let Q=ee,ne=Q.error||((Z=Q[0])===null||Z===void 0?void 0:Z.error);if(ne){W($e,`RPC '${e}' stream ${o} received error:`,ne);let Ve=ne.status,le=function(b){let v=Ae[b];if(v!==void 0)return og(v)}(Ve),w=ne.message;le===void 0&&(le=D.INTERNAL,w="Unknown error status: "+Ve+" with message "+ne.message),A=!0,M.So(new z(le,w)),T.close()}else W($e,`RPC '${e}' stream ${o} received:`,ee),M.bo(ee)}}),U(c,bl.STAT_EVENT,V=>{V.stat===fs.PROXY?W($e,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===fs.NOPROXY&&W($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function El(){return typeof document<"u"?document:null}function Ys(r){return new oc(r,!0)}var Vs=class{constructor(e,t,n=1e3,o=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=o,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-n);o>0&&W("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ms=class{constructor(e,t,n,o,s,a,c,d){this.ui=e,this.Ho=n,this.Jo=o,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vs(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return L(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return L(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return L(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(Kt(t.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,o])=>{this.Yo===t&&this.P_(n,o)},n=>{e(()=>{let o=new z(D.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(o)})})}P_(e,t){let n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{n(()=>this.I_(o))}),this.stream.onMessage(o=>{n(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(()=>L(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mc=class extends Ms{constructor(e,t,n,o,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=y_(this.serializer,e),n=function(s){if(!("targetChange"in s))return re.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?re.min():a.readTime?Pt(a.readTime):re.min()}(e);return this.listener.d_(t,n)}A_(e){let t={};t.database=lc(this.serializer),t.addTarget=function(s,a){let c,d=a.target;if(c=Kl(d)?{documents:w_(s,d)}:{query:C_(s,d)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=ig(s,a.resumeToken);let p=ic(s,a.expectedCount);p!==null&&(c.expectedCount=p)}else if(a.snapshotVersion.compareTo(re.min())>0){c.readTime=Rs(s,a.snapshotVersion.toTimestamp());let p=ic(s,a.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);let n=E_(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){let t={};t.database=lc(this.serializer),t.removeTarget=e,this.a_(t)}},Nc=class extends Ms{constructor(e,t,n,o,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=v_(e.writeResults,e.commitTime),n=Pt(e.commitTime);return this.listener.g_(n,t)}p_(){let e={};e.database=lc(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(n=>b_(this.serializer,n))};this.a_(t)}};var Bc=class extends class{}{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new z(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,sc(t,n),o,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(D.UNKNOWN,s.toString())})}Lo(e,t,n,o,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,sc(t,n),o,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new z(D.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Fc=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kt(t),this.D_=!1):W("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Lc=class{constructor(e,t,n,o,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(()=>L(this,null,function*(){Kr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(d){return L(this,null,function*(){let p=X(d);p.L_.add(4),yield di(p),p.q_.set("Unknown"),p.L_.delete(4),yield Xs(p)})}(this))}))}),this.q_=new Fc(n,o)}};function Xs(r){return L(this,null,function*(){if(Kr(r))for(let e of r.B_)yield e(!0)})}function di(r){return L(this,null,function*(){for(let e of r.B_)yield e(!1)})}function mg(r,e){let t=X(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),bu(t)?yu(t):co(t).r_()&&_u(t,e))}function gu(r,e){let t=X(r),n=co(t);t.N_.delete(e),n.r_()&&pg(t,e),t.N_.size===0&&(n.r_()?n.o_():Kr(t)&&t.q_.set("Unknown"))}function _u(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}co(r).A_(e)}function pg(r,e){r.Q_.xe(e),co(r).R_(e)}function yu(r){r.Q_=new nc({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),co(r).start(),r.q_.v_()}function bu(r){return Kr(r)&&!co(r).n_()&&r.N_.size>0}function Kr(r){return X(r).L_.size===0}function gg(r){r.Q_=void 0}function L_(r){return L(this,null,function*(){r.q_.set("Online")})}function O_(r){return L(this,null,function*(){r.N_.forEach((e,t)=>{_u(r,e)})})}function U_(r,e){return L(this,null,function*(){gg(r),bu(r)?(r.q_.M_(e),yu(r)):r.q_.set("Unknown")})}function j_(r,e,t){return L(this,null,function*(){if(r.q_.set("Online"),e instanceof ks&&e.state===2&&e.cause)try{yield function(o,s){return L(this,null,function*(){let a=s.cause;for(let c of s.targetIds)o.N_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))})}(r,e)}catch(n){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield Ns(r,n)}else if(e instanceof Gn?r.Q_.Ke(e):e instanceof Is?r.Q_.He(e):r.Q_.We(e),!t.isEqual(re.min()))try{let n=yield fg(r.localStore);t.compareTo(n)>=0&&(yield function(s,a){let c=s.Q_.rt(a);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){let g=s.N_.get(p);g&&s.N_.set(p,g.withResumeToken(d.resumeToken,a))}}),c.targetMismatches.forEach((d,p)=>{let g=s.N_.get(d);if(!g)return;s.N_.set(d,g.withResumeToken(Ke.EMPTY_BYTE_STRING,g.snapshotVersion)),pg(s,d);let T=new ti(g.target,d,p,g.sequenceNumber);_u(s,T)}),s.remoteSyncer.applyRemoteEvent(c)}(r,t))}catch(n){W("RemoteStore","Failed to raise snapshot:",n),yield Ns(r,n)}})}function Ns(r,e,t){return L(this,null,function*(){if(!ui(e))throw e;r.L_.add(1),yield di(r),r.q_.set("Offline"),t||(t=()=>fg(r.localStore)),r.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),r.L_.delete(1),yield Xs(r)}))})}function _g(r,e){return e().catch(t=>Ns(r,t,e))}function Js(r){return L(this,null,function*(){let e=X(r),t=xr(e),n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;q_(e);)try{let o=yield M_(e.localStore,n);if(o===null){e.O_.length===0&&t.o_();break}n=o.batchId,z_(e,o)}catch(o){yield Ns(e,o)}yg(e)&&bg(e)})}function q_(r){return Kr(r)&&r.O_.length<10}function z_(r,e){r.O_.push(e);let t=xr(r);t.r_()&&t.V_&&t.m_(e.mutations)}function yg(r){return Kr(r)&&!xr(r).n_()&&r.O_.length>0}function bg(r){xr(r).start()}function W_(r){return L(this,null,function*(){xr(r).p_()})}function $_(r){return L(this,null,function*(){let e=xr(r);for(let t of r.O_)e.m_(t.mutations)})}function G_(r,e,t){return L(this,null,function*(){let n=r.O_.shift(),o=Zl.from(n,e,t);yield _g(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield Js(r)})}function K_(r,e){return L(this,null,function*(){e&&xr(r).V_&&(yield function(n,o){return L(this,null,function*(){if(function(a){return u_(a)&&a!==D.ABORTED}(o.code)){let s=n.O_.shift();xr(n).s_(),yield _g(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Js(n)}})}(r,e)),yg(r)&&bg(r)})}function Cp(r,e){return L(this,null,function*(){let t=X(r);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let n=Kr(t);t.L_.add(3),yield di(t),n&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Xs(t)})}function Q_(r,e){return L(this,null,function*(){let t=X(r);e?(t.L_.delete(2),yield Xs(t)):e||(t.L_.add(2),yield di(t),t.q_.set("Unknown"))})}function co(r){return r.K_||(r.K_=function(t,n,o){let s=X(t);return s.w_(),new Mc(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(r.datastore,r.asyncQueue,{Eo:L_.bind(null,r),Ro:O_.bind(null,r),mo:U_.bind(null,r),d_:j_.bind(null,r)}),r.B_.push(e=>L(this,null,function*(){e?(r.K_.s_(),bu(r)?yu(r):r.q_.set("Unknown")):(yield r.K_.stop(),gg(r))}))),r.K_}function xr(r){return r.U_||(r.U_=function(t,n,o){let s=X(t);return s.w_(),new Nc(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W_.bind(null,r),mo:K_.bind(null,r),f_:$_.bind(null,r),g_:G_.bind(null,r)}),r.B_.push(e=>L(this,null,function*(){e?(r.U_.s_(),yield Js(r)):(yield r.U_.stop(),r.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}var Oc=class r{constructor(e,t,n,o,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=s,this.deferred=new St,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,s){let a=Date.now()+n,c=new r(e,t,a,o,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vu(r,e){if(Kt("AsyncQueue",`${e}: ${r}`),ui(r))return new z(D.UNAVAILABLE,`${e}: ${r}`);throw r}var Bs=class r{constructor(e){this.comparator=e?(t,n)=>e(t,n)||G.comparator(t.key,n.key):(t,n)=>G.comparator(t.key,n.key),this.keyedMap=$o(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new r(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let o=t.getNext().key,s=n.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let n=new r;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}};var Fs=class{constructor(){this.W_=new ke(G.comparator)}track(e){let t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):H():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}},oo=class r{constructor(e,t,n,o,s,a,c,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,o,s){let a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new r(e,t,Bs.emptySet(t),a,n,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}};var Uc=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},jc=class{constructor(){this.queries=xp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){let o=X(t),s=o.queries;o.queries=xp(),s.forEach((a,c)=>{for(let d of c.j_)d.onError(n)})})(this,new z(D.ABORTED,"Firestore shutting down"))}};function xp(){return new Cr(r=>Gp(r),Qs)}function H_(r,e){return L(this,null,function*(){let t=X(r),n=3,o=e.query,s=t.queries.get(o);s?!s.H_()&&e.J_()&&(n=2):(s=new Uc,n=e.J_()?0:1);try{switch(n){case 0:s.z_=yield t.onListen(o,!0);break;case 1:s.z_=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(a){let c=vu(a,`Initialization of query '${jn(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&wu(t)})}function Y_(r,e){return L(this,null,function*(){let t=X(r),n=e.query,o=3,s=t.queries.get(n);if(s){let a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?o=e.J_()?0:1:!s.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}})}function X_(r,e){let t=X(r),n=!1;for(let o of e){let s=o.query,a=t.queries.get(s);if(a){for(let c of a.j_)c.X_(o)&&(n=!0);a.z_=o}}n&&wu(t)}function J_(r,e,t){let n=X(r),o=n.queries.get(e);if(o)for(let s of o.j_)s.onError(t);n.queries.delete(e)}function wu(r){r.Y_.forEach(e=>{e.next()})}var qc,Ep;(Ep=qc||(qc={})).ea="default",Ep.Cache="cache";var zc=class{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){let n=[];for(let o of e.docChanges)o.type!==3&&n.push(o);e=new oo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qc.Cache}};var Ls=class{constructor(e){this.key=e}},Os=class{constructor(e){this.key=e}},Wc=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=Kp(e),this.Ra=new Bs(this.Aa)}get Va(){return this.Ta}ma(e,t){let n=t?t.fa:new Fs,o=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,a=o,c=!1,d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((g,T)=>{let k=o.get(g),A=Hs(this.query,T)?T:null,M=!!k&&this.mutatedKeys.has(k.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations),V=!1;k&&A?k.data.isEqual(A.data)?M!==U&&(n.track({type:3,doc:A}),V=!0):this.ga(k,A)||(n.track({type:2,doc:A}),V=!0,(d&&this.Aa(A,d)>0||p&&this.Aa(A,p)<0)&&(c=!0)):!k&&A?(n.track({type:0,doc:A}),V=!0):k&&!A&&(n.track({type:1,doc:k}),V=!0,(d||p)&&(c=!0)),V&&(A?(a=a.add(A),s=U?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),n.track({type:1,doc:g})}return{Ra:a,fa:n,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((g,T)=>function(A,M){let U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return U(A)-U(M)}(g.type,T.type)||this.Aa(g.doc,T.doc)),this.pa(n),o=o!=null&&o;let c=t&&!o?this.ya():[],d=this.da.size===0&&this.current&&!o?1:0,p=d!==this.Ea;return this.Ea=d,a.length!==0||p?{snapshot:new oo(this.query,e.Ra,s,a,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fs,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=oe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});let t=[];return e.forEach(n=>{this.da.has(n)||t.push(new Os(n))}),this.da.forEach(n=>{e.has(n)||t.push(new Ls(n))}),t}ba(e){this.Ta=e.Ts,this.da=oe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$c=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Gc=class{constructor(e){this.key=e,this.va=!1}},Kc=class{constructor(e,t,n,o,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Cr(c=>Gp(c),Qs),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(G.comparator),this.Na=new Map,this.La=new ni,this.Ba={},this.ka=new Map,this.qa=ri.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Z_(r,e,t=!0){return L(this,null,function*(){let n=Tg(r),o,s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.Da()):o=yield vg(n,e,t,!0),o})}function ey(r,e){return L(this,null,function*(){let t=Tg(r);yield vg(t,e,!0,!1)})}function vg(r,e,t,n){return L(this,null,function*(){let o=yield N_(r.localStore,At(e)),s=o.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t),c;return n&&(c=yield ty(r,e,s,a==="current",o.resumeToken)),r.isPrimaryClient&&t&&mg(r.remoteStore,o),c})}function ty(r,e,t,n,o){return L(this,null,function*(){r.Ka=(T,k,A)=>function(U,V,Z,ee){return L(this,null,function*(){let Q=V.view.ma(Z);Q.ns&&(Q=yield wp(U.localStore,V.query,!1).then(({documents:w})=>V.view.ma(w,Q)));let ne=ee&&ee.targetChanges.get(V.targetId),Ve=ee&&ee.targetMismatches.get(V.targetId)!=null,le=V.view.applyChanges(Q,U.isPrimaryClient,ne,Ve);return Ip(U,V.targetId,le.wa),le.snapshot})}(r,T,k,A);let s=yield wp(r.localStore,e,!0),a=new Wc(e,s.Ts),c=a.ma(s.documents),d=ei.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),p=a.applyChanges(c,r.isPrimaryClient,d);Ip(r,t,p.wa);let g=new $c(e,t,a);return r.Fa.set(e,g),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),p.snapshot})}function ry(r,e,t){return L(this,null,function*(){let n=X(r),o=n.Fa.get(e),s=n.Ma.get(o.targetId);if(s.length>1)return n.Ma.set(o.targetId,s.filter(a=>!Qs(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Rc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),t&&gu(n.remoteStore,o.targetId),Qc(n,o.targetId)}).catch(ci))):(Qc(n,o.targetId),yield Rc(n.localStore,o.targetId,!0))})}function ny(r,e){return L(this,null,function*(){let t=X(r),n=t.Fa.get(e),o=t.Ma.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),gu(t.remoteStore,n.targetId))})}function oy(r,e,t){return L(this,null,function*(){let n=dy(r);try{let o=yield function(a,c){let d=X(a),p=Oe.now(),g=c.reduce((A,M)=>A.add(M.key),oe()),T,k;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let M=Ht(),U=oe();return d.cs.getEntries(A,g).next(V=>{M=V,M.forEach((Z,ee)=>{ee.isValidDocument()||(U=U.add(Z))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,M)).next(V=>{T=V;let Z=[];for(let ee of c){let Q=c_(ee,T.get(ee.key).overlayedDocument);Q!=null&&Z.push(new Vt(ee.key,Q,Lp(Q.value.mapValue),Gt.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,Z,c)}).next(V=>{k=V;let Z=V.applyToLocalDocumentSet(T,U);return d.documentOverlayCache.saveOverlays(A,V.batchId,Z)})}).then(()=>({batchId:k.batchId,changes:Hp(T)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),function(a,c,d){let p=a.Ba[a.currentUser.toKey()];p||(p=new ke(ue)),p=p.insert(c,d),a.Ba[a.currentUser.toKey()]=p}(n,o.batchId,t),yield hi(n,o.changes),yield Js(n.remoteStore)}catch(o){let s=vu(o,"Failed to persist write");t.reject(s)}})}function wg(r,e){return L(this,null,function*(){let t=X(r);try{let n=yield D_(t.localStore,e);e.targetChanges.forEach((o,s)=>{let a=t.Na.get(s);a&&(me(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.va=!0:o.modifiedDocuments.size>0?me(a.va):o.removedDocuments.size>0&&(me(a.va),a.va=!1))}),yield hi(t,n,e)}catch(n){yield ci(n)}})}function Tp(r,e,t){let n=X(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){let o=[];n.Fa.forEach((s,a)=>{let c=a.view.Z_(e);c.snapshot&&o.push(c.snapshot)}),function(a,c){let d=X(a);d.onlineState=c;let p=!1;d.queries.forEach((g,T)=>{for(let k of T.j_)k.Z_(c)&&(p=!0)}),p&&wu(d)}(n.eventManager,e),o.length&&n.Ca.d_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function iy(r,e,t){return L(this,null,function*(){let n=X(r);n.sharedClientState.updateQueryState(e,"rejected",t);let o=n.Na.get(e),s=o&&o.key;if(s){let a=new ke(G.comparator);a=a.insert(s,ft.newNoDocument(s,re.min()));let c=oe().add(s),d=new Ts(re.min(),new Map,new ke(ue),a,c);yield wg(n,d),n.Oa=n.Oa.remove(s),n.Na.delete(e),Cu(n)}else yield Rc(n.localStore,e,!1).then(()=>Qc(n,e,t)).catch(ci)})}function sy(r,e){return L(this,null,function*(){let t=X(r),n=e.batch.batchId;try{let o=yield P_(t.localStore,e);xg(t,n,null),Cg(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield hi(t,o)}catch(o){yield ci(o)}})}function ay(r,e,t){return L(this,null,function*(){let n=X(r);try{let o=yield function(a,c){let d=X(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next(T=>(me(T!==null),g=T.keys(),d.mutationQueue.removeMutationBatch(p,T))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(n.localStore,e);xg(n,e,t),Cg(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),yield hi(n,o)}catch(o){yield ci(o)}})}function Cg(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function xg(r,e,t){let n=X(r),o=n.Ba[n.currentUser.toKey()];if(o){let s=o.get(e);s&&(t?s.reject(t):s.resolve(),o=o.remove(e)),n.Ba[n.currentUser.toKey()]=o}}function Qc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(let n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||Eg(r,n)})}function Eg(r,e){r.xa.delete(e.path.canonicalString());let t=r.Oa.get(e);t!==null&&(gu(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Cu(r))}function Ip(r,e,t){for(let n of t)n instanceof Ls?(r.La.addReference(n.key,e),ly(r,n)):n instanceof Os?(W("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||Eg(r,n.key)):H()}function ly(r,e){let t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(W("SyncEngine","New document in limbo: "+t),r.xa.add(n),Cu(r))}function Cu(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){let e=r.xa.values().next().value;r.xa.delete(e);let t=new G(Ce.fromString(e)),n=r.qa.next();r.Na.set(n,new Gc(t)),r.Oa=r.Oa.insert(t,n),mg(r.remoteStore,new ti(At(Wp(t.path)),n,"TargetPurposeLimboResolution",Mp.oe))}}function hi(r,e,t){return L(this,null,function*(){let n=X(r),o=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{a.push(n.Ka(d,e,t).then(p=>{var g;if((p||t)&&n.isPrimaryClient){let T=p?!p.fromCache:(g=t?.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(d.targetId,T?"current":"not-current")}if(p){o.push(p);let T=Tc.Wi(d.targetId,p);s.push(T)}}))}),yield Promise.all(a),n.Ca.d_(o),yield function(d,p){return L(this,null,function*(){let g=X(d);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>B.forEach(p,k=>B.forEach(k.$i,A=>g.persistence.referenceDelegate.addReference(T,k.targetId,A)).next(()=>B.forEach(k.Ui,A=>g.persistence.referenceDelegate.removeReference(T,k.targetId,A)))))}catch(T){if(!ui(T))throw T;W("LocalStore","Failed to update sequence numbers: "+T)}for(let T of p){let k=T.targetId;if(!T.fromCache){let A=g.os.get(k),M=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(M);g.os=g.os.insert(k,U)}}})}(n.localStore,s))})}function cy(r,e){return L(this,null,function*(){let t=X(r);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let n=yield hg(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(c=>{c.forEach(d=>{d.reject(new z(D.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield hi(t,n.hs)}})}function uy(r,e){let t=X(r),n=t.Na.get(e);if(n&&n.va)return oe().add(n.key);{let o=oe(),s=t.Ma.get(e);if(!s)return o;for(let a of s){let c=t.Fa.get(a);o=o.unionWith(c.view.Va)}return o}}function Tg(r){let e=X(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iy.bind(null,e),e.Ca.d_=X_.bind(null,e.eventManager),e.Ca.$a=J_.bind(null,e.eventManager),e}function dy(r){let e=X(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ay.bind(null,e),e}var kp=(()=>{class r{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return L(this,null,function*(){this.serializer=Ys(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,n){return null}Ha(t,n){return null}za(t){return A_(this.persistence,new kc,t.initialUser,this.serializer)}Ga(t){return new Cc(Ec.Zr,this.serializer)}Wa(t){return new Ac}terminate(){return L(this,null,function*(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return r.provider={build:()=>new r},r})();var hy=(()=>{class r{initialize(t,n){return L(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Tp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=cy.bind(null,this.syncEngine),yield Q_(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new jc}()}createDatastore(t){let n=Ys(t.databaseInfo.databaseId),o=function(a){return new Vc(a)}(t.databaseInfo);return function(a,c,d,p){return new Bc(a,c,d,p)}(t.authCredentials,t.appCheckCredentials,o,n)}createRemoteStore(t){return function(o,s,a,c,d){return new Lc(o,s,a,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>Tp(this.syncEngine,n,0),function(){return Ds.D()?new Ds:new Pc}())}createSyncEngine(t,n){return function(s,a,c,d,p,g,T){let k=new Kc(s,a,c,d,p,g);return T&&(k.Qa=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return L(this,null,function*(){var t,n;yield function(s){return L(this,null,function*(){let a=X(s);W("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield di(a),a.k_.shutdown(),a.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}}return r.provider={build:()=>new r},r})();var Hc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Yc=class{constructor(e,t,n,o,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=bs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,a=>L(this,null,function*(){W("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,a=>(W("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new St;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=vu(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}};function Tl(r,e){return L(this,null,function*(){r.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let t=r.configuration;yield e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(o=>L(this,null,function*(){n.isEqual(o)||(yield hg(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e})}function Sp(r,e){return L(this,null,function*(){r.asyncQueue.verifyOperationInProgress();let t=yield fy(r);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Cp(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,o)=>Cp(e.remoteStore,o)),r._onlineComponents=e})}function fy(r){return L(this,null,function*(){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tl(r,r._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(o){return o.name==="FirebaseError"?o.code===D.FAILED_PRECONDITION||o.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Qn("Error using user provided cache. Falling back to memory cache: "+t),yield Tl(r,new kp)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield Tl(r,new kp);return r._offlineComponents})}function Ig(r){return L(this,null,function*(){return r._onlineComponents||(r._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield Sp(r,r._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield Sp(r,new hy))),r._onlineComponents})}function my(r){return Ig(r).then(e=>e.syncEngine)}function py(r){return L(this,null,function*(){let e=yield Ig(r),t=e.eventManager;return t.onListen=Z_.bind(null,e.syncEngine),t.onUnlisten=ry.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ey.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ny.bind(null,e.syncEngine),t})}function gy(r,e,t={}){let n=new St;return r.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(s,a,c,d,p){let g=new Hc({next:k=>{g.Za(),a.enqueueAndForget(()=>Y_(s,T)),k.fromCache&&d.source==="server"?p.reject(new z(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(k)},error:k=>p.reject(k)}),T=new zc(c,g,{includeMetadataChanges:!0,_a:!0});return H_(s,T)}(yield py(r),r.asyncQueue,e,t,n)})),n.promise}function kg(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var Rp=new Map;function Sg(r,e,t){if(!t)throw new z(D.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _y(r,e,t,n){if(e===!0&&n===!0)throw new z(D.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ap(r){if(!G.isDocumentKey(r))throw new z(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pp(r){if(G.isDocumentKey(r))throw new z(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Zs(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":H()}function Wr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new z(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Zs(r);throw new z(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}var Us=class{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new z(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_y("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kg((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,o){return n.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},io=class{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Us({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Us(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Il;switch(n.type){case"firstParty":return new Al(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new z(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let n=Rp.get(t);n&&(W("ComponentProvider","Removing Datastore"),Rp.delete(t),n.terminate())}(this),Promise.resolve()}};function Rg(r,e,t,n={}){var o;let s=(r=Wr(r,io))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=Fe.MOCK_USER;else{c=Qi(n.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);let p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new z(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Fe(p)}r._authCredentials=new kl(new ys(c,d))}}var so=class r{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new r(this.firestore,e,this._query)}},it=class r{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new r(this.firestore,e,this._key)}},vr=class r extends so{constructor(e,t,n){super(e,t,Wp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new G(e))}withConverter(e){return new r(this.firestore,e,this._path)}};function Qr(r,e,...t){if(r=Re(r),Sg("collection","path",e),r instanceof io){let n=Ce.fromString(e,...t);return Pp(n),new vr(r,null,n)}{if(!(r instanceof it||r instanceof vr))throw new z(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=r._path.child(Ce.fromString(e,...t));return Pp(n),new vr(r.firestore,null,n)}}function Yt(r,e,...t){if(r=Re(r),arguments.length===1&&(e=bs.newId()),Sg("doc","path",e),r instanceof io){let n=Ce.fromString(e,...t);return Ap(n),new it(r,null,new G(n))}{if(!(r instanceof it||r instanceof vr))throw new z(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=r._path.child(Ce.fromString(e,...t));return Ap(n),new it(r.firestore,r instanceof vr?r.converter:null,new G(n))}}var js=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vs(this,"async_queue_retry"),this.Vu=()=>{let n=El();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;let t=El();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=El();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new St;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ui(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;let o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(n);throw Kt("INTERNAL UNHANDLED ERROR: ",o),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let o=Oc.createAndSchedule(this,e,t,n,s=>this.yu(s));return this.Tu.push(o),o}fu(){this.Eu&&H()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var $r=class extends io{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new js,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new js(e),this._firestoreClient=void 0,yield e}})}};function Ag(r,e){let t=typeof r=="object"?r:Zi(),n=typeof r=="string"?r:e||"(default)",o=Xi(t,"firestore").getImmediate({identifier:n});if(!o._initialized){let s=Ki("firestore");s&&Rg(o,...s)}return o}function Pg(r){if(r._terminated)throw new z(D.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yy(r),r._firestoreClient}function yy(r){var e,t,n;let o=r._freezeSettings(),s=function(c,d,p,g){return new Nl(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kg(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=o.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Yc(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(c){let d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(r._componentsProvider))}var oi=class r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new r(Ke.fromBase64String(e))}catch(t){throw new z(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new r(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ao=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ii=class{constructor(e){this._methodName=e}};var si=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var ai=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,o){if(n.length!==o.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==o[s])return!1;return!0}(this._values,e._values)}};var by=/^__.*__$/,Xc=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Vt(e,this.data,this.fieldMask,t,this.fieldTransforms):new zr(e,this.data,t,this.fieldTransforms)}},qs=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Vt(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Dg(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var Jc=class r{constructor(e,t,n,o,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new r(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let n=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:n,xu:!1});return o.Ou(e),o}Nu(e){var t;let n=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:n,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ws(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Dg(this.Cu)&&by.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Zc=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ys(e)}Qu(e,t,n,o=!1){return new Jc({Cu:e,methodName:t,qu:n,path:ot.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xu(r){let e=r._freezeSettings(),t=Ys(r._databaseId);return new Zc(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vy(r,e,t,n,o,s={}){let a=r.Qu(s.merge||s.mergeFields?2:0,e,t,o);Eu("Data must be an object, but it was:",a,n);let c=Vg(n,a),d,p;if(s.merge)d=new ut(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){let g=[];for(let T of s.mergeFields){let k=eu(e,T,t);if(!a.contains(k))throw new z(D.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Ng(g,k)||g.push(k)}d=new ut(g),p=a.fieldTransforms.filter(T=>d.covers(T.field))}else d=null,p=a.fieldTransforms;return new Xc(new nt(c),d,p)}var zs=class r extends ii{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r}};function wy(r,e,t,n){let o=r.Qu(1,e,t);Eu("Data must be an object, but it was:",o,n);let s=[],a=nt.empty();Gr(n,(d,p)=>{let g=Tu(e,d,t);p=Re(p);let T=o.Nu(g);if(p instanceof zs)s.push(g);else{let k=fi(p,T);k!=null&&(s.push(g),a.set(g,k))}});let c=new ut(s);return new qs(a,c,o.fieldTransforms)}function Cy(r,e,t,n,o,s){let a=r.Qu(1,e,t),c=[eu(e,n,t)],d=[o];if(s.length%2!=0)throw new z(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)c.push(eu(e,s[k])),d.push(s[k+1]);let p=[],g=nt.empty();for(let k=c.length-1;k>=0;--k)if(!Ng(p,c[k])){let A=c[k],M=d[k];M=Re(M);let U=a.Nu(A);if(M instanceof zs)p.push(A);else{let V=fi(M,U);V!=null&&(p.push(A),g.set(A,V))}}let T=new ut(p);return new qs(g,T,a.fieldTransforms)}function xy(r,e,t,n=!1){return fi(t,r.Qu(n?4:3,e))}function fi(r,e){if(Mg(r=Re(r)))return Eu("Unsupported field value:",e,r),Vg(r,e);if(r instanceof ii)return function(n,o){if(!Dg(o.Cu))throw o.Bu(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${n._methodName}() is not currently supported inside arrays`);let s=n._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,o){let s=[],a=0;for(let c of n){let d=fi(c,o.Lu(a));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),a++}return{arrayValue:{values:s}}}(r,e)}return function(n,o){if((n=Re(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return o_(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let s=Oe.fromDate(n);return{timestampValue:Rs(o.serializer,s)}}if(n instanceof Oe){let s=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Rs(o.serializer,s)}}if(n instanceof si)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof oi)return{bytesValue:ig(o.serializer,n._byteString)};if(n instanceof it){let s=o.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw o.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pu(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof ai)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return mu(c.serializer,d)})}}}}}}(n,o);throw o.Bu(`Unsupported field value: ${Zs(n)}`)}(r,e)}function Vg(r,e){let t={};return Np(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(r,(n,o)=>{let s=fi(o,e.Mu(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function Mg(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Oe||r instanceof si||r instanceof oi||r instanceof it||r instanceof ii||r instanceof ai)}function Eu(r,e,t){if(!Mg(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){let n=Zs(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function eu(r,e,t){if((e=Re(e))instanceof ao)return e._internalPath;if(typeof e=="string")return Tu(r,e);throw Ws("Field path arguments must be of type string or ",r,!1,void 0,t)}var Ey=new RegExp("[~\\*/\\[\\]]");function Tu(r,e,t){if(e.search(Ey)>=0)throw Ws(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ao(...e.split("."))._internalPath}catch{throw Ws(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ws(r,e,t,n,o){let s=n&&!n.isEmpty(),a=o!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${n}`),a&&(d+=` in document ${o}`),d+=")"),new z(D.INVALID_ARGUMENT,c+r+d)}function Ng(r,e){return r.some(t=>t.isEqual(e))}var $s=class{constructor(e,t,n,o,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Iu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},tu=class extends $s{data(){return super.data()}};function Iu(r,e){return typeof e=="string"?Tu(r,e):e instanceof ao?e._internalPath:e._delegate._internalPath}function Ty(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new z(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var li=class{},ru=class extends li{};function ku(r,e,...t){let n=[];e instanceof li&&n.push(e),n=n.concat(t),function(s){let a=s.filter(d=>d instanceof nu).length,c=s.filter(d=>d instanceof Gs).length;if(a>1||a>0&&c>0)throw new z(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let o of n)r=o._apply(r);return r}var Gs=class r extends ru{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new r(e,t,n)}_apply(e){let t=this._parse(e);return Bg(e._query,t),new so(e.firestore,e.converter,Ql(e._query,t))}_parse(e){let t=xu(e.firestore);return function(s,a,c,d,p,g,T){let k;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new z(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Vp(T,g);let A=[];for(let M of T)A.push(Dp(d,s,M));k={arrayValue:{values:A}}}else k=Dp(d,s,T)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Vp(T,g),k=xy(c,a,T,g==="in"||g==="not-in");return De.create(p,g,k)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function ea(r,e,t){let n=e,o=Iu("where",r);return Gs._create(o,n,t)}var nu=class r extends li{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new r(e,t)}_parse(e){let t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:mt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(o,s){let a=o,c=s.getFlattenedFilters();for(let d of c)Bg(a,d),a=Ql(a,d)}(e._query,t),new so(e.firestore,e.converter,Ql(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Dp(r,e,t){if(typeof(t=Re(t))=="string"){if(t==="")throw new z(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$p(e)&&t.indexOf("/")!==-1)throw new z(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let n=e.path.child(Ce.fromString(t));if(!G.isDocumentKey(n))throw new z(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return op(r,new G(n))}if(t instanceof it)return op(r,t._key);throw new z(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zs(t)}.`)}function Vp(r,e){if(!Array.isArray(r)||r.length===0)throw new z(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bg(r,e){let t=function(o,s){for(let a of o)for(let c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ou=class{convertValue(e,t="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw H()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return Gr(e,(o,s)=>{n[o]=this.convertValue(s,t)}),n}convertVectorValue(e){var t,n,o;let s=(o=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||o===void 0?void 0:o.map(a=>ve(a.doubleValue));return new ai(s)}convertGeoPoint(e){return new si(ve(e.latitude),ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=uu(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){let t=Qt(e);return new Oe(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=Ce.fromString(e);me(dg(n));let o=new xs(n.get(1),n.get(3)),s=new G(n.popFirst(5));return o.isEqual(t)||Kt(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Iy(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}var $n=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},iu=class extends $s{constructor(e,t,n,o,s,a){super(e,t,n,o,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Kn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(Iu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}},Kn=class extends iu{data(e={}){return super.data(e)}},su=class{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $n(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Kn(this._firestore,this._userDataWriter,n.key,n,new $n(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(c=>{let d=new Kn(o._firestore,o._userDataWriter,c.doc.key,c.doc,new $n(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let d=new Kn(o._firestore,o._userDataWriter,c.doc.key,c.doc,new $n(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter),p=-1,g=-1;return c.type!==0&&(p=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:ky(c.type),doc:d,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function ky(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}var au=class extends ou{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,t)}};function mi(r){r=Wr(r,so);let e=Wr(r.firestore,$r),t=Pg(e),n=new au(e);return Ty(r._query),gy(t,r._query).then(o=>new su(e,n,r,o))}function Su(r,e,t,...n){r=Wr(r,it);let o=Wr(r.firestore,$r),s=xu(o),a;return a=typeof(e=Re(e))=="string"||e instanceof ao?Cy(s,"updateDoc",r._key,e,t,n):wy(s,"updateDoc",r._key,e),Ru(o,[a.toMutation(r._key,Gt.exists(!0))])}function ta(r){return Ru(Wr(r.firestore,$r),[new Zo(r._key,Gt.none())])}function ra(r,e){let t=Wr(r.firestore,$r),n=Yt(r),o=Iy(r.converter,e);return Ru(t,[vy(xu(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,Gt.exists(!1))]).then(()=>n)}function Ru(r,e){return function(n,o){let s=new St;return n.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return oy(yield my(n),o,s)})),s.promise}(Pg(r),e)}(function(e,t=!0){(function(o){lo=o})(Ji),Yi(new un("firestore",(n,{instanceIdentifier:o,options:s})=>{let a=n.getProvider("app").getImmediate(),c=new $r(new Sl(n.getProvider("auth-internal")),new Dl(n.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new z(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xs(p.options.projectId,g)}(a,o),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ct(ep,"4.7.3",e),ct(ep,"4.7.3","esm2017")})();var Fg="auth",pi=class{constructor(e){return e}},Hr=class{constructor(){return hn(Fg)}};var Au=new rt("angularfire2.auth-instances");function kb(r,e){let t=dn(Fg,r,e);return t&&new pi(t)}function Sb(r){return(e,t)=>{let n=e.runOutsideAngular(()=>r(t));return new pi(n)}}var Rb={provide:Hr,deps:[[new Ze,Au]]},Ab={provide:pi,useFactory:kb,deps:[[new Ze,Au],mn]};function Lg(r,...e){return ct("angularfire",Vr.full,"auth"),tr([Ab,Rb,{provide:Au,useFactory:Sb(r),multi:!0,deps:[_t,an,ir,pn,[new Ze,or],...e]}])}var Og=fn(hl,!0);var Yr=class{constructor(e){return e}},Ug="firestore",Pu=class{constructor(){return hn(Ug)}};var Du=new rt("angularfire2.firestore-instances");function Pb(r,e){let t=dn(Ug,r,e);return t&&new Yr(t)}function Db(r){return(e,t)=>{let n=e.runOutsideAngular(()=>r(t));return new Yr(n)}}var Vb={provide:Pu,deps:[[new Ze,Du]]},Mb={provide:Yr,useFactory:Pb,deps:[[new Ze,Du],mn]};function jg(r,...e){return ct("angularfire",Vr.full,"fst"),tr([Mb,Vb,{provide:Du,useFactory:Db(r),multi:!0,deps:[_t,an,ir,pn,[new Ze,Hr],[new Ze,or],...e]}])}var qg=fn(Ag,!0);var dt=class r{constructor(e){this.firestore=e}getDocs(e){return L(this,null,function*(){let t=yield mi(Qr(this.firestore,e)),n=[];return t.forEach(o=>{let s=o.data();s.ID=o.id,n.push(s)}),console.log(n),n})}getBetweenDates(e,t,n){return L(this,null,function*(){let o=ku(Qr(this.firestore,e),ea("fecha",">=",t),ea("fecha","<=",n)),s=yield mi(o),a=[];return s.forEach(c=>{let d=c.data();d.ID=c.id,a.push(d)}),console.log(a),a})}createDoc(e,t){return L(this,null,function*(){let n=yield ra(Qr(this.firestore,e),t);return console.log("Document written with ID: ",n.id),n})}getDeepDocs(e,t,n){return L(this,null,function*(){let o=Yt(this.firestore,e,t),s=yield mi(Qr(o,n)),a=[];return s.forEach(c=>{let d=c.data();d.ID=c.id,a.push(d)}),console.log(a),a})}createDeepDoc(e,t,n,o){return L(this,null,function*(){let s=Yt(this.firestore,e,t),a=yield ra(Qr(s,n),o);return console.log("Document written with ID: ",a.id),a})}deleteDeepDoc(e,t,n,o){return L(this,null,function*(){let s=Yt(this.firestore,e,t);yield ta(Yt(s,n,o)),console.log("Document deleted with ID: ",o)})}updateDoc(e,t,n){return L(this,null,function*(){yield Su(Yt(this.firestore,e,t),n),console.log("Document updated with ID: ",t)})}deleteDoc(e,t){return L(this,null,function*(){yield ta(Yt(this.firestore,e,t)),console.log("Document deleted with ID: ",t)})}static \u0275fac=function(t){return new(t||r)(Xe(Yr))};static \u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"root"})};var _i=()=>({width:"60px",height:"60px"});function Fb(r,e){r&1&&(h(0,"div"),R(1,"p-progress-spinner",10),m()),r&2&&(P(),Te(ae(2,_i)))}function Lb(r,e){if(r&1&&(h(0,"div",5)(1,"div")(2,"span",11),x(3,"Total Gastos"),m(),h(4,"div",12),x(5),lt(6,"miles"),m()(),h(7,"div",13),R(8,"i",14),m()()),r&2){let t=N();P(5),Pr("Gs. ",qt(6,1,t.total),"")}}function Ob(r,e){r&1&&(h(0,"div"),R(1,"p-progress-spinner",10),m()),r&2&&(P(),Te(ae(2,_i)))}function Ub(r,e){if(r&1){let t=te();h(0,"div",5)(1,"div")(2,"p-select",15),fe("ngModelChange",function(o){j(t);let s=N();return he(s.selectedTarjeta,o)||(s.selectedTarjeta=o),q(o)}),$("onChange",function(o){j(t);let s=N();return q(s.tarjetaSelected(o))}),m(),h(3,"div",12),x(4),lt(5,"miles"),m()(),h(6,"div",16),R(7,"i",17),m()()}if(r&2){let t=N();P(2),O("options",t.tarjetas),de("ngModel",t.selectedTarjeta),O("showClear",!0),P(2),Pr("Gs. ",qt(5,4,t.tarjeta),"")}}function jb(r,e){r&1&&(h(0,"div"),R(1,"p-progress-spinner",10),m()),r&2&&(P(),Te(ae(2,_i)))}function qb(r,e){if(r&1&&(h(0,"div",5)(1,"div")(2,"span",11),x(3,"Contado"),m(),h(4,"div",12),x(5),lt(6,"miles"),m()(),h(7,"div",18),R(8,"i",19),m()()),r&2){let t=N();P(5),Pr("Gs. ",qt(6,1,t.contado),"")}}function zb(r,e){r&1&&(h(0,"div"),R(1,"p-progress-spinner",10),m()),r&2&&(P(),Te(ae(2,_i)))}function Wb(r,e){r&1&&(h(0,"tr")(1,"th"),x(2,"Nombre"),m(),h(3,"th"),x(4,"Categoria"),m(),h(5,"th"),x(6,"Monto"),m()())}function $b(r,e){if(r&1&&(h(0,"tr")(1,"td",22),x(2),m(),h(3,"td",22),x(4),m(),h(5,"td",23),x(6),lt(7,"miles"),m()()),r&2){let t=e.$implicit;P(2),ye(t.nombre),P(2),ye(t.categoria),P(2),ye(qt(7,3,t.monto))}}function Gb(r,e){if(r&1&&(h(0,"div",20),x(1),lt(2,"date"),m(),h(3,"p-table",21),K(4,Wb,7,0,"ng-template",null,0,ie)(6,$b,8,5,"ng-template",null,1,ie),m()),r&2){let t=N();P(),Pr("Gastos ",al(2,4,t.date,"MMMM","es"),""),P(2),O("value",t.filteredEgresos)("paginator",!0)("rows",5)}}function Kb(r,e){r&1&&(h(0,"div"),R(1,"p-progress-spinner",10),m()),r&2&&(P(),Te(ae(2,_i)))}function Qb(r,e){if(r&1&&(h(0,"div",20),x(1,"Categorias"),m(),R(2,"p-chart",24)),r&2){let t=N();P(2),O("data",t.pieData)("options",t.pieOptions)}}var na=class r{constructor(e){this.fireService=e;this.loadEgresos(),this.getTarjetas()}date=new Date;loading=!0;egresos=[];filteredEgresos=[];total=0;tarjeta=0;contado=0;tarjetas=[];selectedTarjeta;pieData;pieOptions;tarjetaSelected(e){console.log(e.value),e.value===null?(this.filteredEgresos=this.egresos,this.reset()):(this.filteredEgresos=this.egresos.filter(t=>t.tarjeta===e.value.nombre||t.tarjeta===e.value.ID),this.recal())}reset(){this.total=0,this.contado=0,this.tarjeta=0,this.filteredEgresos.forEach(e=>{this.total+=e.monto,e.contado?this.contado+=e.monto:this.tarjeta+=e.monto}),this.initCharts()}recal(){this.tarjeta=0,this.filteredEgresos.forEach(e=>{this.tarjeta+=e.monto}),this.initCharts()}getTarjetas(){this.fireService.getDocs("tarjetas").then(e=>{this.tarjetas=e}).catch(e=>{console.log(e)})}loadEgresos(){this.total=0,this.tarjeta=0,this.contado=0,this.loading=!0;let e=new Date(this.date.getFullYear(),this.date.getMonth(),1),t=new Date(this.date.getFullYear(),this.date.getMonth()+1,0);this.fireService.getBetweenDates("egresos",e,t).then(n=>{n.forEach(o=>{this.total+=o.monto,o.contado?this.contado+=o.monto:this.tarjeta+=o.monto,o.fecha=new Date(o.fecha.seconds*1e3)}),this.egresos=n,this.filteredEgresos=n,console.log(n),this.loading=!1,this.initCharts()}).catch(n=>{console.log(n),this.loading=!1})}initCharts(){let e=getComputedStyle(document.documentElement),t=e.getPropertyValue("--text-color"),n=e.getPropertyValue("--text-color-secondary"),o=e.getPropertyValue("--surface-border"),s=[];this.filteredEgresos.reduce(function(c,d){return c[d.categoria]||(c[d.categoria]={categoria:d.categoria,monto:0},s.push(c[d.categoria])),c[d.categoria].monto+=d.monto,c},{}),console.log(s);let a=["--p-indigo-","--p-purple-","--p-teal-","--p-orange-","--p-cyan-","--p-gray-","--p-sky-","--p-amber-","--p-fuchsia-","--p-violet-","--p-rose-","--p-slate-","--p-zinc-","--p-stone-","--p-blue-","--p-lime-","--p-emerald-"];this.pieData={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},s.forEach(c=>{this.pieData.labels.push(c.categoria),this.pieData.datasets[0].data.push(c.monto);let d=Math.floor(Math.random()*a.length);this.pieData.datasets[0].backgroundColor.push(e.getPropertyValue(a[d]+"500")),this.pieData.datasets[0].hoverBackgroundColor.push(e.getPropertyValue(a[d]+"400")),a.splice(d,1)}),this.pieOptions={plugins:{legend:{labels:{usePointStyle:!0,color:t}}}}}static \u0275fac=function(t){return new(t||r)(J(dt))};static \u0275cmp=Y({type:r,selectors:[["app-dashboard"]],decls:29,vars:14,consts:[["header",""],["body",""],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-3"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],["view","month","dateFormat","mm/yy",3,"ngModelChange","onSelect","readonlyInput","showIcon","showButtonBar","ngModel"],[1,"text-surface-900","dark:text-surface-0","pl-2","pt-2","font-medium","text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"card","!mb-8"],["ariaLabel","loading",1,""],[1,"block","text-muted-color","font-medium","mb-4"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-dollar","text-orange-500","!text-xl"],["optionLabel","nombre","placeholder","Tarjetas",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],[1,"flex","items-center","justify-center","bg-cyan-100","dark:bg-cyan-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-credit-card","text-cyan-500","!text-xl"],[1,"flex","items-center","justify-center","bg-purple-100","dark:bg-purple-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-money-bill","text-purple-500","!text-xl"],[1,"font-semibold","text-xl","mb-4"],["responsiveLayout","scroll",3,"value","paginator","rows"],[2,"width","35%","min-width","7rem"],[2,"width","35%","min-width","8rem"],["type","doughnut",1,"h-80",3,"data","options"]],template:function(t,n){t&1&&(h(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"p-datepicker",6),fe("ngModelChange",function(s){return he(n.date,s)||(n.date=s),s}),$("onSelect",function(){return n.loadEgresos()}),m(),h(6,"div",7),x(7),lt(8,"date"),m()()()()(),h(9,"div",3)(10,"div",4),K(11,Fb,2,3,"div")(12,Lb,9,3,"div",5),m()(),h(13,"div",3)(14,"div",4),K(15,Ob,2,3,"div")(16,Ub,8,6,"div",5),m()(),h(17,"div",3)(18,"div",4),K(19,jb,2,3,"div")(20,qb,9,3,"div",5),m()(),h(21,"div",8)(22,"div",9),K(23,zb,2,3,"div")(24,Gb,8,8),m()(),h(25,"div",8)(26,"div",9),K(27,Kb,2,3,"div")(28,Qb,3,2),m()()()),t&2&&(P(5),O("readonlyInput",!0)("showIcon",!0)("showButtonBar",!0),de("ngModel",n.date),P(2),ye(al(8,10,n.date,"MMMM","es")),P(4),Me(n.loading?11:12),P(4),Me(n.loading?15:16),P(4),Me(n.loading?19:20),P(4),Me(n.loading?23:24),P(4),Me(n.loading?27:28))},dependencies:[hr,ns,Et,Ct,xt,cn,yr,Wt,It,ef,Zh,pr,mr,fr],encapsulation:2})};var ia=class r{constructor(e){this.router=e}static \u0275fac=function(t){return new(t||r)(J(vt))};static \u0275cmp=Y({type:r,selectors:[["topbar-widget"]],decls:32,vars:6,consts:[["href","#",1,"flex","items-center"],["viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-12","mr-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M17.1637 19.2467C17.1566 19.4033 17.1529 19.561 17.1529 19.7194C17.1529 25.3503 21.7203 29.915 27.3546 29.915C32.9887 29.915 37.5561 25.3503 37.5561 19.7194C37.5561 19.5572 37.5524 19.3959 37.5449 19.2355C38.5617 19.0801 39.5759 18.9013 40.5867 18.6994L40.6926 18.6782C40.7191 19.0218 40.7326 19.369 40.7326 19.7194C40.7326 27.1036 34.743 33.0896 27.3546 33.0896C19.966 33.0896 13.9765 27.1036 13.9765 19.7194C13.9765 19.374 13.9896 19.0316 14.0154 18.6927L14.0486 18.6994C15.0837 18.9062 16.1223 19.0886 17.1637 19.2467ZM33.3284 11.4538C31.6493 10.2396 29.5855 9.52381 27.3546 9.52381C25.1195 9.52381 23.0524 10.2421 21.3717 11.4603C20.0078 11.3232 18.6475 11.1387 17.2933 10.907C19.7453 8.11308 23.3438 6.34921 27.3546 6.34921C31.36 6.34921 34.9543 8.10844 37.4061 10.896C36.0521 11.1292 34.692 11.3152 33.3284 11.4538ZM43.826 18.0518C43.881 18.6003 43.9091 19.1566 43.9091 19.7194C43.9091 28.8568 36.4973 36.2642 27.3546 36.2642C18.2117 36.2642 10.8 28.8568 10.8 19.7194C10.8 19.1615 10.8276 18.61 10.8816 18.0663L7.75383 17.4411C7.66775 18.1886 7.62354 18.9488 7.62354 19.7194C7.62354 30.6102 16.4574 39.4388 27.3546 39.4388C38.2517 39.4388 47.0855 30.6102 47.0855 19.7194C47.0855 18.9439 47.0407 18.1789 46.9536 17.4267L43.826 18.0518ZM44.2613 9.54743L40.9084 10.2176C37.9134 5.95821 32.9593 3.1746 27.3546 3.1746C21.7442 3.1746 16.7856 5.96385 13.7915 10.2305L10.4399 9.56057C13.892 3.83178 20.1756 0 27.3546 0C34.5281 0 40.8075 3.82591 44.2613 9.54743Z","fill","var(--primary-color)"],["id","mask0_1413_1551","maskUnits","userSpaceOnUse","x","0","y","8","width","54","height","11",2,"mask-type","alpha"],["d","M27 18.3652C10.5114 19.1944 0 8.88892 0 8.88892C0 8.88892 16.5176 14.5866 27 14.5866C37.4824 14.5866 54 8.88892 54 8.88892C54 8.88892 43.4886 17.5361 27 18.3652Z","fill","var(--primary-color)"],["mask","url(#mask0_1413_1551)"],["d","M-4.673e-05 8.88887L3.73084 -1.91434L-8.00806 17.0473L-4.673e-05 8.88887ZM27 18.3652L26.4253 6.95109L27 18.3652ZM54 8.88887L61.2673 17.7127L50.2691 -1.91434L54 8.88887ZM-4.673e-05 8.88887C-8.00806 17.0473 -8.00469 17.0505 -8.00132 17.0538C-8.00018 17.055 -7.99675 17.0583 -7.9944 17.0607C-7.98963 17.0653 -7.98474 17.0701 -7.97966 17.075C-7.96949 17.0849 -7.95863 17.0955 -7.94707 17.1066C-7.92401 17.129 -7.89809 17.1539 -7.86944 17.1812C-7.8122 17.236 -7.74377 17.3005 -7.66436 17.3743C-7.50567 17.5218 -7.30269 17.7063 -7.05645 17.9221C-6.56467 18.3532 -5.89662 18.9125 -5.06089 19.5534C-3.39603 20.83 -1.02575 22.4605 1.98012 24.0457C7.97874 27.2091 16.7723 30.3226 27.5746 29.7793L26.4253 6.95109C20.7391 7.23699 16.0326 5.61231 12.6534 3.83024C10.9703 2.94267 9.68222 2.04866 8.86091 1.41888C8.45356 1.10653 8.17155 0.867278 8.0241 0.738027C7.95072 0.673671 7.91178 0.637576 7.90841 0.634492C7.90682 0.63298 7.91419 0.639805 7.93071 0.65557C7.93897 0.663455 7.94952 0.673589 7.96235 0.686039C7.96883 0.692262 7.97582 0.699075 7.98338 0.706471C7.98719 0.710167 7.99113 0.714014 7.99526 0.718014C7.99729 0.720008 8.00047 0.723119 8.00148 0.724116C8.00466 0.727265 8.00796 0.730446 -4.673e-05 8.88887ZM27.5746 29.7793C37.6904 29.2706 45.9416 26.3684 51.6602 23.6054C54.5296 22.2191 56.8064 20.8465 58.4186 19.7784C59.2265 19.2431 59.873 18.7805 60.3494 18.4257C60.5878 18.2482 60.7841 18.0971 60.9374 17.977C61.014 17.9169 61.0799 17.8645 61.1349 17.8203C61.1624 17.7981 61.1872 17.7781 61.2093 17.7602C61.2203 17.7512 61.2307 17.7427 61.2403 17.7348C61.2452 17.7308 61.2499 17.727 61.2544 17.7233C61.2566 17.7215 61.2598 17.7188 61.261 17.7179C61.2642 17.7153 61.2673 17.7127 54 8.88887C46.7326 0.0650536 46.7357 0.0625219 46.7387 0.0600241C46.7397 0.0592345 46.7427 0.0567658 46.7446 0.0551857C46.7485 0.0520238 46.7521 0.0489887 46.7557 0.0460799C46.7628 0.0402623 46.7694 0.0349487 46.7753 0.0301318C46.7871 0.0204986 46.7966 0.0128495 46.8037 0.00712562C46.818 -0.00431848 46.8228 -0.00808311 46.8184 -0.00463784C46.8096 0.00228345 46.764 0.0378652 46.6828 0.0983779C46.5199 0.219675 46.2165 0.439161 45.7812 0.727519C44.9072 1.30663 43.5257 2.14765 41.7061 3.02677C38.0469 4.79468 32.7981 6.63058 26.4253 6.95109L27.5746 29.7793ZM54 8.88887C50.2691 -1.91433 50.27 -1.91467 50.271 -1.91498C50.2712 -1.91506 50.272 -1.91535 50.2724 -1.9155C50.2733 -1.91581 50.274 -1.91602 50.2743 -1.91616C50.2752 -1.91643 50.275 -1.91636 50.2738 -1.91595C50.2714 -1.91515 50.2652 -1.91302 50.2552 -1.9096C50.2351 -1.90276 50.1999 -1.89078 50.1503 -1.874C50.0509 -1.84043 49.8938 -1.78773 49.6844 -1.71863C49.2652 -1.58031 48.6387 -1.377 47.8481 -1.13035C46.2609 -0.635237 44.0427 0.0249875 41.5325 0.6823C36.215 2.07471 30.6736 3.15796 27 3.15796V26.0151C33.8087 26.0151 41.7672 24.2495 47.3292 22.7931C50.2586 22.026 52.825 21.2618 54.6625 20.6886C55.5842 20.4011 56.33 20.1593 56.8551 19.986C57.1178 19.8993 57.3258 19.8296 57.4735 19.7797C57.5474 19.7548 57.6062 19.7348 57.6493 19.72C57.6709 19.7127 57.6885 19.7066 57.7021 19.7019C57.7089 19.6996 57.7147 19.6976 57.7195 19.696C57.7219 19.6952 57.7241 19.6944 57.726 19.6938C57.7269 19.6934 57.7281 19.693 57.7286 19.6929C57.7298 19.6924 57.7309 19.692 54 8.88887ZM27 3.15796C23.3263 3.15796 17.7849 2.07471 12.4674 0.6823C9.95717 0.0249875 7.73904 -0.635237 6.15184 -1.13035C5.36118 -1.377 4.73467 -1.58031 4.3155 -1.71863C4.10609 -1.78773 3.94899 -1.84043 3.84961 -1.874C3.79994 -1.89078 3.76474 -1.90276 3.74471 -1.9096C3.73469 -1.91302 3.72848 -1.91515 3.72613 -1.91595C3.72496 -1.91636 3.72476 -1.91643 3.72554 -1.91616C3.72593 -1.91602 3.72657 -1.91581 3.72745 -1.9155C3.72789 -1.91535 3.72874 -1.91506 3.72896 -1.91498C3.72987 -1.91467 3.73084 -1.91433 -4.673e-05 8.88887C-3.73093 19.692 -3.72983 19.6924 -3.72868 19.6929C-3.72821 19.693 -3.72698 19.6934 -3.72603 19.6938C-3.72415 19.6944 -3.72201 19.6952 -3.71961 19.696C-3.71482 19.6976 -3.70901 19.6996 -3.7022 19.7019C-3.68858 19.7066 -3.67095 19.7127 -3.6494 19.72C-3.60629 19.7348 -3.54745 19.7548 -3.47359 19.7797C-3.32589 19.8296 -3.11788 19.8993 -2.85516 19.986C-2.33008 20.1593 -1.58425 20.4011 -0.662589 20.6886C1.17485 21.2618 3.74125 22.026 6.67073 22.7931C12.2327 24.2495 20.1913 26.0151 27 26.0151V3.15796Z","fill","var(--primary-color)"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-2xl","leading-normal","mr-20"],["pButton","","severity","secondary","pRipple","","pStyleClass","@next","enterClass","hidden","leaveToClass","hidden",1,"lg:!hidden",3,"text","rounded","hideOnOutsideClick"],[1,"pi","pi-bars","!text-2xl"],[1,"items-center","bg-surface-0","dark:bg-surface-900","grow","justify-between","hidden","lg:flex","absolute","lg:static","w-full","left-0","top-full","px-12","lg:px-0","z-20","rounded-border"],[1,"list-none","p-0","m-0","flex","lg:items-center","select-none","flex-col","lg:flex-row","cursor-pointer","gap-8"],["pRipple","",1,"px-0","py-4","text-surface-900","dark:text-surface-0","font-medium","text-xl",3,"click"],[1,"flex","border-t","lg:border-t-0","border-surface","py-4","lg:py-0","mt-4","lg:mt-0","gap-2"],["pButton","","pRipple","","label","Login","routerLink","/auth/login",3,"rounded","text"],["pButton","","pRipple","","label","Register","routerLink","/auth/login",3,"rounded"]],template:function(t,n){t&1&&(h(0,"a",0),rr(),h(1,"svg",1),R(2,"path",2),h(3,"mask",3),R(4,"path",4),m(),h(5,"g",5),R(6,"path",6),m()(),sn(),h(7,"span",7),x(8,"SAKAI"),m()(),h(9,"a",8),R(10,"i",9),m(),h(11,"div",10)(12,"ul",11)(13,"li")(14,"a",12),$("click",function(){return n.router.navigate(["/landing"],{fragment:"home"})}),h(15,"span"),x(16,"Home"),m()()(),h(17,"li")(18,"a",12),$("click",function(){return n.router.navigate(["/landing"],{fragment:"features"})}),h(19,"span"),x(20,"Features"),m()()(),h(21,"li")(22,"a",12),$("click",function(){return n.router.navigate(["/landing"],{fragment:"highlights"})}),h(23,"span"),x(24,"Highlights"),m()()(),h(25,"li")(26,"a",12),$("click",function(){return n.router.navigate(["/landing"],{fragment:"pricing"})}),h(27,"span"),x(28,"Pricing"),m()()()(),h(29,"div",13),R(30,"button",14)(31,"button",15),m()()),t&2&&(P(9),O("text",!0)("rounded",!0)("hideOnOutsideClick",!0),P(21),O("rounded",!0)("text",!0),P(),O("rounded",!0))},dependencies:[Be,sr,_n,Xh,Ie,bn,wt,lr],encapsulation:2})};var sa=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["hero-widget"]],decls:11,vars:1,consts:[["id","hero",1,"flex","flex-col","pt-6","px-6","lg:px-20","overflow-hidden",2,"background","linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2)), radial-gradient(77.36% 256.97% at 77.36% 57.52%, rgb(238, 239, 175) 0%, rgb(195, 227, 250) 100%)","clip-path","ellipse(150% 87% at 93% 13%)"],[1,"mx-6","md:mx-20","mt-0","md:mt-6"],[1,"text-6xl","font-bold","text-gray-900","leading-tight"],[1,"font-light","block"],[1,"font-normal","text-2xl","leading-normal","md:mt-4","text-gray-700"],["pButton","","pRipple","","type","button","label","Get Started",1,"!text-xl","mt-8","!px-4",3,"rounded"],[1,"flex","justify-center","md:justify-end"],["src","https://primefaces.org/cdn/templates/sakai/landing/screen-1.png","alt","Hero Image",1,"w-9/12","md:w-auto"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1)(2,"h1",2)(3,"span",3),x(4,"Eu sem integer"),m(),x(5,"eget magna fermentum"),m(),h(6,"p",4),x(7,"Sed blandit libero volutpat sed cras. Fames ac turpis egestas integer. Placerat in egestas erat..."),m(),R(8,"button",5),m(),h(9,"div",6),R(10,"img",7),m()()),t&2&&(P(8),O("rounded",!0))},dependencies:[Ie,bn,wt,lr],encapsulation:2})};var aa=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["features-widget"]],decls:97,vars:0,consts:[["id","features",1,"py-6","px-6","lg:px-20","mt-8","mx-0","lg:mx-20"],[1,"grid","grid-cols-12","gap-4","justify-center"],[1,"col-span-12","text-center","mt-20","mb-6"],[1,"text-surface-900","dark:text-surface-0","font-normal","mb-2","text-4xl"],[1,"text-muted-color","text-2xl"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg:pr-8","lg:pb-8","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(253, 228, 165, 0.2), rgba(187, 199, 205, 0.2)), linear-gradient(180deg, rgba(253, 228, 165, 0.2), rgba(187, 199, 205, 0.2))"],[1,"p-4","bg-surface-0","dark:bg-surface-900","h-full",2,"border-radius","8px"],[1,"flex","items-center","justify-center","bg-yellow-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-users","!text-2xl","text-yellow-700"],[1,"mb-2","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-200"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 226, 237, 0.2), rgba(251, 199, 145, 0.2)), linear-gradient(180deg, rgba(253, 228, 165, 0.2), rgba(172, 180, 223, 0.2))"],[1,"flex","items-center","justify-center","bg-cyan-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-palette","!text-2xl","text-cyan-700"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg:pb-8","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 226, 237, 0.2), rgba(172, 180, 223, 0.2)), linear-gradient(180deg, rgba(172, 180, 223, 0.2), rgba(246, 158, 188, 0.2))"],[1,"flex","items-center","justify-center","bg-indigo-200",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-map","!text-2xl","text-indigo-700"],[1,"mt-6","mb-1","text-surface-900","dark:text-surface-0","text-xl","font-semibold"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(187, 199, 205, 0.2), rgba(251, 199, 145, 0.2)), linear-gradient(180deg, rgba(253, 228, 165, 0.2), rgba(145, 210, 204, 0.2))"],[1,"flex","items-center","justify-center","bg-slate-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-id-card","!text-2xl","text-slate-700"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(187, 199, 205, 0.2), rgba(246, 158, 188, 0.2)), linear-gradient(180deg, rgba(145, 226, 237, 0.2), rgba(160, 210, 250, 0.2))"],[1,"flex","items-center","justify-center","bg-orange-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-star","!text-2xl","text-orange-700"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(251, 199, 145, 0.2), rgba(246, 158, 188, 0.2)), linear-gradient(180deg, rgba(172, 180, 223, 0.2), rgba(212, 162, 221, 0.2))"],[1,"flex","items-center","justify-center","bg-pink-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-moon","!text-2xl","text-pink-700"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg:pr-8","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 210, 204, 0.2), rgba(160, 210, 250, 0.2)), linear-gradient(180deg, rgba(187, 199, 205, 0.2), rgba(145, 210, 204, 0.2))"],[1,"flex","items-center","justify-center","bg-teal-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-shopping-cart","!text-2xl","text-teal-700"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 210, 204, 0.2), rgba(212, 162, 221, 0.2)), linear-gradient(180deg, rgba(251, 199, 145, 0.2), rgba(160, 210, 250, 0.2))"],[1,"flex","items-center","justify-center","bg-blue-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-globe","!text-2xl","text-blue-700"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg-4","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(160, 210, 250, 0.2), rgba(212, 162, 221, 0.2)), linear-gradient(180deg, rgba(246, 158, 188, 0.2), rgba(212, 162, 221, 0.2))"],[1,"flex","items-center","justify-center","bg-purple-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-eye","!text-2xl","text-purple-700"],[1,"col-span-12","mt-20","mb-20","p-2","md:p-20",2,"border-radius","20px","background","linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), radial-gradient(77.36% 256.97% at 77.36% 57.52%, #efe1af 0%, #c3dcfa 100%)"],[1,"flex","flex-col","justify-center","items-center","text-center","px-4","py-4","md:py-0"],[1,"text-gray-900","mb-2","text-3xl","font-semibold"],[1,"text-gray-600","text-2xl"],[1,"text-gray-900","sm:line-height-2","md:line-height-4","text-2xl","mt-6",2,"max-width","800px"],["src","https://primefaces.org/cdn/templates/sakai/landing/peak-logo.svg","alt","Company logo",1,"mt-6"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x(4,"Marvelous Features"),m(),h(5,"span",4),x(6,"Placerat in egestas erat..."),m()(),h(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),R(11,"i",9),m(),h(12,"h5",10),x(13,"Easy to Use"),m(),h(14,"span",11),x(15,"Posuere morbi leo urna molestie."),m()()()(),h(16,"div",5)(17,"div",12)(18,"div",7)(19,"div",13),R(20,"i",14),m(),h(21,"h5",10),x(22,"Fresh Design"),m(),h(23,"span",11),x(24,"Semper risus in hendrerit."),m()()()(),h(25,"div",15)(26,"div",16)(27,"div",7)(28,"div",17),R(29,"i",18),m(),h(30,"div",19),x(31,"Well Documented"),m(),h(32,"span",11),x(33,"Non arcu risus quis varius quam quisque."),m()()()(),h(34,"div",5)(35,"div",20)(36,"div",7)(37,"div",21),R(38,"i",22),m(),h(39,"div",19),x(40,"Responsive Layout"),m(),h(41,"span",11),x(42,"Nulla malesuada pellentesque elit."),m()()()(),h(43,"div",5)(44,"div",23)(45,"div",7)(46,"div",24),R(47,"i",25),m(),h(48,"div",19),x(49,"Clean Code"),m(),h(50,"span",11),x(51,"Condimentum lacinia quis vel eros."),m()()()(),h(52,"div",15)(53,"div",26)(54,"div",7)(55,"div",27),R(56,"i",28),m(),h(57,"div",19),x(58,"Dark Mode"),m(),h(59,"span",11),x(60,"Convallis tellus id interdum velit laoreet."),m()()()(),h(61,"div",29)(62,"div",30)(63,"div",7)(64,"div",31),R(65,"i",32),m(),h(66,"div",19),x(67,"Ready to Use"),m(),h(68,"span",11),x(69,"Mauris sit amet massa vitae."),m()()()(),h(70,"div",29)(71,"div",33)(72,"div",7)(73,"div",34),R(74,"i",35),m(),h(75,"div",19),x(76,"Modern Practices"),m(),h(77,"span",11),x(78,"Elementum nibh tellus molestie nunc non."),m()()()(),h(79,"div",36)(80,"div",37)(81,"div",7)(82,"div",38),R(83,"i",39),m(),h(84,"div",19),x(85,"Privacy"),m(),h(86,"span",11),x(87,"Neque egestas congue quisque."),m()()()(),h(88,"div",40)(89,"div",41)(90,"div",42),x(91,"Jos\xE9phine Miller"),m(),h(92,"span",43),x(93,"Peak Interactive"),m(),h(94,"p",44),x(95," \u201CDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\u201D "),m(),R(96,"img",45),m()()()())},dependencies:[Ne],encapsulation:2})};var la=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["highlights-widget"]],decls:26,vars:0,consts:[["id","highlights",1,"py-6","px-6","lg:px-20","mx-0","my-12","lg:mx-20"],[1,"text-center"],[1,"text-surface-900","dark:text-surface-0","font-normal","mb-2","text-4xl"],[1,"text-muted-color","text-2xl"],[1,"grid","grid-cols-12","gap-4","mt-20","pb-2","md:pb-20"],[1,"flex","justify-center","col-span-12","lg:col-span-6","bg-purple-100","p-0","order-1","lg:order-none",2,"border-radius","8px"],["src","https://primefaces.org/cdn/templates/sakai/landing/mockup.png","alt","mockup mobile",1,"w-11/12"],[1,"col-span-12","lg:col-span-6","my-auto","flex","flex-col","lg:items-end","text-center","lg:text-right","gap-4"],[1,"flex","items-center","justify-center","bg-purple-200","self-center","lg:self-end",2,"width","4.2rem","height","4.2rem","border-radius","10px"],[1,"pi","pi-fw","pi-mobile","!text-4xl","text-purple-700"],[1,"leading-none","text-surface-900","dark:text-surface-0","text-3xl","font-normal"],[1,"text-surface-700","dark:text-surface-100","text-2xl","leading-normal","ml-0","md:ml-2",2,"max-width","650px"],[1,"grid","grid-cols-12","gap-4","my-20","pt-2","md:pt-20"],[1,"col-span-12","lg:col-span-6","my-auto","flex","flex-col","text-center","lg:text-left","lg:items-start","gap-4"],[1,"flex","items-center","justify-center","bg-yellow-200","self-center","lg:self-start",2,"width","4.2rem","height","4.2rem","border-radius","10px"],[1,"pi","pi-fw","pi-desktop","!text-3xl","text-yellow-700"],[1,"text-surface-700","dark:text-surface-100","text-2xl","leading-normal","mr-0","md:mr-2",2,"max-width","650px"],[1,"flex","justify-end","order-1","sm:order-2","col-span-12","lg:col-span-6","bg-yellow-100","p-0",2,"border-radius","8px"],["src","https://primefaces.org/cdn/templates/sakai/landing/mockup-desktop.png","alt","mockup",1,"w-11/12"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),x(3,"Powerful Everywhere"),m(),h(4,"span",3),x(5,"Amet consectetur adipiscing elit..."),m()(),h(6,"div",4)(7,"div",5),R(8,"img",6),m(),h(9,"div",7)(10,"div",8),R(11,"i",9),m(),h(12,"div",10),x(13,"Congue Quisque Egestas"),m(),h(14,"span",11),x(15,"Lectus arcu bibendum at varius vel pharetra vel turpis nunc. Eget aliquet nibh praesent tristique magna sit amet purus gravida. Sit amet mattis vulputate enim nulla aliquet."),m()()(),h(16,"div",12)(17,"div",13)(18,"div",14),R(19,"i",15),m(),h(20,"div",10),x(21,"Celerisque Eu Ultrices"),m(),h(22,"span",16),x(23,"Adipiscing commodo elit at imperdiet dui. Viverra nibh cras pulvinar mattis nunc sed blandit libero. Suspendisse in est ante in. Mauris pharetra et ultrices neque ornare aenean euismod elementum nisi."),m()(),h(24,"div",17),R(25,"img",18),m()()())},encapsulation:2})};var ca=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["pricing-widget"]],decls:97,vars:0,consts:[["id","pricing",1,"py-6","px-6","lg:px-20","my-2","md:my-6"],[1,"text-center","mb-6"],[1,"text-surface-900","dark:text-surface-0","font-normal","mb-2","text-4xl"],[1,"text-muted-color","text-2xl"],[1,"grid","grid-cols-12","gap-4","justify-between","mt-20","md:mt-0"],[1,"col-span-12","lg:col-span-4","p-0","md:p-4"],[1,"p-4","flex","flex-col","border-surface-200","dark:border-surface-600","pricing-card","cursor-pointer","border-2","hover:border-primary","duration-300","transition-all",2,"border-radius","10px"],[1,"text-surface-900","dark:text-surface-0","text-center","my-8","text-3xl"],["src","https://primefaces.org/cdn/templates/sakai/landing/free.svg","alt","free",1,"w-10/12","mx-auto"],[1,"my-8","flex","flex-col","items-center","gap-4"],[1,"flex","items-center"],[1,"text-5xl","font-bold","mr-2","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-200"],["pButton","","pRipple","","label","Get Started",1,"p-button-rounded","border-0","ml-4","font-light","leading-tight","bg-blue-500","text-white"],[1,"w-full","bg-surface-200"],[1,"my-8","list-none","p-0","flex","text-surface-900","dark:text-surface-0","flex-col","px-8"],[1,"py-2"],[1,"pi","pi-fw","pi-check","text-xl","text-cyan-500","mr-2"],[1,"text-xl","leading-normal"],[1,"col-span-12","lg:col-span-4","p-0","md:p-4","mt-6","md:mt-0"],["src","https://primefaces.org/cdn/templates/sakai/landing/startup.svg","alt","startup",1,"w-10/12","mx-auto"],["src","https://primefaces.org/cdn/templates/sakai/landing/enterprise.svg","alt","enterprise",1,"w-10/12","mx-auto"],["pButton","","pRipple","","label","Try Free",1,"p-button-rounded","border-0","ml-4","font-light","leading-tight","bg-blue-500","text-white"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),x(3,"Matchless Pricing"),m(),h(4,"span",3),x(5,"Amet consectetur adipiscing elit..."),m()(),h(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),x(10,"Free"),m(),R(11,"img",8),h(12,"div",9)(13,"div",10)(14,"span",11),x(15,"$0"),m(),h(16,"span",12),x(17,"per month"),m()(),R(18,"button",13),m(),R(19,"p-divider",14),h(20,"ul",15)(21,"li",16),R(22,"i",17),h(23,"span",18),x(24,"Responsive Layout"),m()(),h(25,"li",16),R(26,"i",17),h(27,"span",18),x(28,"Unlimited Push Messages"),m()(),h(29,"li",16),R(30,"i",17),h(31,"span",18),x(32,"50 Support Ticket"),m()(),h(33,"li",16),R(34,"i",17),h(35,"span",18),x(36,"Free Shipping"),m()()()()(),h(37,"div",19)(38,"div",6)(39,"div",7),x(40,"Startup"),m(),R(41,"img",20),h(42,"div",9)(43,"div",10)(44,"span",11),x(45,"$1"),m(),h(46,"span",12),x(47,"per month"),m()(),R(48,"button",13),m(),R(49,"p-divider",14),h(50,"ul",15)(51,"li",16),R(52,"i",17),h(53,"span",18),x(54,"Responsive Layout"),m()(),h(55,"li",16),R(56,"i",17),h(57,"span",18),x(58,"Unlimited Push Messages"),m()(),h(59,"li",16),R(60,"i",17),h(61,"span",18),x(62,"50 Support Ticket"),m()(),h(63,"li",16),R(64,"i",17),h(65,"span",18),x(66,"Free Shipping"),m()()()()(),h(67,"div",19)(68,"div",6)(69,"div",7),x(70,"Enterprise"),m(),R(71,"img",21),h(72,"div",9)(73,"div",10)(74,"span",11),x(75,"$5"),m(),h(76,"span",12),x(77,"per month"),m()(),R(78,"button",22),m(),R(79,"p-divider",14),h(80,"ul",15)(81,"li",16),R(82,"i",17),h(83,"span",18),x(84,"Responsive Layout"),m()(),h(85,"li",16),R(86,"i",17),h(87,"span",18),x(88,"Unlimited Push Messages"),m()(),h(89,"li",16),R(90,"i",17),h(91,"span",18),x(92,"50 Support Ticket"),m()(),h(93,"li",16),R(94,"i",17),h(95,"span",18),x(96,"Free Shipping"),m()()()()()()())},dependencies:[is,nf,Ie,bn,wt,lr],encapsulation:2})};var ua=class r{constructor(e){this.router=e}static \u0275fac=function(t){return new(t||r)(J(vt))};static \u0275cmp=Y({type:r,selectors:[["footer-widget"]],decls:57,vars:0,consts:[[1,"py-12","px-12","mx-0","mt-20","lg:mx-20"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-2"],[1,"flex","flex-wrap","items-center","justify-center","md:justify-start","md:mb-0","mb-6","cursor-pointer",3,"click"],["viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-14","mr-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M17.1637 19.2467C17.1566 19.4033 17.1529 19.561 17.1529 19.7194C17.1529 25.3503 21.7203 29.915 27.3546 29.915C32.9887 29.915 37.5561 25.3503 37.5561 19.7194C37.5561 19.5572 37.5524 19.3959 37.5449 19.2355C38.5617 19.0801 39.5759 18.9013 40.5867 18.6994L40.6926 18.6782C40.7191 19.0218 40.7326 19.369 40.7326 19.7194C40.7326 27.1036 34.743 33.0896 27.3546 33.0896C19.966 33.0896 13.9765 27.1036 13.9765 19.7194C13.9765 19.374 13.9896 19.0316 14.0154 18.6927L14.0486 18.6994C15.0837 18.9062 16.1223 19.0886 17.1637 19.2467ZM33.3284 11.4538C31.6493 10.2396 29.5855 9.52381 27.3546 9.52381C25.1195 9.52381 23.0524 10.2421 21.3717 11.4603C20.0078 11.3232 18.6475 11.1387 17.2933 10.907C19.7453 8.11308 23.3438 6.34921 27.3546 6.34921C31.36 6.34921 34.9543 8.10844 37.4061 10.896C36.0521 11.1292 34.692 11.3152 33.3284 11.4538ZM43.826 18.0518C43.881 18.6003 43.9091 19.1566 43.9091 19.7194C43.9091 28.8568 36.4973 36.2642 27.3546 36.2642C18.2117 36.2642 10.8 28.8568 10.8 19.7194C10.8 19.1615 10.8276 18.61 10.8816 18.0663L7.75383 17.4411C7.66775 18.1886 7.62354 18.9488 7.62354 19.7194C7.62354 30.6102 16.4574 39.4388 27.3546 39.4388C38.2517 39.4388 47.0855 30.6102 47.0855 19.7194C47.0855 18.9439 47.0407 18.1789 46.9536 17.4267L43.826 18.0518ZM44.2613 9.54743L40.9084 10.2176C37.9134 5.95821 32.9593 3.1746 27.3546 3.1746C21.7442 3.1746 16.7856 5.96385 13.7915 10.2305L10.4399 9.56057C13.892 3.83178 20.1756 0 27.3546 0C34.5281 0 40.8075 3.82591 44.2613 9.54743Z","fill","var(--primary-color)"],["id","mask0_1413_1551","maskUnits","userSpaceOnUse","x","0","y","8","width","54","height","11",2,"mask-type","alpha"],["d","M27 18.3652C10.5114 19.1944 0 8.88892 0 8.88892C0 8.88892 16.5176 14.5866 27 14.5866C37.4824 14.5866 54 8.88892 54 8.88892C54 8.88892 43.4886 17.5361 27 18.3652Z","fill","var(--primary-color)"],["mask","url(#mask0_1413_1551)"],["d","M-4.673e-05 8.88887L3.73084 -1.91434L-8.00806 17.0473L-4.673e-05 8.88887ZM27 18.3652L26.4253 6.95109L27 18.3652ZM54 8.88887L61.2673 17.7127L50.2691 -1.91434L54 8.88887ZM-4.673e-05 8.88887C-8.00806 17.0473 -8.00469 17.0505 -8.00132 17.0538C-8.00018 17.055 -7.99675 17.0583 -7.9944 17.0607C-7.98963 17.0653 -7.98474 17.0701 -7.97966 17.075C-7.96949 17.0849 -7.95863 17.0955 -7.94707 17.1066C-7.92401 17.129 -7.89809 17.1539 -7.86944 17.1812C-7.8122 17.236 -7.74377 17.3005 -7.66436 17.3743C-7.50567 17.5218 -7.30269 17.7063 -7.05645 17.9221C-6.56467 18.3532 -5.89662 18.9125 -5.06089 19.5534C-3.39603 20.83 -1.02575 22.4605 1.98012 24.0457C7.97874 27.2091 16.7723 30.3226 27.5746 29.7793L26.4253 6.95109C20.7391 7.23699 16.0326 5.61231 12.6534 3.83024C10.9703 2.94267 9.68222 2.04866 8.86091 1.41888C8.45356 1.10653 8.17155 0.867278 8.0241 0.738027C7.95072 0.673671 7.91178 0.637576 7.90841 0.634492C7.90682 0.63298 7.91419 0.639805 7.93071 0.65557C7.93897 0.663455 7.94952 0.673589 7.96235 0.686039C7.96883 0.692262 7.97582 0.699075 7.98338 0.706471C7.98719 0.710167 7.99113 0.714014 7.99526 0.718014C7.99729 0.720008 8.00047 0.723119 8.00148 0.724116C8.00466 0.727265 8.00796 0.730446 -4.673e-05 8.88887ZM27.5746 29.7793C37.6904 29.2706 45.9416 26.3684 51.6602 23.6054C54.5296 22.2191 56.8064 20.8465 58.4186 19.7784C59.2265 19.2431 59.873 18.7805 60.3494 18.4257C60.5878 18.2482 60.7841 18.0971 60.9374 17.977C61.014 17.9169 61.0799 17.8645 61.1349 17.8203C61.1624 17.7981 61.1872 17.7781 61.2093 17.7602C61.2203 17.7512 61.2307 17.7427 61.2403 17.7348C61.2452 17.7308 61.2499 17.727 61.2544 17.7233C61.2566 17.7215 61.2598 17.7188 61.261 17.7179C61.2642 17.7153 61.2673 17.7127 54 8.88887C46.7326 0.0650536 46.7357 0.0625219 46.7387 0.0600241C46.7397 0.0592345 46.7427 0.0567658 46.7446 0.0551857C46.7485 0.0520238 46.7521 0.0489887 46.7557 0.0460799C46.7628 0.0402623 46.7694 0.0349487 46.7753 0.0301318C46.7871 0.0204986 46.7966 0.0128495 46.8037 0.00712562C46.818 -0.00431848 46.8228 -0.00808311 46.8184 -0.00463784C46.8096 0.00228345 46.764 0.0378652 46.6828 0.0983779C46.5199 0.219675 46.2165 0.439161 45.7812 0.727519C44.9072 1.30663 43.5257 2.14765 41.7061 3.02677C38.0469 4.79468 32.7981 6.63058 26.4253 6.95109L27.5746 29.7793ZM54 8.88887C50.2691 -1.91433 50.27 -1.91467 50.271 -1.91498C50.2712 -1.91506 50.272 -1.91535 50.2724 -1.9155C50.2733 -1.91581 50.274 -1.91602 50.2743 -1.91616C50.2752 -1.91643 50.275 -1.91636 50.2738 -1.91595C50.2714 -1.91515 50.2652 -1.91302 50.2552 -1.9096C50.2351 -1.90276 50.1999 -1.89078 50.1503 -1.874C50.0509 -1.84043 49.8938 -1.78773 49.6844 -1.71863C49.2652 -1.58031 48.6387 -1.377 47.8481 -1.13035C46.2609 -0.635237 44.0427 0.0249875 41.5325 0.6823C36.215 2.07471 30.6736 3.15796 27 3.15796V26.0151C33.8087 26.0151 41.7672 24.2495 47.3292 22.7931C50.2586 22.026 52.825 21.2618 54.6625 20.6886C55.5842 20.4011 56.33 20.1593 56.8551 19.986C57.1178 19.8993 57.3258 19.8296 57.4735 19.7797C57.5474 19.7548 57.6062 19.7348 57.6493 19.72C57.6709 19.7127 57.6885 19.7066 57.7021 19.7019C57.7089 19.6996 57.7147 19.6976 57.7195 19.696C57.7219 19.6952 57.7241 19.6944 57.726 19.6938C57.7269 19.6934 57.7281 19.693 57.7286 19.6929C57.7298 19.6924 57.7309 19.692 54 8.88887ZM27 3.15796C23.3263 3.15796 17.7849 2.07471 12.4674 0.6823C9.95717 0.0249875 7.73904 -0.635237 6.15184 -1.13035C5.36118 -1.377 4.73467 -1.58031 4.3155 -1.71863C4.10609 -1.78773 3.94899 -1.84043 3.84961 -1.874C3.79994 -1.89078 3.76474 -1.90276 3.74471 -1.9096C3.73469 -1.91302 3.72848 -1.91515 3.72613 -1.91595C3.72496 -1.91636 3.72476 -1.91643 3.72554 -1.91616C3.72593 -1.91602 3.72657 -1.91581 3.72745 -1.9155C3.72789 -1.91535 3.72874 -1.91506 3.72896 -1.91498C3.72987 -1.91467 3.73084 -1.91433 -4.673e-05 8.88887C-3.73093 19.692 -3.72983 19.6924 -3.72868 19.6929C-3.72821 19.693 -3.72698 19.6934 -3.72603 19.6938C-3.72415 19.6944 -3.72201 19.6952 -3.71961 19.696C-3.71482 19.6976 -3.70901 19.6996 -3.7022 19.7019C-3.68858 19.7066 -3.67095 19.7127 -3.6494 19.72C-3.60629 19.7348 -3.54745 19.7548 -3.47359 19.7797C-3.32589 19.8296 -3.11788 19.8993 -2.85516 19.986C-2.33008 20.1593 -1.58425 20.4011 -0.662589 20.6886C1.17485 21.2618 3.74125 22.026 6.67073 22.7931C12.2327 24.2495 20.1913 26.0151 27 26.0151V3.15796Z","fill","var(--primary-color)"],[1,"font-medium","text-3xl","text-surface-900","dark:text-surface-0"],[1,"col-span-12","md:col-span-10"],[1,"grid","grid-cols-12","gap-8","text-center","md:text-left"],[1,"col-span-12","md:col-span-3"],[1,"font-medium","text-2xl","leading-normal","mb-6","text-surface-900","dark:text-surface-0"],[1,"leading-normal","text-xl","block","cursor-pointer","mb-2","text-surface-700","dark:text-surface-100"],[1,"leading-normal","text-xl","block","cursor-pointer","text-surface-700","dark:text-surface-100"],["src","https://primefaces.org/cdn/templates/sakai/landing/new-badge.svg","alt","badge",1,"ml-2"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),$("click",function(){return n.router.navigate(["/pages/landing"],{fragment:"home"})}),rr(),h(4,"svg",4),R(5,"path",5),h(6,"mask",6),R(7,"path",7),m(),h(8,"g",8),R(9,"path",9),m()(),sn(),h(10,"h4",10),x(11,"SAKAI"),m()()(),h(12,"div",11)(13,"div",12)(14,"div",13)(15,"h4",14),x(16,"Company"),m(),h(17,"a",15),x(18,"About Us"),m(),h(19,"a",15),x(20,"News"),m(),h(21,"a",15),x(22,"Investor Relations"),m(),h(23,"a",15),x(24,"Careers"),m(),h(25,"a",16),x(26,"Media Kit"),m()(),h(27,"div",13)(28,"h4",14),x(29,"Resources"),m(),h(30,"a",15),x(31,"Get Started"),m(),h(32,"a",15),x(33,"Learn"),m(),h(34,"a",16),x(35,"Case Studies"),m()(),h(36,"div",13)(37,"h4",14),x(38,"Community"),m(),h(39,"a",15),x(40,"Discord"),m(),h(41,"a",15),x(42,"Events"),R(43,"img",17),m(),h(44,"a",15),x(45,"FAQ"),m(),h(46,"a",16),x(47,"Blog"),m()(),h(48,"div",13)(49,"h4",14),x(50,"Legal"),m(),h(51,"a",15),x(52,"Brand Policy"),m(),h(53,"a",15),x(54,"Privacy Policy"),m(),h(55,"a",16),x(56,"Terms of Service"),m()()()()()())},dependencies:[Be],encapsulation:2})};var da=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["app-landing"]],decls:8,vars:0,consts:[[1,"bg-surface-0","dark:bg-surface-900"],["id","home",1,"landing-wrapper","overflow-hidden"],[1,"py-6","px-6","mx-0","md:mx-12","lg:mx-20","lg:px-20","flex","items-center","justify-between","relative","lg:static"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"div",1),R(2,"topbar-widget",2)(3,"hero-widget")(4,"features-widget")(5,"highlights-widget")(6,"pricing-widget")(7,"footer-widget"),m()())},dependencies:[Be,ia,sa,aa,la,ca,ua,wt,_n,Ie,is],encapsulation:2})};var ha=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["app-notfound"]],decls:42,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],["width","54","height","40","viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mb-8","w-32","shrink-0"],["fill-rule","evenodd","clip-rule","evenodd","d","M17.1637 19.2467C17.1566 19.4033 17.1529 19.561 17.1529 19.7194C17.1529 25.3503 21.7203 29.915 27.3546 29.915C32.9887 29.915 37.5561 25.3503 37.5561 19.7194C37.5561 19.5572 37.5524 19.3959 37.5449 19.2355C38.5617 19.0801 39.5759 18.9013 40.5867 18.6994L40.6926 18.6782C40.7191 19.0218 40.7326 19.369 40.7326 19.7194C40.7326 27.1036 34.743 33.0896 27.3546 33.0896C19.966 33.0896 13.9765 27.1036 13.9765 19.7194C13.9765 19.374 13.9896 19.0316 14.0154 18.6927L14.0486 18.6994C15.0837 18.9062 16.1223 19.0886 17.1637 19.2467ZM33.3284 11.4538C31.6493 10.2396 29.5855 9.52381 27.3546 9.52381C25.1195 9.52381 23.0524 10.2421 21.3717 11.4603C20.0078 11.3232 18.6475 11.1387 17.2933 10.907C19.7453 8.11308 23.3438 6.34921 27.3546 6.34921C31.36 6.34921 34.9543 8.10844 37.4061 10.896C36.0521 11.1292 34.692 11.3152 33.3284 11.4538ZM43.826 18.0518C43.881 18.6003 43.9091 19.1566 43.9091 19.7194C43.9091 28.8568 36.4973 36.2642 27.3546 36.2642C18.2117 36.2642 10.8 28.8568 10.8 19.7194C10.8 19.1615 10.8276 18.61 10.8816 18.0663L7.75383 17.4411C7.66775 18.1886 7.62354 18.9488 7.62354 19.7194C7.62354 30.6102 16.4574 39.4388 27.3546 39.4388C38.2517 39.4388 47.0855 30.6102 47.0855 19.7194C47.0855 18.9439 47.0407 18.1789 46.9536 17.4267L43.826 18.0518ZM44.2613 9.54743L40.9084 10.2176C37.9134 5.95821 32.9593 3.1746 27.3546 3.1746C21.7442 3.1746 16.7856 5.96385 13.7915 10.2305L10.4399 9.56057C13.892 3.83178 20.1756 0 27.3546 0C34.5281 0 40.8075 3.82591 44.2613 9.54743Z","fill","var(--primary-color)"],["id","mask0_1413_1551","maskUnits","userSpaceOnUse","x","0","y","8","width","54","height","11",2,"mask-type","alpha"],["d","M27 18.3652C10.5114 19.1944 0 8.88892 0 8.88892C0 8.88892 16.5176 14.5866 27 14.5866C37.4824 14.5866 54 8.88892 54 8.88892C54 8.88892 43.4886 17.5361 27 18.3652Z","fill","var(--primary-color)"],["mask","url(#mask0_1413_1551)"],["d","M-4.673e-05 8.88887L3.73084 -1.91434L-8.00806 17.0473L-4.673e-05 8.88887ZM27 18.3652L26.4253 6.95109L27 18.3652ZM54 8.88887L61.2673 17.7127L50.2691 -1.91434L54 8.88887ZM-4.673e-05 8.88887C-8.00806 17.0473 -8.00469 17.0505 -8.00132 17.0538C-8.00018 17.055 -7.99675 17.0583 -7.9944 17.0607C-7.98963 17.0653 -7.98474 17.0701 -7.97966 17.075C-7.96949 17.0849 -7.95863 17.0955 -7.94707 17.1066C-7.92401 17.129 -7.89809 17.1539 -7.86944 17.1812C-7.8122 17.236 -7.74377 17.3005 -7.66436 17.3743C-7.50567 17.5218 -7.30269 17.7063 -7.05645 17.9221C-6.56467 18.3532 -5.89662 18.9125 -5.06089 19.5534C-3.39603 20.83 -1.02575 22.4605 1.98012 24.0457C7.97874 27.2091 16.7723 30.3226 27.5746 29.7793L26.4253 6.95109C20.7391 7.23699 16.0326 5.61231 12.6534 3.83024C10.9703 2.94267 9.68222 2.04866 8.86091 1.41888C8.45356 1.10653 8.17155 0.867278 8.0241 0.738027C7.95072 0.673671 7.91178 0.637576 7.90841 0.634492C7.90682 0.63298 7.91419 0.639805 7.93071 0.65557C7.93897 0.663455 7.94952 0.673589 7.96235 0.686039C7.96883 0.692262 7.97582 0.699075 7.98338 0.706471C7.98719 0.710167 7.99113 0.714014 7.99526 0.718014C7.99729 0.720008 8.00047 0.723119 8.00148 0.724116C8.00466 0.727265 8.00796 0.730446 -4.673e-05 8.88887ZM27.5746 29.7793C37.6904 29.2706 45.9416 26.3684 51.6602 23.6054C54.5296 22.2191 56.8064 20.8465 58.4186 19.7784C59.2265 19.2431 59.873 18.7805 60.3494 18.4257C60.5878 18.2482 60.7841 18.0971 60.9374 17.977C61.014 17.9169 61.0799 17.8645 61.1349 17.8203C61.1624 17.7981 61.1872 17.7781 61.2093 17.7602C61.2203 17.7512 61.2307 17.7427 61.2403 17.7348C61.2452 17.7308 61.2499 17.727 61.2544 17.7233C61.2566 17.7215 61.2598 17.7188 61.261 17.7179C61.2642 17.7153 61.2673 17.7127 54 8.88887C46.7326 0.0650536 46.7357 0.0625219 46.7387 0.0600241C46.7397 0.0592345 46.7427 0.0567658 46.7446 0.0551857C46.7485 0.0520238 46.7521 0.0489887 46.7557 0.0460799C46.7628 0.0402623 46.7694 0.0349487 46.7753 0.0301318C46.7871 0.0204986 46.7966 0.0128495 46.8037 0.00712562C46.818 -0.00431848 46.8228 -0.00808311 46.8184 -0.00463784C46.8096 0.00228345 46.764 0.0378652 46.6828 0.0983779C46.5199 0.219675 46.2165 0.439161 45.7812 0.727519C44.9072 1.30663 43.5257 2.14765 41.7061 3.02677C38.0469 4.79468 32.7981 6.63058 26.4253 6.95109L27.5746 29.7793ZM54 8.88887C50.2691 -1.91433 50.27 -1.91467 50.271 -1.91498C50.2712 -1.91506 50.272 -1.91535 50.2724 -1.9155C50.2733 -1.91581 50.274 -1.91602 50.2743 -1.91616C50.2752 -1.91643 50.275 -1.91636 50.2738 -1.91595C50.2714 -1.91515 50.2652 -1.91302 50.2552 -1.9096C50.2351 -1.90276 50.1999 -1.89078 50.1503 -1.874C50.0509 -1.84043 49.8938 -1.78773 49.6844 -1.71863C49.2652 -1.58031 48.6387 -1.377 47.8481 -1.13035C46.2609 -0.635237 44.0427 0.0249875 41.5325 0.6823C36.215 2.07471 30.6736 3.15796 27 3.15796V26.0151C33.8087 26.0151 41.7672 24.2495 47.3292 22.7931C50.2586 22.026 52.825 21.2618 54.6625 20.6886C55.5842 20.4011 56.33 20.1593 56.8551 19.986C57.1178 19.8993 57.3258 19.8296 57.4735 19.7797C57.5474 19.7548 57.6062 19.7348 57.6493 19.72C57.6709 19.7127 57.6885 19.7066 57.7021 19.7019C57.7089 19.6996 57.7147 19.6976 57.7195 19.696C57.7219 19.6952 57.7241 19.6944 57.726 19.6938C57.7269 19.6934 57.7281 19.693 57.7286 19.6929C57.7298 19.6924 57.7309 19.692 54 8.88887ZM27 3.15796C23.3263 3.15796 17.7849 2.07471 12.4674 0.6823C9.95717 0.0249875 7.73904 -0.635237 6.15184 -1.13035C5.36118 -1.377 4.73467 -1.58031 4.3155 -1.71863C4.10609 -1.78773 3.94899 -1.84043 3.84961 -1.874C3.79994 -1.89078 3.76474 -1.90276 3.74471 -1.9096C3.73469 -1.91302 3.72848 -1.91515 3.72613 -1.91595C3.72496 -1.91636 3.72476 -1.91643 3.72554 -1.91616C3.72593 -1.91602 3.72657 -1.91581 3.72745 -1.9155C3.72789 -1.91535 3.72874 -1.91506 3.72896 -1.91498C3.72987 -1.91467 3.73084 -1.91433 -4.673e-05 8.88887C-3.73093 19.692 -3.72983 19.6924 -3.72868 19.6929C-3.72821 19.693 -3.72698 19.6934 -3.72603 19.6938C-3.72415 19.6944 -3.72201 19.6952 -3.71961 19.696C-3.71482 19.6976 -3.70901 19.6996 -3.7022 19.7019C-3.68858 19.7066 -3.67095 19.7127 -3.6494 19.72C-3.60629 19.7348 -3.54745 19.7548 -3.47359 19.7797C-3.32589 19.8296 -3.11788 19.8993 -2.85516 19.986C-2.33008 20.1593 -1.58425 20.4011 -0.662589 20.6886C1.17485 21.2618 3.74125 22.026 6.67073 22.7931C12.2327 24.2495 20.1913 26.0151 27 26.0151V3.15796Z","fill","var(--primary-color)"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-table","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0","block"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"],[1,"pi","pi-fw","pi-question-circle","!text-2xl"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],["label","Go to Dashboard","routerLink","/"]],template:function(t,n){t&1&&(R(0,"app-floating-configurator"),h(1,"div",0)(2,"div",1),rr(),h(3,"svg",2),R(4,"path",3),h(5,"mask",4),R(6,"path",5),m(),h(7,"g",6),R(8,"path",7),m()(),sn(),h(9,"div",8)(10,"div",9)(11,"span",10),x(12,"404"),m(),h(13,"h1",11),x(14,"Not Found"),m(),h(15,"div",12),x(16,"Requested resource is not available."),m(),h(17,"a",13)(18,"span",14),R(19,"i",15),m(),h(20,"span",16)(21,"span",17),x(22,"Frequently Asked Questions"),m(),h(23,"span",18),x(24,"Ultricies mi quis hendrerit dolor."),m()()(),h(25,"a",13)(26,"span",14),R(27,"i",19),m(),h(28,"span",16)(29,"span",20),x(30,"Solution Center"),m(),h(31,"span",18),x(32,"Phasellus faucibus scelerisque eleifend."),m()()(),h(33,"a",21)(34,"span",14),R(35,"i",22),m(),h(36,"span",16)(37,"span",20),x(38,"Permission Manager"),m(),h(39,"span",18),x(40,"Accumsan in nisl nisi scelerisque"),m()()(),R(41,"p-button",23),m()()()())},dependencies:[Be,sr,of,Ie,Tt],encapsulation:2})};var uo=class r{constructor(e){this.service=e}showInfoViaToast(){this.service.add({severity:"info",summary:"Info Message",detail:"PrimeNG rocks"})}showWarnViaToast(){this.service.add({severity:"warn",summary:"Warn Message",detail:"There are unsaved changes"})}showErrorViaToast(){this.service.add({severity:"error",summary:"Error Message",detail:"Validation failed"})}showSuccessViaToast(){this.service.add({severity:"success",summary:"Success Message",detail:"Message sent"})}static \u0275fac=function(t){return new(t||r)(J(be))};static \u0275cmp=Y({type:r,selectors:[["app-ingresos"]],features:[et([be])],decls:2,vars:0,template:function(t,n){t&1&&(h(0,"p"),x(1,"ingresos works!"),m())},dependencies:[Ie],encapsulation:2})};var Er=class r{constructor(e){this.messageService=e}showSuccess(e,t){this.messageService.add({severity:"success",summary:e,detail:t})}showInfo(e,t){this.messageService.add({severity:"info",summary:e,detail:t})}showWarn(e,t){this.messageService.add({severity:"warn",summary:e,detail:t})}showError(e,t){this.messageService.add({severity:"error",summary:e,detail:t})}showContrast(e,t){this.messageService.add({severity:"contrast",summary:e,detail:t})}showSecondary(e,t){this.messageService.add({severity:"secondary",summary:e,detail:t})}static \u0275fac=function(t){return new(t||r)(Xe(be))};static \u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"root"})};var Xb=["dt"],zg=()=>({width:"450px"}),Jb=()=>({width:"350px"}),Zb=()=>({width:"20px",height:"20px"}),ev=()=>["nombre","categoria","monto","fecha"],tv=()=>({"min-width":"75rem"}),rv=()=>[10,20,30],nv=()=>({width:"10em"});function ov(r,e){if(r&1&&(h(0,"section",17)(1,"div",18)(2,"span",19),x(3),m(),R(4,"p-progress-spinner",20),m()()),r&2){let t=e.$implicit;P(3),ye(t.summary),P(),Te(ae(3,Zb))}}function iv(r,e){if(r&1){let t=te();h(0,"p-datepicker",21),fe("ngModelChange",function(o){j(t);let s=N();return he(s.date,o)||(s.date=o),q(o)}),$("onSelect",function(){j(t);let o=N();return q(o.loadEgresos())}),m()}if(r&2){let t=N();O("readonlyInput",!0)("showIcon",!0)("showButtonBar",!0),de("ngModel",t.date)}}function sv(r,e){if(r&1){let t=te();h(0,"p-button",22),$("onClick",function(){j(t);let o=N();return q(o.openNew())}),m()}}function av(r,e){r&1&&(h(0,"div",11),R(1,"p-progress-spinner",23),m())}function lv(r,e){if(r&1){let t=te();h(0,"div",25)(1,"h5",26),x(2,"Egresos"),m(),h(3,"p-iconfield"),R(4,"p-inputicon",27),h(5,"input",28),$("input",function(o){j(t),N();let s=ln(1),a=N();return q(a.onGlobalFilter(s,o))}),m()()()}}function cv(r,e){r&1&&(h(0,"tr")(1,"th",29),x(2," Nombre "),R(3,"p-sortIcon",30),m(),h(4,"th",31),x(5," Categoria "),R(6,"p-sortIcon",32),m(),h(7,"th",33),x(8," Monto "),R(9,"p-sortIcon",34),m(),h(10,"th",35),x(11," Fecha "),R(12,"p-sortIcon",36),m(),R(13,"th",37),m())}function uv(r,e){if(r&1){let t=te();h(0,"tr")(1,"td",38),x(2),m(),h(3,"td"),x(4),m(),h(5,"td"),x(6),lt(7,"miles"),m(),h(8,"td"),x(9),lt(10,"date"),m(),h(11,"td")(12,"p-button",39),$("click",function(){let o=j(t).$implicit,s=N(2);return q(s.openEdit(o))}),m(),h(13,"p-button",40),$("click",function(){let o=j(t).$implicit,s=N(2);return q(s.openConfirmation(o))}),m()()()}if(r&2){let t=e.$implicit;P(2),ye(t==null?null:t.nombre),P(2),ye(t==null?null:t.categoria),P(2),ye(qt(7,8,t==null?null:t.monto)),P(3),ye(Sh(10,10,t==null?null:t.fecha,"dd/MM/yy")),P(3),O("rounded",!0)("outlined",!0),P(),O("rounded",!0)("outlined",!0)}}function dv(r,e){if(r&1){let t=te();h(0,"p-table",24,5),fe("selectionChange",function(o){j(t);let s=N();return he(s.selectedEgreso,o)||(s.selectedEgreso=o),q(o)}),K(2,lv,6,0,"ng-template",null,6,ie)(4,cv,14,0,"ng-template",null,7,ie)(6,uv,14,13,"ng-template",null,8,ie),m()}if(r&2){let t=N();O("value",t.egresos())("rows",10)("columns",t.cols)("paginator",!0)("globalFilterFields",ae(10,ev))("tableStyle",ae(11,tv)),de("selection",t.selectedEgreso),O("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",ae(12,rv))}}function hv(r,e){r&1&&(h(0,"small",57),x(1,"Falta el nombre"),m())}function fv(r,e){r&1&&(h(0,"small",57),x(1,"Falta la categoria"),m())}function mv(r,e){if(r&1){let t=te();h(0,"div",51)(1,"label",58),x(2,"Tarjeta"),m(),h(3,"p-select",59),fe("ngModelChange",function(o){j(t);let s=N(2);return he(s.egreso.tarjeta,o)||(s.egreso.tarjeta=o),q(o)}),m()()}if(r&2){let t=N(2);P(3),de("ngModel",t.egreso.tarjeta),O("options",t.tarjetas)}}function pv(r,e){r&1&&(h(0,"small",57),x(1,"Falta el monto"),m())}function gv(r,e){if(r&1){let t=te();h(0,"div",41)(1,"div")(2,"label",42),x(3,"Nombre"),m(),h(4,"input",43),fe("ngModelChange",function(o){j(t);let s=N();return he(s.egreso.nombre,o)||(s.egreso.nombre=o),q(o)}),m(),K(5,hv,2,0,"small",44),m(),h(6,"div")(7,"label",45),x(8,"Categoria"),m(),h(9,"p-select",46),fe("ngModelChange",function(o){j(t);let s=N();return he(s.egreso.categoria,o)||(s.egreso.categoria=o),q(o)}),m(),K(10,fv,2,0,"small",44),m(),h(11,"div",47)(12,"div",48)(13,"label",49),x(14,"Contado"),m(),h(15,"p-togglebutton",50),fe("ngModelChange",function(o){j(t);let s=N();return he(s.egreso.contado,o)||(s.egreso.contado=o),q(o)}),m()(),K(16,mv,4,2,"div",51),m(),h(17,"div",47)(18,"div",52)(19,"label",53),x(20,"Monto"),m(),h(21,"p-inputnumber",54),fe("ngModelChange",function(o){j(t);let s=N();return he(s.egreso.monto,o)||(s.egreso.monto=o),q(o)}),m(),K(22,pv,2,0,"small",44),m(),h(23,"div",52)(24,"label",55),x(25,"Fecha"),m(),h(26,"p-datepicker",56),fe("ngModelChange",function(o){j(t);let s=N();return he(s.egreso.fecha,o)||(s.egreso.fecha=o),q(o)}),m()()()()}if(r&2){let t=N();P(4),de("ngModel",t.egreso.nombre),P(),O("ngIf",t.submitted&&!(t.egreso!=null&&t.egreso.nombre)),P(4),de("ngModel",t.egreso.categoria),O("options",t.categorias),P(),O("ngIf",t.submitted&&!(t.egreso!=null&&t.egreso.categoria)),P(5),Te(ae(14,nv)),de("ngModel",t.egreso.contado),P(),Me(t.egreso.contado?-1:16),P(5),de("ngModel",t.egreso.monto),P(),O("ngIf",t.submitted&&!(t.egreso!=null&&t.egreso.monto)),P(4),O("showIcon",!0)("showButtonBar",!0),de("ngModel",t.egreso.fecha)}}function _v(r,e){if(r&1){let t=te();h(0,"p-button",60),$("click",function(){j(t);let o=N(2);return q(o.hideDialog())}),m(),h(1,"p-button",61),$("click",function(){j(t);let o=N(2);return q(o.editEgreso())}),m()}}function yv(r,e){if(r&1){let t=te();h(0,"p-button",60),$("click",function(){j(t);let o=N(2);return q(o.hideDialog())}),m(),h(1,"p-button",62),$("click",function(){j(t);let o=N(2);return q(o.registrarEgreso())}),m()}}function bv(r,e){if(r&1&&K(0,_v,2,0)(1,yv,2,0),r&2){let t=N();Me(t.isEdit?0:1)}}function vv(r,e){if(r&1){let t=te();h(0,"p-button",63),$("click",function(){j(t);let o=N();return q(o.closeConfirmation())}),m(),h(1,"p-button",64),$("click",function(){j(t);let o=N();return o.closeConfirmation(),q(o.deleteProduct())}),m()}}var fa=class r{constructor(e,t,n,o){this.service=e;this.fireService=t;this.toasty=n;this.cdr=o}productDialog=!1;products=yt([]);product;selectedProducts;submitted=!1;statuses;dt;exportColumns;cols;egresos=yt([]);egreso;selectedEgreso;date=new Date;calendarValue=null;categorias=[];tarjetas=[];loading=!0;displayConfirmation=!1;isEdit=!1;showLoader(e){this.service.add({key:"confirm",sticky:!0,severity:"custom",summary:e,styleClass:"backdrop-blur-lg rounded-2xl"})}showInfoViaToast(e,t){this.service.add({severity:"info",summary:e,detail:t})}showWarnViaToast(e,t){this.service.add({severity:"warn",summary:e,detail:t})}showErrorViaToast(e,t){this.service.add({severity:"error",summary:e,detail:t})}showSuccessViaToast(e,t){this.service.add({severity:"success",summary:e,detail:t})}clear(){this.service.clear()}exportCSV(){this.dt.exportCSV()}testMessage(){this.toasty.showInfo("some","test")}ngOnInit(){this.loadEgresos(),this.loadCategoriasTarjetas()}registrarEgreso(){if(this.submitted=!0,!this.egreso.nombre||!this.egreso.monto||!this.egreso.categoria)this.showWarnViaToast("Atencion","Complete los campos obligatorios");else{this.showLoader("Registrando egreso");let e=this.egresos();this.egreso.contado&&delete this.egreso.tarjeta,this.fireService.createDoc("egresos",this.egreso).then(t=>{this.egreso.ID=t.id,this.egresos.set([...e,this.egreso]),this.clear(),this.showSuccessViaToast("Egreso registrado","Egreso registrado correctamente"),this.hideDialog(),this.egreso={}}).catch(t=>{console.log(t),this.clear(),this.showErrorViaToast("Error","Error al registrar el egreso"),this.hideDialog(),this.egreso={}})}}loadCategoriasTarjetas(){this.fireService.getDocs("categorias").then(e=>{this.categorias=e}),this.fireService.getDocs("tarjetas").then(e=>{this.tarjetas=e})}loadEgresos(){this.loading=!0;let e=new Date(this.date.getFullYear(),this.date.getMonth(),1),t=new Date(this.date.getFullYear(),this.date.getMonth()+1,0);this.fireService.getBetweenDates("egresos",e,t).then(n=>{n.forEach(o=>{o.fecha=new Date(o.fecha.seconds*1e3)}),this.egresos.set(n),console.log(n),this.loading=!1}).catch(n=>{console.log(n),this.loading=!1}),this.cols=[{field:"ID",header:"ID",customExportHeader:"ID Egreso"},{field:"nombre",header:"Nombre"},{field:"categoria",header:"Categoria"},{field:"monto",header:"Monto"},{field:"fecha",header:"Fecha"}],this.exportColumns=this.cols.map(n=>({title:n.header,dataKey:n.field}))}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}openNew(){this.egreso={},this.egreso.contado=!0,this.egreso.fecha=this.date,this.product={},this.submitted=!1,this.productDialog=!0}openEdit(e){this.isEdit=!0,this.egreso=at({},e),this.productDialog=!0,this.submitted=!1}editEgreso(){this.showLoader("Actualizando egreso"),this.fireService.updateDoc("egresos",this.egreso.ID,this.egreso).then(()=>{let e=this.egresos(),t=this.findIndexById(this.egreso.ID);e[t]=this.egreso,this.egresos.set(e),this.clear(),this.showSuccessViaToast("Egreso actualizado","Egreso actualizado correctamente"),this.hideDialog(),this.egreso={}}).catch(e=>{console.log(e),this.clear(),this.showErrorViaToast("Error","Error al actualizar el egreso"),this.hideDialog(),this.egreso={}})}hideDialog(){this.productDialog=!1,this.submitted=!1,this.isEdit=!1}deleteProduct(){this.showLoader("Eliminando egreso"),this.fireService.deleteDoc("egresos",this.egreso.ID).then(()=>{let e=this.egresos(),t=this.findIndexById(this.egreso.ID);e.splice(t,1),this.egresos.set(e),this.clear(),this.showSuccessViaToast("Egreso eliminado","Egreso eliminado correctamente")}).catch(e=>{console.log(e),this.clear(),this.showErrorViaToast("Error","Error al eliminar el egreso")})}findIndexById(e){let t=-1;for(let n=0;n<this.egresos().length;n++)if(this.egresos()[n].ID===e){t=n;break}return t}openConfirmation(e){this.egreso=e,this.displayConfirmation=!0}closeConfirmation(){this.displayConfirmation=!1}static \u0275fac=function(t){return new(t||r)(J(be),J(dt),J(Er),J(Dr))};static \u0275cmp=Y({type:r,selectors:[["app-egresos"]],viewQuery:function(t,n){if(t&1&&Ot(Xb,5),t&2){let o;Ut(o=jt())&&(n.dt=o.first)}},features:[et([be,Fn,gn,uo])],decls:24,vars:15,consts:[["headless",""],["start",""],["end",""],["content",""],["footer",""],["dt",""],["caption",""],["header",""],["body",""],["position","top-right","key","confirm",3,"baseZIndex"],["styleClass","mb-6"],[1,"spinner-container"],["dataKey","ID","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} egresos",3,"value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["header","Registrar Egreso",3,"visibleChange","visible","modal"],["header","Confirmar",3,"visibleChange","visible","modal"],[1,"flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","mr-4",2,"font-size","2rem"],[1,"flex","flex-col","p-4","gap-4","w-full","bg-primary/70","rounded-xl"],[1,"flex","items-center","gap-5"],[1,"font-bold","text-base","text-white","dark:text-black"],["strokeWidth","8","fill","transparent","animationDuration","1s"],["view","month","dateFormat","mm/yy",3,"ngModelChange","onSelect","readonlyInput","showIcon","showButtonBar","ngModel"],["label","Registrar Egreso","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["ariaLabel","loading",1,""],["dataKey","ID","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} egresos",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pSortableColumn","nombre",2,"min-width","16rem"],["field","nombre"],["pSortableColumn","categoria",2,"min-width","10rem"],["field","categoria"],["pSortableColumn","monto",2,"min-width","8rem"],["field","monto"],["pSortableColumn","fecha",2,"min-width","8rem"],["field","fecha"],[2,"min-width","12rem"],[2,"min-width","16rem"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"flex","flex-col","gap-6"],["for","name",1,"block","font-bold","mb-3"],["type","text","pInputText","","id","nombre","required","","autofocus","","fluid","","autocomplete","off",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","categoria",1,"block","font-bold","mb-3"],["appendTo","body","inputId","categoria","optionLabel","nombre","optionValue","nombre","placeholder","Seleccionar Categoria","required","","fluid","",3,"ngModelChange","ngModel","options"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-4"],["for","contado",1,"block","font-bold","mb-3"],["id","contado","onLabel","Si","offLabel","No","fluid","",3,"ngModelChange","ngModel"],[1,"col-span-8"],[1,"col-span-6"],["for","monto",1,"block","font-bold","mb-3"],["id","monto","mode","currency","currency","PYG","locale","es-ES","required","","fluid","",3,"ngModelChange","ngModel"],["for","quantity",1,"block","font-bold","mb-3"],["dateFormat","dd/mm/yy",3,"ngModelChange","showIcon","showButtonBar","ngModel"],[1,"text-red-500"],["for","tarjetas",1,"block","font-bold","mb-3"],["appendTo","body","inputId","tarjetas","optionLabel","nombre","optionValue","nombre","placeholder","Seleccionar Tarjeta",3,"ngModelChange","ngModel","options"],["label","Cancelar","icon","pi pi-times","text","",3,"click"],["label","Editar","icon","pi pi-check",3,"click"],["label","Registrar","icon","pi pi-check",3,"click"],["label","No","icon","pi pi-times","text","","severity","secondary",3,"click"],["label","Yes","icon","pi pi-check","severity","danger","outlined","","autofocus","",3,"click"]],template:function(t,n){if(t&1){let o=te();h(0,"p-toast",9),K(1,ov,5,4,"ng-template",null,0,ie),m(),R(3,"p-toast"),h(4,"p-toolbar",10),K(5,iv,1,4,"ng-template",null,1,ie)(7,sv,1,0,"ng-template",null,2,ie),m(),K(9,av,2,0,"div",11)(10,dv,8,13,"p-table",12),h(11,"p-dialog",13),fe("visibleChange",function(a){return j(o),he(n.productDialog,a)||(n.productDialog=a),q(a)}),K(12,gv,27,15,"ng-template",null,3,ie)(14,bv,2,1,"ng-template",null,4,ie),m(),R(16,"p-confirmdialog"),h(17,"p-dialog",14),fe("visibleChange",function(a){return j(o),he(n.displayConfirmation,a)||(n.displayConfirmation=a),q(a)}),h(18,"div",15),R(19,"i",16),h(20,"span"),x(21,"Queremos borrar?"),m()(),K(22,vv,2,0,"ng-template",null,4,ie),m()}t&2&&(O("baseZIndex",5e3),P(9),Me(n.loading?9:10),P(2),Te(ae(12,zg)),de("visible",n.productDialog),O("modal",!0),P(5),Te(ae(13,zg)),P(),Te(ae(14,Jb)),de("visible",n.displayConfirmation),O("modal",!0))},dependencies:[Ln,Ne,bt,cn,pr,mr,Sn,Rn,Et,cr,Ct,yn,xt,Ie,Tt,_r,gr,An,dr,ur,Pn,Tn,fr,In,vn,os,Vn,Dn,Mn,En,xn,Cn,wn,Bn,Nn,It,hr,ns,kn,tf,yr,Wt],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]})};var wv=["dt"],Qg=()=>({width:"450px"}),Cv=()=>({width:"350px"}),xv=()=>({width:"20px",height:"20px"}),Ev=()=>["ID","nombre"],Tv=()=>({"min-width":"75rem"}),Iv=()=>[10,20,30];function kv(r,e){if(r&1&&(h(0,"section",16)(1,"div",17)(2,"span",18),x(3),m(),R(4,"p-progress-spinner",19),m()()),r&2){let t=e.$implicit;P(3),ye(t.summary),P(),Te(ae(3,xv))}}function Sv(r,e){if(r&1){let t=te();h(0,"p-button",20),$("onClick",function(){j(t);let o=N();return q(o.openNew())}),m()}}function Rv(r,e){r&1&&(h(0,"div",10),R(1,"p-progress-spinner",21),m())}function Av(r,e){if(r&1){let t=te();h(0,"div",23)(1,"h5",24),x(2,"Categorias"),m(),h(3,"p-iconfield"),R(4,"p-inputicon",25),h(5,"input",26),$("input",function(o){j(t),N();let s=ln(1),a=N();return q(a.onGlobalFilter(s,o))}),m()()()}}function Pv(r,e){r&1&&(h(0,"tr")(1,"th",27),x(2," Nombre "),R(3,"p-sortIcon",28),m(),R(4,"th",29),m())}function Dv(r,e){if(r&1){let t=te();h(0,"tr")(1,"td",30),x(2),m(),h(3,"td")(4,"p-button",31),$("click",function(){let o=j(t).$implicit,s=N(2);return q(s.openEdit(o))}),m(),h(5,"p-button",32),$("click",function(){let o=j(t).$implicit,s=N(2);return q(s.openConfirmation(o))}),m()()()}if(r&2){let t=e.$implicit;P(2),ye(t==null?null:t.nombre),P(2),O("rounded",!0)("outlined",!0),P(),O("rounded",!0)("outlined",!0)}}function Vv(r,e){if(r&1){let t=te();h(0,"p-table",22,4),fe("selectionChange",function(o){j(t);let s=N();return he(s.selectedCategoria,o)||(s.selectedCategoria=o),q(o)}),K(2,Av,6,0,"ng-template",null,5,ie)(4,Pv,5,0,"ng-template",null,6,ie)(6,Dv,6,5,"ng-template",null,7,ie),m()}if(r&2){let t=N();O("value",t.categorias())("rows",10)("columns",t.cols)("paginator",!0)("globalFilterFields",ae(10,Ev))("tableStyle",ae(11,Tv)),de("selection",t.selectedCategoria),O("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",ae(12,Iv))}}function Mv(r,e){r&1&&(h(0,"small",37),x(1,"Falta el nombre"),m())}function Nv(r,e){if(r&1){let t=te();h(0,"div",33)(1,"div")(2,"label",34),x(3,"Nombre"),m(),h(4,"input",35),fe("ngModelChange",function(o){j(t);let s=N();return he(s.categoria.nombre,o)||(s.categoria.nombre=o),q(o)}),m(),K(5,Mv,2,0,"small",36),m()()}if(r&2){let t=N();P(4),de("ngModel",t.categoria.nombre),P(),O("ngIf",t.submitted&&!(t.categoria!=null&&t.categoria.nombre))}}function Bv(r,e){if(r&1){let t=te();h(0,"p-button",38),$("click",function(){j(t);let o=N(2);return q(o.hideDialog())}),m(),h(1,"p-button",39),$("click",function(){j(t);let o=N(2);return q(o.editCategoria())}),m()}}function Fv(r,e){if(r&1){let t=te();h(0,"p-button",38),$("click",function(){j(t);let o=N(2);return q(o.hideDialog())}),m(),h(1,"p-button",40),$("click",function(){j(t);let o=N(2);return q(o.registrarEgreso())}),m()}}function Lv(r,e){if(r&1&&K(0,Bv,2,0)(1,Fv,2,0),r&2){let t=N();Me(t.isEdit?0:1)}}function Ov(r,e){if(r&1){let t=te();h(0,"p-button",41),$("click",function(){j(t);let o=N();return q(o.closeConfirmation())}),m(),h(1,"p-button",42),$("click",function(){j(t);let o=N();return o.closeConfirmation(),q(o.deleteProduct())}),m()}}var ma=class r{constructor(e,t,n,o){this.service=e;this.fireService=t;this.toasty=n;this.cdr=o}productDialog=!1;products=yt([]);product;selectedProducts;submitted=!1;statuses;dt;exportColumns;cols;categorias=yt([]);categoria;selectedCategoria;displayConfirmation=!1;egresos=yt([]);egreso;selectedEgreso;date=new Date;calendarValue=null;loading=!0;isEdit=!1;showLoader(e){this.service.add({key:"confirm",sticky:!0,severity:"custom",summary:e,styleClass:"backdrop-blur-lg rounded-2xl"})}showInfoViaToast(e,t){this.service.add({severity:"info",summary:e,detail:t})}showWarnViaToast(e,t){this.service.add({severity:"warn",summary:e,detail:t})}showErrorViaToast(e,t){this.service.add({severity:"error",summary:e,detail:t})}showSuccessViaToast(e,t){this.service.add({severity:"success",summary:e,detail:t})}clear(){this.service.clear()}exportCSV(){this.dt.exportCSV()}testMessage(){this.toasty.showInfo("some","test")}ngOnInit(){this.loadCategorias()}registrarEgreso(){if(this.submitted=!0,!this.categoria.nombre)this.showWarnViaToast("Atencion","Complete los campos obligatorios");else{this.showLoader("Creando Categoria");let e=this.categorias();this.fireService.createDoc("categorias",this.categoria).then(t=>{this.categoria.ID=t.id,this.categorias.set([...e,this.categoria]),this.clear(),this.showSuccessViaToast("Categoria creada","Categoria creada correctamente"),this.hideDialog(),this.categoria={}}).catch(t=>{console.log(t),this.clear(),this.showErrorViaToast("Error","Error al crear la categoria"),this.hideDialog(),this.categoria={}})}}loadCategorias(){this.loading=!0,this.fireService.getDocs("categorias").then(e=>{this.categorias.set(e),this.loading=!1}).catch(e=>{console.log(e),this.loading=!1,this.showErrorViaToast("Error","Error al cargar las categorias")}),this.cols=[{field:"ID",header:"ID",customExportHeader:"ID Categoria"},{field:"nombre",header:"Nombre"}],this.exportColumns=this.cols.map(e=>({title:e.header,dataKey:e.field}))}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}openNew(){this.categoria={},this.submitted=!1,this.productDialog=!0}openEdit(e){this.isEdit=!0,this.categoria=at({},e),this.productDialog=!0,this.submitted=!1}editCategoria(){this.showLoader("Actualizando categoria"),this.fireService.updateDoc("categorias",this.categoria.ID,this.categoria).then(()=>{let e=this.categorias(),t=this.findIndexById(this.categoria.ID);e[t]=this.categoria,this.categorias.set(e),this.clear(),this.showSuccessViaToast("Categoria actualizado","Categoria actualizada correctamente"),this.hideDialog(),this.categoria={}}).catch(e=>{console.log(e),this.clear(),this.showErrorViaToast("Error","Error al actualizar la categoria"),this.hideDialog(),this.categoria={}})}hideDialog(){this.productDialog=!1,this.submitted=!1,this.isEdit=!1}deleteProduct(){this.showLoader("Eliminando categoria"),this.fireService.deleteDoc("categorias",this.categoria.ID).then(()=>{let e=this.categorias(),t=this.findIndexById(this.categoria.ID);e.splice(t,1),this.categorias.set(e),this.clear(),this.showSuccessViaToast("Categoria eliminada","Categoria eliminada correctamente")}).catch(e=>{console.log(e),this.clear(),this.showErrorViaToast("Error","Error al eliminar la categoria")})}findIndexById(e){let t=-1;for(let n=0;n<this.categorias().length;n++)if(this.categorias()[n].ID===e){t=n;break}return t}openConfirmation(e){this.categoria=e,this.displayConfirmation=!0}closeConfirmation(){this.displayConfirmation=!1}static \u0275fac=function(t){return new(t||r)(J(be),J(dt),J(Er),J(Dr))};static \u0275cmp=Y({type:r,selectors:[["app-categorias"]],viewQuery:function(t,n){if(t&1&&Ot(wv,5),t&2){let o;Ut(o=jt())&&(n.dt=o.first)}},features:[et([be,Fn,gn])],decls:22,vars:15,consts:[["headless",""],["start",""],["content",""],["footer",""],["dt",""],["caption",""],["header",""],["body",""],["position","top-right","key","confirm",3,"baseZIndex"],["styleClass","mb-6"],[1,"spinner-container"],["dataKey","ID","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} categorias",3,"value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["header","Crear Categoria",3,"visibleChange","visible","modal"],["header","Confirmar",3,"visibleChange","visible","modal"],[1,"flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","mr-4",2,"font-size","2rem"],[1,"flex","flex-col","p-4","gap-4","w-full","bg-primary/70","rounded-xl"],[1,"flex","items-center","gap-5"],[1,"font-bold","text-base","text-white","dark:text-black"],["strokeWidth","8","fill","transparent","animationDuration","1s"],["label","Crear Categoria","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["ariaLabel","loading",1,""],["dataKey","ID","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} categorias",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pSortableColumn","nombre",2,"min-width","16rem"],["field","nombre"],[2,"min-width","12rem"],[2,"min-width","16rem"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"flex","flex-col","gap-6"],["for","name",1,"block","font-bold","mb-3"],["type","text","pInputText","","id","nombre","required","","autofocus","","fluid","","autocomplete","off",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],[1,"text-red-500"],["label","Cancelar","icon","pi pi-times","text","",3,"click"],["label","Editar","icon","pi pi-check",3,"click"],["label","Registrar","icon","pi pi-check",3,"click"],["label","No","icon","pi pi-times","text","","severity","secondary",3,"click"],["label","Yes","icon","pi pi-check","severity","danger","outlined","","autofocus","",3,"click"]],template:function(t,n){if(t&1){let o=te();h(0,"p-toast",8),K(1,kv,5,4,"ng-template",null,0,ie),m(),R(3,"p-toast"),h(4,"p-toolbar",9),K(5,Sv,1,0,"ng-template",null,1,ie),m(),K(7,Rv,2,0,"div",10)(8,Vv,8,13,"p-table",11),h(9,"p-dialog",12),fe("visibleChange",function(a){return j(o),he(n.productDialog,a)||(n.productDialog=a),q(a)}),K(10,Nv,6,2,"ng-template",null,2,ie)(12,Lv,2,1,"ng-template",null,3,ie),m(),R(14,"p-confirmdialog"),h(15,"p-dialog",13),fe("visibleChange",function(a){return j(o),he(n.displayConfirmation,a)||(n.displayConfirmation=a),q(a)}),h(16,"div",14),R(17,"i",15),h(18,"span"),x(19,"Queremos borrar?"),m()(),K(20,Ov,2,0,"ng-template",null,3,ie),m()}t&2&&(O("baseZIndex",5e3),P(7),Me(n.loading?7:8),P(2),Te(ae(12,Qg)),de("visible",n.productDialog),O("modal",!0),P(5),Te(ae(13,Qg)),P(),Te(ae(14,Cv)),de("visible",n.displayConfirmation),O("modal",!0))},dependencies:[Ln,Ne,bt,pr,mr,Sn,Rn,Et,cr,Ct,yn,xt,Ie,Tt,_r,gr,An,dr,ur,Pn,Tn,In,vn,Vn,Dn,Mn,En,xn,Cn,wn,Bn,Nn,hr,kn,yr,Wt],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]})};var Uv=["dt"],Hg=()=>({width:"450px"}),jv=()=>({width:"350px"}),qv=()=>({width:"20px",height:"20px"}),zv=()=>["ID","nombre","titular","limite"],Wv=()=>({"min-width":"75rem"}),$v=()=>[10,20,30];function Gv(r,e){if(r&1&&(h(0,"section",16)(1,"div",17)(2,"span",18),x(3),m(),R(4,"p-progress-spinner",19),m()()),r&2){let t=e.$implicit;P(3),ye(t.summary),P(),Te(ae(3,qv))}}function Kv(r,e){if(r&1){let t=te();h(0,"p-button",20),$("onClick",function(){j(t);let o=N();return q(o.openNew())}),m()}}function Qv(r,e){r&1&&(h(0,"div",10),R(1,"p-progress-spinner",21),m())}function Hv(r,e){if(r&1){let t=te();h(0,"div",23)(1,"h5",24),x(2,"Tarjetas"),m(),h(3,"p-iconfield"),R(4,"p-inputicon",25),h(5,"input",26),$("input",function(o){j(t),N();let s=ln(1),a=N();return q(a.onGlobalFilter(s,o))}),m()()()}}function Yv(r,e){r&1&&(h(0,"tr")(1,"th",27),x(2," Nombre "),R(3,"p-sortIcon",28),m(),h(4,"th",29),x(5," Titular "),R(6,"p-sortIcon",30),m(),h(7,"th",31),x(8," Limite "),R(9,"p-sortIcon",32),m(),R(10,"th",33),m())}function Xv(r,e){if(r&1){let t=te();h(0,"tr")(1,"td",34),x(2),m(),h(3,"td"),x(4),m(),h(5,"td"),x(6),lt(7,"miles"),m(),h(8,"td")(9,"p-button",35),$("click",function(){let o=j(t).$implicit,s=N(2);return q(s.openEdit(o))}),m(),h(10,"p-button",36),$("click",function(){let o=j(t).$implicit,s=N(2);return q(s.openConfirmation(o))}),m()()()}if(r&2){let t=e.$implicit;P(2),ye(t==null?null:t.nombre),P(2),ye(t==null?null:t.titular),P(2),ye(qt(7,7,t==null?null:t.limite)),P(3),O("rounded",!0)("outlined",!0),P(),O("rounded",!0)("outlined",!0)}}function Jv(r,e){if(r&1){let t=te();h(0,"p-table",22,4),fe("selectionChange",function(o){j(t);let s=N();return he(s.selectedTarjeta,o)||(s.selectedTarjeta=o),q(o)}),K(2,Hv,6,0,"ng-template",null,5,ie)(4,Yv,11,0,"ng-template",null,6,ie)(6,Xv,11,9,"ng-template",null,7,ie),m()}if(r&2){let t=N();O("value",t.tarjetas())("rows",10)("columns",t.cols)("paginator",!0)("globalFilterFields",ae(10,zv))("tableStyle",ae(11,Wv)),de("selection",t.selectedTarjeta),O("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",ae(12,$v))}}function Zv(r,e){r&1&&(h(0,"small",45),x(1,"Falta el nombre"),m())}function e2(r,e){r&1&&(h(0,"small",45),x(1,"Falta el titular"),m())}function t2(r,e){r&1&&(h(0,"small",45),x(1,"Falta el limite"),m())}function r2(r,e){if(r&1){let t=te();h(0,"div",37)(1,"div")(2,"label",38),x(3,"Nombre"),m(),h(4,"input",39),fe("ngModelChange",function(o){j(t);let s=N();return he(s.tarjeta.nombre,o)||(s.tarjeta.nombre=o),q(o)}),m(),K(5,Zv,2,0,"small",40),m(),h(6,"div")(7,"label",41),x(8,"Categoria"),m(),h(9,"p-select",42),fe("ngModelChange",function(o){j(t);let s=N();return he(s.tarjeta.titular,o)||(s.tarjeta.titular=o),q(o)}),m(),K(10,e2,2,0,"small",40),m(),h(11,"div")(12,"label",43),x(13,"Limite"),m(),h(14,"p-inputnumber",44),fe("ngModelChange",function(o){j(t);let s=N();return he(s.tarjeta.limite,o)||(s.tarjeta.limite=o),q(o)}),m(),K(15,t2,2,0,"small",40),m()()}if(r&2){let t=N();P(4),de("ngModel",t.tarjeta.nombre),P(),O("ngIf",t.submitted&&!(t.tarjeta!=null&&t.tarjeta.nombre)),P(4),de("ngModel",t.tarjeta.titular),O("options",t.titulares),P(),O("ngIf",t.submitted&&!(t.tarjeta!=null&&t.tarjeta.titular)),P(4),de("ngModel",t.tarjeta.limite),P(),O("ngIf",t.submitted&&!(t.tarjeta!=null&&t.tarjeta.limite))}}function n2(r,e){if(r&1){let t=te();h(0,"p-button",46),$("click",function(){j(t);let o=N(2);return q(o.hideDialog())}),m(),h(1,"p-button",47),$("click",function(){j(t);let o=N(2);return q(o.edittarjeta())}),m()}}function o2(r,e){if(r&1){let t=te();h(0,"p-button",46),$("click",function(){j(t);let o=N(2);return q(o.hideDialog())}),m(),h(1,"p-button",48),$("click",function(){j(t);let o=N(2);return q(o.registrarEgreso())}),m()}}function i2(r,e){if(r&1&&K(0,n2,2,0)(1,o2,2,0),r&2){let t=N();Me(t.isEdit?0:1)}}function s2(r,e){if(r&1){let t=te();h(0,"p-button",49),$("click",function(){j(t);let o=N();return q(o.closeConfirmation())}),m(),h(1,"p-button",50),$("click",function(){j(t);let o=N();return o.closeConfirmation(),q(o.deleteProduct())}),m()}}var bi=class r{constructor(e,t,n,o){this.service=e;this.fireService=t;this.toasty=n;this.cdr=o}productDialog=!1;products=yt([]);product;selectedProducts;submitted=!1;statuses;dt;exportColumns;cols;tarjetas=yt([]);tarjeta;selectedTarjeta;displayConfirmation=!1;date=new Date;calendarValue=null;loading=!0;isEdit=!1;titulares=[{label:"Mariano"},{label:"Melany"}];showLoader(e){this.service.add({key:"confirm",sticky:!0,severity:"custom",summary:e,styleClass:"backdrop-blur-lg rounded-2xl"})}showInfoViaToast(e,t){this.service.add({severity:"info",summary:e,detail:t})}showWarnViaToast(e,t){this.service.add({severity:"warn",summary:e,detail:t})}showErrorViaToast(e,t){this.service.add({severity:"error",summary:e,detail:t})}showSuccessViaToast(e,t){this.service.add({severity:"success",summary:e,detail:t})}clear(){this.service.clear()}exportCSV(){this.dt.exportCSV()}testMessage(){this.toasty.showInfo("some","test")}ngOnInit(){this.loadtarjetas()}registrarEgreso(){if(this.submitted=!0,!this.tarjeta.nombre||!this.tarjeta.titular||!this.tarjeta.limite)this.showWarnViaToast("Atencion","Complete los campos obligatorios");else{this.showLoader("Creando Tarjeta");let e=this.tarjetas();this.fireService.createDoc("tarjetas",this.tarjeta).then(t=>{this.tarjeta.ID=t.id,this.tarjetas.set([...e,this.tarjeta]),this.clear(),this.showSuccessViaToast("Tarjeta creada","Tarjeta creada correctamente"),this.hideDialog(),this.tarjeta={}}).catch(t=>{console.log(t),this.clear(),this.showErrorViaToast("Error","Error al crear la tarjeta"),this.hideDialog(),this.tarjeta={}})}}loadtarjetas(){this.loading=!0,this.fireService.getDocs("tarjetas").then(e=>{this.tarjetas.set(e),this.loading=!1}).catch(e=>{console.log(e),this.loading=!1,this.showErrorViaToast("Error","Error al cargar las tarjetas")}),this.cols=[{field:"ID",header:"ID",customExportHeader:"ID Tarjeta"},{field:"nombre",header:"Nombre"},{field:"titular",header:"Titular"},{field:"limite",header:"Limite"}],this.exportColumns=this.cols.map(e=>({title:e.header,dataKey:e.field}))}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}openNew(){this.tarjeta={},this.submitted=!1,this.productDialog=!0}openEdit(e){this.isEdit=!0,this.tarjeta=at({},e),this.productDialog=!0,this.submitted=!1}edittarjeta(){this.showLoader("Actualizando tarjeta"),this.fireService.updateDoc("tarjetas",this.tarjeta.ID,this.tarjeta).then(()=>{let e=this.tarjetas(),t=this.findIndexById(this.tarjeta.ID);e[t]=this.tarjeta,this.tarjetas.set(e),this.clear(),this.showSuccessViaToast("Tarjeta actualizado","Tarjeta actualizada correctamente"),this.hideDialog(),this.tarjeta={}}).catch(e=>{console.log(e),this.clear(),this.showErrorViaToast("Error","Error al actualizar la tarjeta"),this.hideDialog(),this.tarjeta={}})}hideDialog(){this.productDialog=!1,this.submitted=!1,this.isEdit=!1}deleteProduct(){this.showLoader("Eliminando tarjeta"),this.fireService.deleteDoc("tarjetas",this.tarjeta.ID).then(()=>{let e=this.tarjetas(),t=this.findIndexById(this.tarjeta.ID);e.splice(t,1),this.tarjetas.set(e),this.clear(),this.showSuccessViaToast("Tarjeta eliminada","Tarjeta eliminada correctamente")}).catch(e=>{console.log(e),this.clear(),this.showErrorViaToast("Error","Error al eliminar la tarjeta")})}findIndexById(e){let t=-1;for(let n=0;n<this.tarjetas().length;n++)if(this.tarjetas()[n].ID===e){t=n;break}return t}openConfirmation(e){this.tarjeta=e,this.displayConfirmation=!0}closeConfirmation(){this.displayConfirmation=!1}static \u0275fac=function(t){return new(t||r)(J(be),J(dt),J(Er),J(Dr))};static \u0275cmp=Y({type:r,selectors:[["app-tarjetas"]],viewQuery:function(t,n){if(t&1&&Ot(Uv,5),t&2){let o;Ut(o=jt())&&(n.dt=o.first)}},features:[et([be,Fn,gn])],decls:22,vars:15,consts:[["headless",""],["start",""],["content",""],["footer",""],["dt",""],["caption",""],["header",""],["body",""],["position","top-right","key","confirm",3,"baseZIndex"],["styleClass","mb-6"],[1,"spinner-container"],["dataKey","ID","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} tarjetas",3,"value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["header","Crear Categoria",3,"visibleChange","visible","modal"],["header","Confirmar",3,"visibleChange","visible","modal"],[1,"flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","mr-4",2,"font-size","2rem"],[1,"flex","flex-col","p-4","gap-4","w-full","bg-primary/70","rounded-xl"],[1,"flex","items-center","gap-5"],[1,"font-bold","text-base","text-white","dark:text-black"],["strokeWidth","8","fill","transparent","animationDuration","1s"],["label","Crear Tarjeta","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["ariaLabel","loading",1,""],["dataKey","ID","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} tarjetas",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pSortableColumn","nombre",2,"min-width","16rem"],["field","nombre"],["pSortableColumn","titular",2,"min-width","16rem"],["field","titular"],["pSortableColumn","limite",2,"min-width","16rem"],["field","limite"],[2,"min-width","12rem"],[2,"min-width","16rem"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"flex","flex-col","gap-6"],["for","name",1,"block","font-bold","mb-3"],["type","text","pInputText","","id","nombre","required","","autofocus","","fluid","","autocomplete","off",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","titular",1,"block","font-bold","mb-3"],["appendTo","body","inputId","titular","optionLabel","label","optionValue","label","placeholder","Seleccionar Titular","required","","fluid","",3,"ngModelChange","ngModel","options"],["for","limite",1,"block","font-bold","mb-3"],["id","limite","mode","currency","currency","PYG","locale","es-ES","required","","fluid","",3,"ngModelChange","ngModel"],[1,"text-red-500"],["label","Cancelar","icon","pi pi-times","text","",3,"click"],["label","Editar","icon","pi pi-check",3,"click"],["label","Registrar","icon","pi pi-check",3,"click"],["label","No","icon","pi pi-times","text","","severity","secondary",3,"click"],["label","Yes","icon","pi pi-check","severity","danger","outlined","","autofocus","",3,"click"]],template:function(t,n){if(t&1){let o=te();h(0,"p-toast",8),K(1,Gv,5,4,"ng-template",null,0,ie),m(),R(3,"p-toast"),h(4,"p-toolbar",9),K(5,Kv,1,0,"ng-template",null,1,ie),m(),K(7,Qv,2,0,"div",10)(8,Jv,8,13,"p-table",11),h(9,"p-dialog",12),fe("visibleChange",function(a){return j(o),he(n.productDialog,a)||(n.productDialog=a),q(a)}),K(10,r2,16,7,"ng-template",null,2,ie)(12,i2,2,1,"ng-template",null,3,ie),m(),R(14,"p-confirmdialog"),h(15,"p-dialog",13),fe("visibleChange",function(a){return j(o),he(n.displayConfirmation,a)||(n.displayConfirmation=a),q(a)}),h(16,"div",14),R(17,"i",15),h(18,"span"),x(19,"Queremos borrar?"),m()(),K(20,s2,2,0,"ng-template",null,3,ie),m()}t&2&&(O("baseZIndex",5e3),P(7),Me(n.loading?7:8),P(2),Te(ae(12,Hg)),de("visible",n.productDialog),O("modal",!0),P(5),Te(ae(13,Hg)),P(),Te(ae(14,jv)),de("visible",n.displayConfirmation),O("modal",!0))},dependencies:[Ln,Ne,bt,pr,mr,Sn,Rn,Et,cr,Ct,yn,xt,Ie,Tt,_r,gr,An,dr,ur,Pn,Tn,fr,In,vn,os,Vn,Dn,Mn,En,xn,Cn,wn,Bn,Nn,It,hr,kn,yr,Wt],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]})};var o0="firebasestorage.googleapis.com",i0="storageBucket",a2=2*60*1e3,l2=10*60*1e3,c2=1e3;var xe=class r extends Hi{constructor(e,t,n=0){super(Fu(e),`Firebase Storage: ${t} (${Fu(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},we=function(r){return r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",r}(we||{});function Fu(r){return"storage/"+r}function $u(){let r="An unknown error occurred, please check the error payload for server response.";return new xe(we.UNKNOWN,r)}function u2(r){return new xe(we.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function d2(r){return new xe(we.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h2(){let r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(we.UNAUTHENTICATED,r)}function f2(){return new xe(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m2(r){return new xe(we.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function s0(){return new xe(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a0(){return new xe(we.CANCELED,"User canceled the upload/download.")}function p2(r){return new xe(we.INVALID_URL,"Invalid URL '"+r+"'.")}function g2(r){return new xe(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function _2(){return new xe(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i0+"' property when initializing the app?")}function l0(){return new xe(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y2(){return new xe(we.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function b2(){return new xe(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v2(r){return new xe(we.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jr(r){return new xe(we.INVALID_ARGUMENT,r)}function c0(){return new xe(we.APP_DELETED,"The Firebase app was deleted.")}function Gu(r){return new xe(we.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wi(r,e){return new xe(we.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function vi(r){throw new xe(we.INTERNAL_ERROR,"Internal error: "+r)}var Je=class r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=r.makeFromUrl(e,t)}catch{return new r(e,"")}if(n.path==="")return n;throw g2(e)}static makeFromUrl(e,t){let n=null,o="([A-Za-z0-9.\\-_]+)";function s(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}let a="(/(.*))?$",c=new RegExp("^gs://"+o+a,"i"),d={bucket:1,path:3};function p(ne){ne.path_=decodeURIComponent(ne.path)}let g="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",A=new RegExp(`^https?://${T}/${g}/b/${o}/o${k}`,"i"),M={bucket:1,path:3},U=t===o0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",Z=new RegExp(`^https?://${U}/${o}/${V}`,"i"),Q=[{regex:c,indices:d,postModify:s},{regex:A,indices:M,postModify:p},{regex:Z,indices:{bucket:1,path:2},postModify:p}];for(let ne=0;ne<Q.length;ne++){let Ve=Q[ne],le=Ve.regex.exec(e);if(le){let w=le[Ve.indices.bucket],_=le[Ve.indices.path];_||(_=""),n=new r(w,_),Ve.postModify(n);break}}if(n==null)throw p2(e);return n}},Ou=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function w2(r,e,t){let n=1,o=null,s=null,a=!1,c=0;function d(){return c===2}let p=!1;function g(...V){p||(p=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,r(A,d())},V)}function k(){s&&clearTimeout(s)}function A(V,...Z){if(p){k();return}if(V){k(),g.call(null,V,...Z);return}if(d()||a){k(),g.call(null,V,...Z);return}n<64&&(n*=2);let Q;c===1?(c=2,Q=0):Q=(n+Math.random())*1e3,T(Q)}let M=!1;function U(V){M||(M=!0,k(),!p&&(o!==null?(V||(c=2),clearTimeout(o),T(0)):V||(c=1)))}return T(0),s=setTimeout(()=>{a=!0,U(!0)},t),U}function C2(r){r(!1)}function x2(r){return r!==void 0}function E2(r){return typeof r=="function"}function T2(r){return typeof r=="object"&&!Array.isArray(r)}function _a(r){return typeof r=="string"||r instanceof String}function Yg(r){return Ku()&&r instanceof Blob}function Ku(){return typeof Blob<"u"}function Uu(r,e,t,n){if(n<e)throw Jr(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Jr(`Invalid value for '${r}'. Expected ${t} or less.`)}function Tr(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function u0(r){let e=encodeURIComponent,t="?";for(let n in r)if(r.hasOwnProperty(n)){let o=e(n)+"="+e(r[n]);t=t+o+"&"}return t=t.slice(0,-1),t}var mo=function(r){return r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",r}(mo||{});function d0(r,e){let t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,s=e.indexOf(r)!==-1;return t||o||s}var ju=class{constructor(e,t,n,o,s,a,c,d,p,g,T,k=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=o,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=T,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,M)=>{this.resolve_=A,this.reject_=M,this.start_()})}start_(){let e=(n,o)=>{if(o){n(!1,new fo(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let a=c=>{let d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;let c=s.getErrorCode()===mo.NO_ERROR,d=s.getStatus();if(!c||d0(d,this.additionalRetryCodes_)&&this.retry){let g=s.getErrorCode()===mo.ABORT;n(!1,new fo(!1,null,g));return}let p=this.successCodes_.indexOf(d)!==-1;n(!0,new fo(p,s))})},t=(n,o)=>{let s=this.resolve_,a=this.reject_,c=o.connection;if(o.wasSuccessCode)try{let d=this.callback_(c,c.getResponse());x2(d)?s(d):s()}catch(d){a(d)}else if(c!==null){let d=$u();d.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,d)):a(d)}else if(o.canceled){let d=this.appDelete_?c0():a0();a(d)}else{let d=s0();a(d)}};this.canceled_?t(!1,new fo(!1,null,!0)):this.backoffId_=w2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},fo=class{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}};function I2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function k2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function R2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function A2(r,e,t,n,o,s,a=!0){let c=u0(r.urlParams),d=r.url+c,p=Object.assign({},r.headers);return S2(p,e),I2(p,t),k2(p,s),R2(p,n),new ju(d,r.method,p,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,a)}function P2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D2(...r){let e=P2();if(e!==void 0){let t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Ku())return new Blob(r);throw new xe(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V2(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}function M2(r){if(typeof atob>"u")throw v2("base-64");return atob(r)}var st={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ci=class{constructor(e,t){this.data=e,this.contentType=t||null}};function Qu(r,e){switch(r){case st.RAW:return new Ci(h0(e));case st.BASE64:case st.BASE64URL:return new Ci(f0(r,e));case st.DATA_URL:return new Ci(B2(e),F2(e))}throw $u()}function h0(r){let e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=n,a=r.charCodeAt(++t);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function N2(r){let e;try{e=decodeURIComponent(r)}catch{throw wi(st.DATA_URL,"Malformed data URL.")}return h0(e)}function f0(r,e){switch(r){case st.BASE64:{let o=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(o||s)throw wi(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case st.BASE64URL:{let o=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(o||s)throw wi(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=M2(e)}catch(o){throw o.message.includes("polyfill")?o:wi(r,"Invalid character found")}let n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}var ga=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw wi(st.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=t[1]||null;n!=null&&(this.base64=L2(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function B2(r){let e=new ga(r);return e.base64?f0(st.BASE64,e.rest):N2(e.rest)}function F2(r){return new ga(r).contentType}function L2(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}var po=class r{constructor(e,t){let n=0,o="";Yg(e)?(this.data_=e,n=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Yg(this.data_)){let n=this.data_,o=V2(n,e,t);return o===null?null:new r(o)}else{let n=new Uint8Array(this.data_.buffer,e,t-e);return new r(n,!0)}}static getBlob(...e){if(Ku()){let t=e.map(n=>n instanceof r?n.data_:n);return new r(D2.apply(null,t))}else{let t=e.map(a=>_a(a)?Qu(st.RAW,a).data:a.data_),n=0;t.forEach(a=>{n+=a.byteLength});let o=new Uint8Array(n),s=0;return t.forEach(a=>{for(let c=0;c<a.length;c++)o[s++]=a[c]}),new r(o,!0)}}uploadData(){return this.data_}};function Hu(r){let e;try{e=JSON.parse(r)}catch{return null}return T2(e)?e:null}function O2(r){if(r.length===0)return null;let e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function U2(r,e){let t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function m0(r){let e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function j2(r,e){return e}var Ue=class{constructor(e,t,n,o){this.server=e,this.local=t||e,this.writable=!!n,this.xform=o||j2}},pa=null;function q2(r){return!_a(r)||r.length<2?r:m0(r)}function ya(){if(pa)return pa;let r=[];r.push(new Ue("bucket")),r.push(new Ue("generation")),r.push(new Ue("metageneration")),r.push(new Ue("name","fullPath",!0));function e(s,a){return q2(a)}let t=new Ue("name");t.xform=e,r.push(t);function n(s,a){return a!==void 0?Number(a):a}let o=new Ue("size");return o.xform=n,r.push(o),r.push(new Ue("timeCreated")),r.push(new Ue("updated")),r.push(new Ue("md5Hash",null,!0)),r.push(new Ue("cacheControl",null,!0)),r.push(new Ue("contentDisposition",null,!0)),r.push(new Ue("contentEncoding",null,!0)),r.push(new Ue("contentLanguage",null,!0)),r.push(new Ue("contentType",null,!0)),r.push(new Ue("metadata","customMetadata",!0)),pa=r,pa}function z2(r,e){function t(){let n=r.bucket,o=r.fullPath,s=new Je(n,o);return e._makeStorageReference(s)}Object.defineProperty(r,"ref",{get:t})}function W2(r,e,t){let n={};n.type="file";let o=t.length;for(let s=0;s<o;s++){let a=t[s];n[a.local]=a.xform(n,e[a.server])}return z2(n,r),n}function p0(r,e,t){let n=Hu(e);return n===null?null:W2(r,n,t)}function $2(r,e,t,n){let o=Hu(e);if(o===null||!_a(o.downloadTokens))return null;let s=o.downloadTokens;if(s.length===0)return null;let a=encodeURIComponent;return s.split(",").map(p=>{let g=r.bucket,T=r.fullPath,k="/b/"+a(g)+"/o/"+a(T),A=Tr(k,t,n),M=u0({alt:"media",token:p});return A+M})[0]}function Yu(r,e){let t={},n=e.length;for(let o=0;o<n;o++){let s=e[o];s.writable&&(t[s.server]=r[s.local])}return JSON.stringify(t)}var Xg="prefixes",Jg="items";function G2(r,e,t){let n={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Xg])for(let o of t[Xg]){let s=o.replace(/\/$/,""),a=r._makeStorageReference(new Je(e,s));n.prefixes.push(a)}if(t[Jg])for(let o of t[Jg]){let s=r._makeStorageReference(new Je(e,o.name));n.items.push(s)}return n}function K2(r,e,t){let n=Hu(t);return n===null?null:G2(r,e,n)}var pt=class{constructor(e,t,n,o){this.url=e,this.method=t,this.handler=n,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Nt(r){if(!r)throw $u()}function ba(r,e){function t(n,o){let s=p0(r,o,e);return Nt(s!==null),s}return t}function Q2(r,e){function t(n,o){let s=K2(r,e,o);return Nt(s!==null),s}return t}function H2(r,e){function t(n,o){let s=p0(r,o,e);return Nt(s!==null),$2(s,o,r.host,r._protocol)}return t}function yo(r){function e(t,n){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=f2():o=h2():t.getStatus()===402?o=d2(r.bucket):t.getStatus()===403?o=m2(r.path):o=n,o.status=t.getStatus(),o.serverResponse=n.serverResponse,o}return e}function va(r){let e=yo(r);function t(n,o){let s=e(n,o);return n.getStatus()===404&&(s=u2(r.path)),s.serverResponse=o.serverResponse,s}return t}function g0(r,e,t){let n=e.fullServerUrl(),o=Tr(n,r.host,r._protocol),s="GET",a=r.maxOperationRetryTime,c=new pt(o,s,ba(r,t),a);return c.errorHandler=va(e),c}function Y2(r,e,t,n,o){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t&&t.length>0&&(s.delimiter=t),n&&(s.pageToken=n),o&&(s.maxResults=o);let a=e.bucketOnlyServerUrl(),c=Tr(a,r.host,r._protocol),d="GET",p=r.maxOperationRetryTime,g=new pt(c,d,Q2(r,e.bucket),p);return g.urlParams=s,g.errorHandler=yo(e),g}function X2(r,e,t){let n=e.fullServerUrl(),o=Tr(n,r.host,r._protocol),s="GET",a=r.maxOperationRetryTime,c=new pt(o,s,H2(r,t),a);return c.errorHandler=va(e),c}function J2(r,e,t,n){let o=e.fullServerUrl(),s=Tr(o,r.host,r._protocol),a="PATCH",c=Yu(t,n),d={"Content-Type":"application/json; charset=utf-8"},p=r.maxOperationRetryTime,g=new pt(s,a,ba(r,n),p);return g.headers=d,g.body=c,g.errorHandler=va(e),g}function Z2(r,e){let t=e.fullServerUrl(),n=Tr(t,r.host,r._protocol),o="DELETE",s=r.maxOperationRetryTime;function a(d,p){}let c=new pt(n,o,a,s);return c.successCodes=[200,204],c.errorHandler=va(e),c}function ew(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function _0(r,e,t){let n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=ew(null,e)),n}function tw(r,e,t,n,o){let s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let Q="";for(let ne=0;ne<2;ne++)Q=Q+Math.random().toString().slice(2);return Q}let d=c();a["Content-Type"]="multipart/related; boundary="+d;let p=_0(e,n,o),g=Yu(p,t),T="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,k=`\r
--`+d+"--",A=po.getBlob(T,n,k);if(A===null)throw l0();let M={name:p.fullPath},U=Tr(s,r.host,r._protocol),V="POST",Z=r.maxUploadRetryTime,ee=new pt(U,V,ba(r,t),Z);return ee.urlParams=M,ee.headers=a,ee.body=A.uploadData(),ee.errorHandler=yo(e),ee}var go=class{constructor(e,t,n,o){this.current=e,this.total=t,this.finalized=!!n,this.metadata=o||null}};function Xu(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{Nt(!1)}return Nt(!!t&&(e||["active"]).indexOf(t)!==-1),t}function rw(r,e,t,n,o){let s=e.bucketOnlyServerUrl(),a=_0(e,n,o),c={name:a.fullPath},d=Tr(s,r.host,r._protocol),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},T=Yu(a,t),k=r.maxUploadRetryTime;function A(U){Xu(U);let V;try{V=U.getResponseHeader("X-Goog-Upload-URL")}catch{Nt(!1)}return Nt(_a(V)),V}let M=new pt(d,p,A,k);return M.urlParams=c,M.headers=g,M.body=T,M.errorHandler=yo(e),M}function nw(r,e,t,n){let o={"X-Goog-Upload-Command":"query"};function s(p){let g=Xu(p,["active","final"]),T=null;try{T=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Nt(!1)}T||Nt(!1);let k=Number(T);return Nt(!isNaN(k)),new go(k,n.size(),g==="final")}let a="POST",c=r.maxUploadRetryTime,d=new pt(t,a,s,c);return d.headers=o,d.errorHandler=yo(e),d}var Zg=256*1024;function ow(r,e,t,n,o,s,a,c){let d=new go(0,0);if(a?(d.current=a.current,d.total=a.total):(d.current=0,d.total=n.size()),n.size()!==d.total)throw y2();let p=d.total-d.current,g=p;o>0&&(g=Math.min(g,o));let T=d.current,k=T+g,A="";g===0?A="finalize":p===g?A="upload, finalize":A="upload";let M={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${d.current}`},U=n.slice(T,k);if(U===null)throw l0();function V(ne,Ve){let le=Xu(ne,["active","final"]),w=d.current+g,_=n.size(),b;return le==="final"?b=ba(e,s)(ne,Ve):b=null,new go(w,_,le==="final",b)}let Z="POST",ee=e.maxUploadRetryTime,Q=new pt(t,Z,V,ee);return Q.headers=M,Q.body=U.uploadData(),Q.progressCallback=c||null,Q.errorHandler=yo(r),Q}var y0={STATE_CHANGED:"state_changed"},Qe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Lu(r){switch(r){case"running":case"pausing":case"canceling":return Qe.RUNNING;case"paused":return Qe.PAUSED;case"success":return Qe.SUCCESS;case"canceled":return Qe.CANCELED;case"error":return Qe.ERROR;default:return Qe.ERROR}}var qu=class{constructor(e,t,n){if(E2(e)||t!=null||n!=null)this.next=e,this.error=t??void 0,this.complete=n??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function ho(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}var e0=null,zu=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,o){if(this.sent_)throw vi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(let s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Wu=class extends zu{initXhr(){this.xhr_.responseType="text"}};function Mt(){return e0?e0():new Wu}var xi=class{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ya(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(we.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(d0(o.status,[]))if(s)o=s0();else{this.sleepTime=Math.max(this.sleepTime*2,c2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(we.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,s)=>{this._resolve=o,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let n=rw(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(n,Mt,e,t);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,n)=>{let o=nw(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(o,Mt,t,n);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Zg*this._chunkMultiplier,t=new go(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((o,s)=>{let a;try{a=ow(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}let c=this._ref.storage._makeRequest(a,Mt,o,s,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Zg*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let n=g0(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(n,Mt,e,t);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let n=tw(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(n,Mt,e,t);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=a0(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Lu(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,o){let s=new qu(t||void 0,n||void 0,o||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Lu(this._state)){case Qe.SUCCESS:ho(this._resolve.bind(null,this.snapshot))();break;case Qe.CANCELED:case Qe.ERROR:let t=this._reject;ho(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Lu(this._state)){case Qe.RUNNING:case Qe.PAUSED:e.next&&ho(e.next.bind(e,this.snapshot))();break;case Qe.SUCCESS:e.complete&&ho(e.complete.bind(e))();break;case Qe.CANCELED:case Qe.ERROR:e.error&&ho(e.error.bind(e,this._error))();break;default:e.error&&ho(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var _o=class r{constructor(e,t){this._service=e,t instanceof Je?this._location=t:this._location=Je.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new r(e,t)}get root(){let e=new Je(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m0(this._location.path)}get storage(){return this._service}get parent(){let e=O2(this._location.path);if(e===null)return null;let t=new Je(this._location.bucket,e);return new r(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Gu(e)}};function iw(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new xi(r,new po(e),t)}function sw(r){let e={prefixes:[],items:[]};return b0(r,e).then(()=>e)}function b0(r,e,t){return L(this,null,function*(){let o=yield v0(r,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&(yield b0(r,e,o.nextPageToken))})}function v0(r,e){e!=null&&typeof e.maxResults=="number"&&Uu("options.maxResults",1,1e3,e.maxResults);let t=e||{},n=Y2(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(n,Mt)}function aw(r){r._throwIfRoot("getMetadata");let e=g0(r.storage,r._location,ya());return r.storage.makeRequestWithTokens(e,Mt)}function lw(r,e){r._throwIfRoot("updateMetadata");let t=J2(r.storage,r._location,e,ya());return r.storage.makeRequestWithTokens(t,Mt)}function cw(r){r._throwIfRoot("getDownloadURL");let e=X2(r.storage,r._location,ya());return r.storage.makeRequestWithTokens(e,Mt).then(t=>{if(t===null)throw b2();return t})}function uw(r){r._throwIfRoot("deleteObject");let e=Z2(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Mt)}function w0(r,e){let t=U2(r._location.path,e),n=new Je(r._location.bucket,t);return new _o(r.storage,n)}function dw(r){return/^[A-Za-z]+:\/\//.test(r)}function hw(r,e){return new _o(r,e)}function C0(r,e){if(r instanceof Ei){let t=r;if(t._bucket==null)throw _2();let n=new _o(t,t._bucket);return e!=null?C0(n,e):n}else return e!==void 0?w0(r,e):r}function fw(r,e){if(e&&dw(e)){if(r instanceof Ei)return hw(r,e);throw Jr("To use ref(service, url), the first argument must be a Storage instance.")}else return C0(r,e)}function t0(r,e){let t=e?.[i0];return t==null?null:Je.makeFromBucketSpec(t,r)}function mw(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";let{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:Qi(o,r.app.options.projectId))}var Ei=class{constructor(e,t,n,o,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=o0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a2,this._maxUploadRetryTime=l2,this._requests=new Set,o!=null?this._bucket=Je.makeFromBucketSpec(o,this._host):this._bucket=t0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Je.makeFromBucketSpec(this._url,e):this._bucket=t0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return L(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return L(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _o(this,e)}_makeRequest(e,t,n,o,s=!0){if(this._deleted)return new Ou(c0());{let a=A2(e,this._appId,n,o,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){return L(this,null,function*(){let[n,o]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,o).getPromise()})}},r0="@firebase/storage",n0="0.13.2";var x0="storage";function Ju(r,e,t){return r=Re(r),iw(r,e,t)}function Zu(r){return r=Re(r),aw(r)}function ed(r,e){return r=Re(r),lw(r,e)}function td(r,e){return r=Re(r),v0(r,e)}function rd(r){return r=Re(r),sw(r)}function nd(r){return r=Re(r),cw(r)}function od(r){return r=Re(r),uw(r)}function wa(r,e){return r=Re(r),fw(r,e)}function E0(r,e){return w0(r,e)}function T0(r=Zi(),e){r=Re(r);let n=Xi(r,x0).getImmediate({identifier:e}),o=Ki("storage");return o&&Ca(n,...o),n}function Ca(r,e,t,n={}){mw(r,e,t,n)}function pw(r,{instanceIdentifier:e}){let t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Ei(t,n,o,e,Ji)}function gw(){Yi(new un(x0,pw,"PUBLIC").setMultipleInstances(!0)),ct(r0,n0,""),ct(r0,n0,"esm2017")}gw();var bo=class{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var xa=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bo(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(n=>{if(e)return e(new bo(n,this,this._ref))},t)}on(e,t,n,o){let s;return t&&(typeof t=="function"?s=a=>t(new bo(a,this,this._ref)):s={next:t.next?a=>t.next(new bo(a,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,n||void 0,o||void 0)}},Ea=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Zr(e,this._service))}get items(){return this._delegate.items.map(e=>new Zr(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Zr=class r{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=E0(this._delegate,e);return new r(t,this.storage)}get root(){return new r(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new r(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new xa(Ju(this._delegate,e,t),this)}putString(e,t=st.RAW,n){this._throwIfRoot("putString");let o=Qu(t,e),s=Object.assign({},n);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new xa(new xi(this._delegate,new po(o.data,!0),s),this)}listAll(){return rd(this._delegate).then(e=>new Ea(e,this.storage))}list(e){return td(this._delegate,e||void 0).then(t=>new Ea(t,this.storage))}getMetadata(){return Zu(this._delegate)}updateMetadata(e){return ed(this._delegate,e)}getDownloadURL(){return nd(this._delegate)}delete(){return this._throwIfRoot("delete"),od(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Gu(e)}};var Ta=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(I0(e))throw Jr("ref() expected a child path but got a URL, use refFromURL instead.");return new Zr(wa(this._delegate,e),this)}refFromURL(e){if(!I0(e))throw Jr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Je.makeFromUrl(e,this._delegate.host)}catch{throw Jr("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zr(wa(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){Ca(this._delegate,e,t,n)}};function I0(r){return/^[A-Za-z]+:\/\//.test(r)}var _w="@firebase/storage-compat",yw="0.3.12";var bw="storage-compat";function vw(r,{instanceIdentifier:e}){let t=r.getProvider("app-compat").getImmediate(),n=r.getProvider("storage").getImmediate({identifier:e});return new Ta(t,n)}function ww(r){let e={TaskState:Qe,TaskEvent:y0,StringFormat:st,Storage:Ta,Reference:Zr};r.INTERNAL.registerComponent(new un(bw,vw,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),r.registerVersion(_w,yw)}ww(fl);function Cw(r){return new ch(e=>{let t=a=>e.next(a),n=a=>e.error(a),o=()=>e.complete();t(r.snapshot);let s=r.on("state_changed",t);return r.then(a=>{t(a),o()},a=>{t(r.snapshot),n(a)}),function(){s()}}).pipe(dh(0))}function k0(r){let e=Cw(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(uh(t=>t.bytesTransferred/t.totalBytes*100))}}function Ia(r){return{getDownloadURL:()=>tl(void 0).pipe(ll,rl(()=>r.getDownloadURL()),cl),getMetadata:()=>tl(void 0).pipe(ll,rl(()=>r.getMetadata()),cl),delete:()=>Oo(r.delete()),child:e=>Ia(r.child(e)),updateMetadata:e=>Oo(r.updateMetadata(e)),put:(e,t)=>{let n=r.put(e,t);return k0(n)},putString:(e,t,n)=>{let o=r.putString(e,t,n);return k0(o)},list:e=>Oo(r.list(e)),listAll:()=>Oo(r.listAll())}}var xw=new rt("angularfire2.storageBucket"),Ew=new rt("angularfire2.storage.maxUploadRetryTime"),Tw=new rt("angularfire2.storage.maxOperationRetryTime"),Iw=new rt("angularfire2.storage.use-emulator"),S0=(()=>{class r{storage;constructor(t,n,o,s,a,c,d,p,g,T){let k=uf(t,a,n);this.storage=df(`${k.name}.storage.${o}`,"AngularFireStorage",k.name,()=>{let A=a.runOutsideAngular(()=>k.storage(o||void 0)),M=g;return M&&A.useEmulator(...M),d&&A.setMaxUploadRetryTime(d),p&&A.setMaxOperationRetryTime(p),A},[d,p])}ref(t){return Ia(this.storage.ref(t))}refFromURL(t){return Ia(this.storage.refFromURL(t))}upload(t,n,o){let s=this.storage.ref(t);return Ia(s).put(n,o)}static \u0275fac=function(n){return new(n||r)(Xe(ss),Xe(cf,8),Xe(xw,8),Xe(gh),Xe(_t),Xe(ir),Xe(Ew,8),Xe(Tw,8),Xe(Iw,8),Xe(or,8))};static \u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})();function Sw(r,e){r&1&&R(0,"p-button",12)}function Rw(r,e){if(r&1){let t=te();h(0,"input",13),fe("ngModelChange",function(o){j(t);let s=N();return he(s.carpeta.nombre,o)||(s.carpeta.nombre=o),q(o)}),m(),h(1,"p-button",14),$("onClick",function(){j(t);let o=N();return q(o.createCarpeta())}),m()}if(r&2){let t=N();de("ngModel",t.carpeta.nombre)}}function Aw(r,e){if(r&1){let t=te();h(0,"div",6)(1,"p"),x(2),m(),h(3,"p-button",15),$("onClick",function(){j(t);let o=N();return q(o.openFile())}),m(),h(4,"p-button",16),$("onClick",function(){j(t);let o=N();return q(o.deleteFile())}),m()()}if(r&2){let t=N();P(2),ye(t.selectedFile.nombre)}}function Pw(r,e){if(r&1){let t=te();h(0,"p"),x(1),m(),h(2,"p-button",16),$("onClick",function(){j(t);let o=N();return q(o.deleteFolder())}),m()}if(r&2){let t=N();P(),Pr("Carpeta: ",t.selectedCarpeta,"")}}var ka=class r{constructor(e,t){this.fireService=e;this.storage=t}documentos=[];carpeta={};carpetas=[];event;loading=!0;doc={};uploadedFileURL="";selectedFile;fileCarpeta;selectedCarpeta;ngOnInit(){this.getCarpetas()}onUpload(e){console.log(e),this.event=e}upload(){console.log(this.doc),console.log(this.event),this.uploadFile(this.event)}uploadFile(e){let t=e.target.files[0],n=`documentos/${t.name}`,o=this.storage.ref(n);this.storage.upload(n,t).snapshotChanges().pipe(hh(()=>{o.getDownloadURL().subscribe(a=>{this.uploadedFileURL=a;let c={};c.url=a,c.nombre=t.name,this.fireService.createDeepDoc("carpetas",this.doc.carpeta.ID,"documentos",c).then(d=>{console.log(d)}).catch(d=>{console.log(d)})})})).subscribe()}getFileURL(){return this.uploadedFileURL}dbl(){console.log("double")}createCarpeta(){this.fireService.createDoc("carpetas",this.carpeta).then(e=>{console.log(e),this.carpeta={}}).catch(e=>{console.log(e)})}createDoc(){this.fireService.createDeepDoc("carpetas",this.carpeta.ID,"documentos",this.doc).then(e=>{console.log(e)}).catch(e=>{console.log(e)})}unselect(){this.selectedCarpeta=null,this.selectedFile=null,this.fileCarpeta=null}select(e){this.selectedCarpeta=null,this.selectedFile=null,this.fileCarpeta=null,console.log(e),e.node.value?(console.log("children"),this.fileCarpeta=e.node.parent.label,this.selectedFile=e.node.value):(console.log("parent"),this.selectedCarpeta=e.node.label)}openFile(){window.open(this.selectedFile.url,"_blank")}deleteFile(){this.loading=!0;let e=this.carpetas.find(a=>a.nombre===this.fileCarpeta),t=this.documentos.find(a=>a.label===this.fileCarpeta),n=this.documentos.indexOf(t),o=t?.children?.find(a=>a.label===this.selectedFile.nombre),s=t?.children?.indexOf(o);this.fireService.deleteDeepDoc("carpetas",e.ID,"documentos",this.selectedFile.ID).then(a=>{console.log(a),this.documentos[n].children.splice(s,1),this.loading=!1,this.selectedCarpeta=null,this.selectedFile=null,this.fileCarpeta=null}).catch(a=>{console.log(a),this.loading=!1,this.selectedCarpeta=null,this.selectedFile=null,this.fileCarpeta=null})}deleteFolder(){this.loading=!0;let e=this.carpetas.find(o=>o.nombre===this.selectedCarpeta),t=this.documentos.find(o=>o.label===this.selectedCarpeta),n=this.documentos.indexOf(t);this.fireService.deleteDoc("carpetas",e.ID).then(o=>{this.documentos.splice(n,1),console.log(o),this.loading=!1,this.selectedCarpeta=null,this.selectedFile=null,this.fileCarpeta=null}).catch(o=>{console.log(o),this.loading=!1,this.selectedCarpeta=null,this.selectedFile=null,this.fileCarpeta=null})}getCarpetas(){this.fireService.getDocs("carpetas").then(e=>{this.carpetas=e,e.forEach(t=>{let n={};n.label=t.nombre,n.children=[],this.documentos.push(n),this.fireService.getDeepDocs("carpetas",t.ID,"documentos").then(o=>{o.forEach(s=>{let a={};a.label=s.nombre,a.value=s,n.children.push(a)})}),this.loading=!1}).catch(t=>{console.log(t)})})}static \u0275fac=function(t){return new(t||r)(J(dt),J(S0))};static \u0275cmp=Y({type:r,selectors:[["app-documentos"]],decls:20,vars:8,consts:[["start",""],["end",""],["styleClass","mb-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["styleClass","w-full md:w-[30rem]","emptyMessage","Sin documentos","filterPlaceholder","Buscar","selectionMode","single",3,"onNodeSelect","onNodeUnselect","value","filter","loading"],[1,"grid-cols-12"],[1,"flex","flex-col","gap-4","items-center","justify-center"],["optionLabel","nombre","placeholder","Seleccionar carpeta",1,"w-80",3,"ngModelChange","options","ngModel","showClear"],["for","myfile"],["type","file","id","myfile","name","myfile",3,"input"],["label","Cargar","severity","secondary",3,"onClick"],["label","Subir Archivo","icon","pi pi-plus","severity","secondary",1,"mr-2"],["type","text","pInputText","","id","nombre","fluid","","autocomplete","off",3,"ngModelChange","ngModel"],["label","Crear Carpeta","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["label","Abrir","severity","success",3,"onClick"],["label","Borrar","severity","danger",3,"onClick"]],template:function(t,n){if(t&1){let o=te();h(0,"p-toolbar",2),K(1,Sw,1,0,"ng-template",null,0,ie)(3,Rw,2,1,"ng-template",null,1,ie),m(),h(5,"div",3)(6,"div",4),x(7,"Documentos"),m(),h(8,"p-tree",5),$("onNodeSelect",function(a){return j(o),q(n.select(a))})("onNodeUnselect",function(){return j(o),q(n.unselect())}),m(),K(9,Aw,5,1,"div",6)(10,Pw,3,1),m(),h(11,"div",3)(12,"div",4),x(13,"Basic"),m(),h(14,"div",7)(15,"p-select",8),fe("ngModelChange",function(a){return j(o),he(n.doc.carpeta,a)||(n.doc.carpeta=a),q(a)}),m(),h(16,"label",9),x(17,"Seleccionar Archivo:"),m(),h(18,"input",10),$("input",function(a){return j(o),q(n.onUpload(a))}),m(),h(19,"p-button",11),$("onClick",function(){return j(o),q(n.upload())}),m()()()}t&2&&(P(8),O("value",n.documentos)("filter",!0)("loading",n.loading),P(),Me(n.selectedFile?9:-1),P(),Me(n.selectedCarpeta?10:-1),P(5),O("options",n.carpetas),de("ngModel",n.doc.carpeta),O("showClear",!0))},dependencies:[_r,gr,Et,cr,Ct,xt,Ie,Tt,lf,af,sf,dr,ur,fr],encapsulation:2})};var R0=[{path:"",component:us,children:[{path:"",component:na},{path:"uikit",loadChildren:()=>import("./chunk-TV4NV6VJ.js")},{path:"documentation",component:rf},{path:"pages",loadChildren:()=>import("./chunk-PYPRLVDU.js")},{path:"egresos",component:fa},{path:"ingresos",component:uo},{path:"categorias",component:ma},{path:"tarjetas",component:bi},{path:"gastos-tarjeta",component:bi},{path:"documentos",component:ka}]},{path:"landing",component:da},{path:"notfound",component:ha},{path:"auth",loadChildren:()=>import("./chunk-MC6IUWB7.js")},{path:"**",redirectTo:"/"}];var Ti=class{constructor(e){return e}},A0="storage",id=class{constructor(){return hn(A0)}};var sd=new rt("angularfire2.storage-instances");function Dw(r,e){let t=dn(A0,r,e);return t&&new Ti(t)}function Vw(r){return(e,t)=>{let n=e.runOutsideAngular(()=>r(t));return new Ti(n)}}var Mw={provide:id,deps:[[new Ze,sd]]},Nw={provide:Ti,useFactory:Dw,deps:[[new Ze,sd],mn]};function P0(r,...e){return ct("angularfire",Vr.full,"gcs"),tr([Nw,Mw,{provide:sd,useFactory:Vw(r),multi:!0,deps:[_t,an,ir,pn,[new Ze,Hr],[new Ze,or],...e]}])}var D0=fn(T0,!0);var ad={production:!1,firebase:{apiKey:"AIzaSyDqhuI47tMYYkVn3y6ab2LCGx1QhblAf5M",authDomain:"bafin-a137a.firebaseapp.com",projectId:"bafin-a137a",storageBucket:"bafin-a137a.firebasestorage.app",messagingSenderId:"1079934699159",appId:"1:1079934699159:web:f9cfe5ba24798ce4cdcbd2"}};var Sa=class r{constructor(e){this.messageService=e}showSuccess(){this.messageService.add({severity:"success",summary:"Success",detail:"Message Content"})}showInfo(){this.messageService.add({severity:"info",summary:"Info",detail:"Message Content"})}showWarn(){this.messageService.add({severity:"warn",summary:"Warn",detail:"Message Content"})}showError(){this.messageService.add({severity:"error",summary:"Error",detail:"Message Content"})}showContrast(){this.messageService.add({severity:"contrast",summary:"Error",detail:"Message Content"})}showSecondary(){this.messageService.add({severity:"secondary",summary:"Secondary",detail:"Message Content"})}static \u0275fac=function(t){return new(t||r)(J(be))};static \u0275cmp=Y({type:r,selectors:[["app-primetoast"]],features:[et([be])],decls:2,vars:0,template:function(t,n){t&1&&(h(0,"p"),x(1,"primetoast works!"),m())},dependencies:[Ie],encapsulation:2})};function Bw(r){let e=r,t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(r.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===1?1:o===0&&t!==0&&t%1e6===0&&n===0||!(o>=0&&o<=5)?4:5}var V0=["es",[["a.\xA0m.","p.\xA0m."],void 0,void 0],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",Bw];Ph(V0,"es");var M0={providers:[Gh(R0,Kh({anchorScrolling:"enabled",scrollPositionRestoration:"enabled"}),Qh()),Vh(Mh()),ff(),It,be,Sa,cn,Yh({theme:{preset:Hm,options:{darkModeSelector:".app-dark"}}}),Uh(()=>jh(ad.firebase)),Lg(()=>Og()),jg(()=>qg()),P0(()=>D0()),{provide:ss,useValue:ad.firebase},{provide:Rh,useValue:"es"}]};var Ra=class r{constructor(e,t){this.afAuth=e;this.router=t;this.afAuth.onAuthStateChanged(n=>{n?(console.log("User is logged in"),this.isUser=!0):(console.log("User is not logged in"),t.navigate(["/auth/login"]))})}isUser=!1;ngOnInit(){}static \u0275fac=function(t){return new(t||r)(J(hf),J(vt))};static \u0275cmp=Y({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&R(0,"router-outlet")},dependencies:[Be,ts],encapsulation:2})};Bh(Ra,M0).catch(r=>console.error(r));
