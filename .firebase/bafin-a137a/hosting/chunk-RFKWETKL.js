import{B as Rs,E as bi,J as Fs,K as As,g as Un,h as Kn,j as fi,l as gi,o as Es,p as Ns,q as Ps,r as Ls,z as zs}from"./chunk-JDDDTQXJ.js";import{$a as Os,Ca as dt,D as vs,Da as Wi,E as Ts,F as hi,H as ui,Ia as ji,Ja as Ui,Ma as pi,Na as jn,Ua as Is,Va as Ds,W as Hn,Wa as Ut,Y as ws,Z as ge,_ as $n,e as St,f as Fn,fb as mi,h as An,ia as Wn,ja as Cs,pa as Ss,r as ys,s as Vn,t as xs,ua as kt,va as Te,w as Ge,wa as ks,x as le,xa as Ms,y as Wt,z as Bn,za as jt}from"./chunk-ILYSFQGJ.js";import{$a as hs,$b as fs,$c as Ye,Aa as Hi,Ab as Le,Ac as Rn,Bb as Ln,Dc as z,Ec as ve,Fb as P,Gb as L,Hb as ee,Ib as ue,Jb as pe,Kb as U,Lb as Oe,Nb as ae,Ob as k,Pb as us,Qb as ps,Tb as A,Ub as re,Vb as E,Vc as Bt,W as ds,Wa as v,Wb as N,Wc as di,X as rt,Xa as Z,Xc as qe,Y as at,Zb as On,_b as zn,_c as Ht,ac as gs,ba as Fe,dd as Xe,f as At,fc as Vt,fd as $t,gc as ms,hb as Ie,hc as ne,ia as Bi,ib as lt,ic as Ke,ja as W,jb as Pn,ka as j,kc as bs,lb as ct,mc as _s,na as Ae,nb as Pe,ob as S,sa as H,ta as wt,uc as Qe,vb as de,wa as ci,wb as y,xb as Ve,yb as $i,zb as Ct}from"./chunk-W5TUANWH.js";import{a as xe,b as Ft}from"./chunk-KT3CPUTC.js";function xi(t){return t+.5|0}var ht=(t,n,e)=>Math.max(Math.min(t,e),n);function _i(t){return ht(xi(t*2.55),0,255)}function ut(t){return ht(xi(t*255),0,255)}function Je(t){return ht(xi(t/2.55)/100,0,1)}function Vs(t){return ht(xi(t*100),0,100)}var De={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qn=[..."0123456789ABCDEF"],dl=t=>qn[t&15],hl=t=>qn[(t&240)>>4]+qn[t&15],Ki=t=>(t&240)>>4===(t&15),ul=t=>Ki(t.r)&&Ki(t.g)&&Ki(t.b)&&Ki(t.a);function pl(t){var n=t.length,e;return t[0]==="#"&&(n===4||n===5?e={r:255&De[t[1]]*17,g:255&De[t[2]]*17,b:255&De[t[3]]*17,a:n===5?De[t[4]]*17:255}:(n===7||n===9)&&(e={r:De[t[1]]<<4|De[t[2]],g:De[t[3]]<<4|De[t[4]],b:De[t[5]]<<4|De[t[6]],a:n===9?De[t[7]]<<4|De[t[8]]:255})),e}var fl=(t,n)=>t<255?n(t):"";function gl(t){var n=ul(t)?dl:hl;return t?"#"+n(t.r)+n(t.g)+n(t.b)+fl(t.a,n):void 0}var ml=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ws(t,n,e){let i=n*Math.min(e,1-e),o=(s,r=(s+t/30)%12)=>e-i*Math.max(Math.min(r-3,9-r,1),-1);return[o(0),o(8),o(4)]}function bl(t,n,e){let i=(o,s=(o+t/60)%6)=>e-e*n*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function _l(t,n,e){let i=Ws(t,1,.5),o;for(n+e>1&&(o=1/(n+e),n*=o,e*=o),o=0;o<3;o++)i[o]*=1-n-e,i[o]+=n;return i}function yl(t,n,e,i,o){return t===o?(n-e)/i+(n<e?6:0):n===o?(e-t)/i+2:(t-n)/i+4}function Yn(t){let e=t.r/255,i=t.g/255,o=t.b/255,s=Math.max(e,i,o),r=Math.min(e,i,o),a=(s+r)/2,l,c,d;return s!==r&&(d=s-r,c=a>.5?d/(2-s-r):d/(s+r),l=yl(e,i,o,d,s),l=l*60+.5),[l|0,c||0,a]}function Xn(t,n,e,i){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,i)).map(ut)}function Gn(t,n,e){return Xn(Ws,t,n,e)}function xl(t,n,e){return Xn(_l,t,n,e)}function vl(t,n,e){return Xn(bl,t,n,e)}function js(t){return(t%360+360)%360}function Tl(t){let n=ml.exec(t),e=255,i;if(!n)return;n[5]!==i&&(e=n[6]?_i(+n[5]):ut(+n[5]));let o=js(+n[2]),s=+n[3]/100,r=+n[4]/100;return n[1]==="hwb"?i=xl(o,s,r):n[1]==="hsv"?i=vl(o,s,r):i=Gn(o,s,r),{r:i[0],g:i[1],b:i[2],a:e}}function wl(t,n){var e=Yn(t);e[0]=js(e[0]+n),e=Gn(e),t.r=e[0],t.g=e[1],t.b=e[2]}function Cl(t){if(!t)return;let n=Yn(t),e=n[0],i=Vs(n[1]),o=Vs(n[2]);return t.a<255?`hsla(${e}, ${i}%, ${o}%, ${Je(t.a)})`:`hsl(${e}, ${i}%, ${o}%)`}var Bs={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hs={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Sl(){let t={},n=Object.keys(Hs),e=Object.keys(Bs),i,o,s,r,a;for(i=0;i<n.length;i++){for(r=a=n[i],o=0;o<e.length;o++)s=e[o],a=a.replace(s,Bs[s]);s=parseInt(Hs[r],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var Qi;function kl(t){Qi||(Qi=Sl(),Qi.transparent=[0,0,0,0]);let n=Qi[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var Ml=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Il(t){let n=Ml.exec(t),e=255,i,o,s;if(n){if(n[7]!==i){let r=+n[7];e=n[8]?_i(r):ht(r*255,0,255)}return i=+n[1],o=+n[3],s=+n[5],i=255&(n[2]?_i(i):ht(i,0,255)),o=255&(n[4]?_i(o):ht(o,0,255)),s=255&(n[6]?_i(s):ht(s,0,255)),{r:i,g:o,b:s,a:e}}}function Dl(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Je(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Qn=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Kt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function El(t,n,e){let i=Kt(Je(t.r)),o=Kt(Je(t.g)),s=Kt(Je(t.b));return{r:ut(Qn(i+e*(Kt(Je(n.r))-i))),g:ut(Qn(o+e*(Kt(Je(n.g))-o))),b:ut(Qn(s+e*(Kt(Je(n.b))-s))),a:t.a+e*(n.a-t.a)}}function qi(t,n,e){if(t){let i=Yn(t);i[n]=Math.max(0,Math.min(i[n]+i[n]*e,n===0?360:1)),i=Gn(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Us(t,n){return t&&Object.assign(n||{},t)}function $s(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=ut(t[3]))):(n=Us(t,{r:0,g:0,b:0,a:1}),n.a=ut(n.a)),n}function Nl(t){return t.charAt(0)==="r"?Il(t):Tl(t)}var yi=class t{constructor(n){if(n instanceof t)return n;let e=typeof n,i;e==="object"?i=$s(n):e==="string"&&(i=pl(n)||kl(n)||Nl(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=Us(this._rgb);return n&&(n.a=Je(n.a)),n}set rgb(n){this._rgb=$s(n)}rgbString(){return this._valid?Dl(this._rgb):void 0}hexString(){return this._valid?gl(this._rgb):void 0}hslString(){return this._valid?Cl(this._rgb):void 0}mix(n,e){if(n){let i=this.rgb,o=n.rgb,s,r=e===s?.5:e,a=2*r-1,l=i.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*o.r+.5,i.g=255&c*i.g+s*o.g+.5,i.b=255&c*i.b+s*o.b+.5,i.a=r*i.a+(1-r)*o.a,this.rgb=i}return this}interpolate(n,e){return n&&(this._rgb=El(this._rgb,n._rgb,e)),this}clone(){return new t(this.rgb)}alpha(n){return this._rgb.a=ut(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=xi(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return qi(this._rgb,2,n),this}darken(n){return qi(this._rgb,2,-n),this}saturate(n){return qi(this._rgb,1,n),this}desaturate(n){return qi(this._rgb,1,-n),this}rotate(n){return wl(this._rgb,n),this}};function $e(){}var ir=(()=>{let t=0;return()=>t++})();function $(t){return t===null||typeof t>"u"}function Y(t){if(Array.isArray&&Array.isArray(t))return!0;let n=Object.prototype.toString.call(t);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function V(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function te(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ce(t,n){return te(t)?t:n}function O(t,n){return typeof t>"u"?n:t}var nr=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/n,to=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*n:+t;function q(t,n,e){if(t&&typeof t.call=="function")return t.apply(e,n)}function K(t,n,e,i){let o,s,r;if(Y(t))if(s=t.length,i)for(o=s-1;o>=0;o--)n.call(e,t[o],o);else for(o=0;o<s;o++)n.call(e,t[o],o);else if(V(t))for(r=Object.keys(t),s=r.length,o=0;o<s;o++)n.call(e,t[r[o]],r[o])}function wi(t,n){let e,i,o,s;if(!t||!n||t.length!==n.length)return!1;for(e=0,i=t.length;e<i;++e)if(o=t[e],s=n[e],o.datasetIndex!==s.datasetIndex||o.index!==s.index)return!1;return!0}function Ji(t){if(Y(t))return t.map(Ji);if(V(t)){let n=Object.create(null),e=Object.keys(t),i=e.length,o=0;for(;o<i;++o)n[e[o]]=Ji(t[e[o]]);return n}return t}function or(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Pl(t,n,e,i){if(!or(t))return;let o=n[t],s=e[t];V(o)&&V(s)?qt(o,s,i):n[t]=Ji(s)}function qt(t,n,e){let i=Y(n)?n:[n],o=i.length;if(!V(t))return t;e=e||{};let s=e.merger||Pl,r;for(let a=0;a<o;++a){if(r=i[a],!V(r))continue;let l=Object.keys(r);for(let c=0,d=l.length;c<d;++c)s(l[c],t,r,e)}return t}function Xt(t,n){return qt(t,n,{merger:Ll})}function Ll(t,n,e){if(!or(t))return;let i=n[t],o=e[t];V(i)&&V(o)?Xt(i,o):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=Ji(o))}var Ks={"":t=>t,x:t=>t.x,y:t=>t.y};function Ol(t){let n=t.split("."),e=[],i="";for(let o of n)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function zl(t){let n=Ol(t);return e=>{for(let i of n){if(i==="")break;e=e&&e[i]}return e}}function tt(t,n){return(Ks[n]||(Ks[n]=zl(n)))(t)}function nn(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Gt=t=>typeof t<"u",Ze=t=>typeof t=="function",io=(t,n)=>{if(t.size!==n.size)return!1;for(let e of t)if(!n.has(e))return!1;return!0};function sr(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var X=Math.PI,G=2*X,Rl=G+X,Zi=Number.POSITIVE_INFINITY,Fl=X/180,oe=X/2,Mt=X/4,Qs=X*2/3,et=Math.log10,ze=Math.sign;function Jt(t,n,e){return Math.abs(t-n)<e}function no(t){let n=Math.round(t);t=Jt(t,n,t/1e3)?n:t;let e=Math.pow(10,Math.floor(et(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function rr(t){let n=[],e=Math.sqrt(t),i;for(i=1;i<e;i++)t%i===0&&(n.push(i),n.push(t/i));return e===(e|0)&&n.push(e),n.sort((o,s)=>o-s).pop(),n}function Et(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ar(t,n){let e=Math.round(t);return e-n<=t&&e+n>=t}function oo(t,n,e){let i,o,s;for(i=0,o=t.length;i<o;i++)s=t[i][e],isNaN(s)||(n.min=Math.min(n.min,s),n.max=Math.max(n.max,s))}function Ee(t){return t*(X/180)}function on(t){return t*(180/X)}function so(t){if(!te(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function ro(t,n){let e=n.x-t.x,i=n.y-t.y,o=Math.sqrt(e*e+i*i),s=Math.atan2(i,e);return s<-.5*X&&(s+=G),{angle:s,distance:o}}function en(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function Al(t,n){return(t-n+Rl)%G-X}function we(t){return(t%G+G)%G}function Zt(t,n,e,i){let o=we(t),s=we(n),r=we(e),a=we(s-o),l=we(r-o),c=we(o-s),d=we(o-r);return o===s||o===r||i&&s===r||a>l&&c<d}function he(t,n,e){return Math.max(n,Math.min(e,t))}function lr(t){return he(t,-32768,32767)}function We(t,n,e,i=1e-6){return t>=Math.min(n,e)-i&&t<=Math.max(n,e)+i}function sn(t,n,e){e=e||(r=>t[r]<n);let i=t.length-1,o=0,s;for(;i-o>1;)s=o+i>>1,e(s)?o=s:i=s;return{lo:o,hi:i}}var Be=(t,n,e,i)=>sn(t,e,i?o=>{let s=t[o][n];return s<e||s===e&&t[o+1][n]===e}:o=>t[o][n]<e),cr=(t,n,e)=>sn(t,e,i=>t[i][n]>=e);function dr(t,n,e){let i=0,o=t.length;for(;i<o&&t[i]<n;)i++;for(;o>i&&t[o-1]>e;)o--;return i>0||o<t.length?t.slice(i,o):t}var hr=["push","pop","shift","splice","unshift"];function ur(t,n){if(t._chartjs){t._chartjs.listeners.push(n);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),hr.forEach(e=>{let i="_onData"+nn(e),o=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...s){let r=o.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),r}})})}function ao(t,n){let e=t._chartjs;if(!e)return;let i=e.listeners,o=i.indexOf(n);o!==-1&&i.splice(o,1),!(i.length>0)&&(hr.forEach(s=>{delete t[s]}),delete t._chartjs)}function lo(t){let n=new Set(t);return n.size===t.length?t:Array.from(n)}var co=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ho(t,n){let e=[],i=!1;return function(...o){e=o,i||(i=!0,co.call(window,()=>{i=!1,t.apply(n,e)}))}}function pr(t,n){let e;return function(...i){return n?(clearTimeout(e),e=setTimeout(t,n,i)):t.apply(this,i),n}}var rn=t=>t==="start"?"left":t==="end"?"right":"center",me=(t,n,e)=>t==="start"?n:t==="end"?e:(n+e)/2,fr=(t,n,e,i)=>t===(i?"left":"right")?e:t==="center"?(n+e)/2:n;function uo(t,n,e){let i=n.length,o=0,s=i;if(t._sorted){let{iScale:r,_parsed:a}=t,l=r.axis,{min:c,max:d,minDefined:h,maxDefined:u}=r.getUserBounds();h&&(o=he(Math.min(Be(a,l,c).lo,e?i:Be(n,l,r.getPixelForValue(c)).lo),0,i-1)),u?s=he(Math.max(Be(a,r.axis,d,!0).hi+1,e?0:Be(n,l,r.getPixelForValue(d),!0).hi+1),o,i)-o:s=i-o}return{start:o,count:s}}function po(t){let{xScale:n,yScale:e,_scaleRanges:i}=t,o={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=o,!0;let s=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,o),s}var Yi=t=>t===0||t===1,qs=(t,n,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-n)*G/e)),Ys=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*G/e)+1,Qt={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*oe)+1,easeOutSine:t=>Math.sin(t*oe),easeInOutSine:t=>-.5*(Math.cos(X*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yi(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yi(t)?t:qs(t,.075,.3),easeOutElastic:t=>Yi(t)?t:Ys(t,.075,.3),easeInOutElastic(t){return Yi(t)?t:t<.5?.5*qs(t*2,.1125,.45):.5+.5*Ys(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let n=1.70158;return(t/=.5)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},easeInBounce:t=>1-Qt.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Qt.easeInBounce(t*2)*.5:Qt.easeOutBounce(t*2-1)*.5+.5};function fo(t){if(t&&typeof t=="object"){let n=t.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function go(t){return fo(t)?t:new yi(t)}function Jn(t){return fo(t)?t:new yi(t).saturate(.5).darken(.1).hexString()}var Vl=["x","y","borderWidth","radius","tension"],Bl=["color","borderColor","backgroundColor"];function Hl(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),t.set("animations",{colors:{type:"color",properties:Bl},numbers:{type:"number",properties:Vl}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function $l(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Xs=new Map;function Wl(t,n){n=n||{};let e=t+JSON.stringify(n),i=Xs.get(e);return i||(i=new Intl.NumberFormat(t,n),Xs.set(e,i)),i}function ei(t,n,e){return Wl(n,e).format(t)}var gr={values(t){return Y(t)?t:""+t},numeric(t,n,e){if(t===0)return"0";let i=this.chart.options.locale,o,s=t;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),s=jl(t,e)}let r=et(Math.abs(s)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ei(t,i,l)},logarithmic(t,n,e){if(t===0)return"0";let i=e[n].significand||t/Math.pow(10,Math.floor(et(t)));return[1,2,3,5,10,15].includes(i)||n>.8*e.length?gr.numeric.call(this,t,n,e):""}};function jl(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var Ci={formatters:gr};function Ul(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ci.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var ft=Object.create(null),an=Object.create(null);function vi(t,n){if(!n)return t;let e=n.split(".");for(let i=0,o=e.length;i<o;++i){let s=e[i];t=t[s]||(t[s]=Object.create(null))}return t}function Zn(t,n,e){return typeof n=="string"?qt(vi(t,n),e):qt(vi(t,""),n)}var eo=class{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Jn(o.backgroundColor),this.hoverBorderColor=(i,o)=>Jn(o.borderColor),this.hoverColor=(i,o)=>Jn(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return Zn(this,n,e)}get(n){return vi(this,n)}describe(n,e){return Zn(an,n,e)}override(n,e){return Zn(ft,n,e)}route(n,e,i,o){let s=vi(this,n),r=vi(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=r[o];return V(l)?Object.assign({},c,l):O(l,c)},set(l){this[a]=l}}})}apply(n){n.forEach(e=>e(this))}},ie=new eo({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Hl,$l,Ul]);function Kl(t){return!t||$(t.size)||$(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ti(t,n,e,i,o){let s=n[o];return s||(s=n[o]=t.measureText(o).width,e.push(o)),s>i&&(i=s),i}function mr(t,n,e,i){i=i||{};let o=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(o=i.data={},s=i.garbageCollect=[],i.font=n),t.save(),t.font=n;let r=0,a=e.length,l,c,d,h,u;for(l=0;l<a;l++)if(h=e[l],h!=null&&!Y(h))r=Ti(t,o,s,r,h);else if(Y(h))for(c=0,d=h.length;c<d;c++)u=h[c],u!=null&&!Y(u)&&(r=Ti(t,o,s,r,u));t.restore();let p=s.length/2;if(p>e.length){for(l=0;l<p;l++)delete o[s[l]];s.splice(0,p)}return r}function gt(t,n,e){let i=t.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((n-o)*i)/i+o}function mo(t,n){n=n||t.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore()}function ln(t,n,e,i){bo(t,n,e,i,null)}function bo(t,n,e,i,o){let s,r,a,l,c,d,h,u,p=n.pointStyle,f=n.rotation,g=n.radius,m=(f||0)*Fl;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(e,i),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:o?t.ellipse(e,i,o/2,g,0,0,G):t.arc(e,i,g,0,G),t.closePath();break;case"triangle":d=o?o/2:g,t.moveTo(e+Math.sin(m)*d,i-Math.cos(m)*g),m+=Qs,t.lineTo(e+Math.sin(m)*d,i-Math.cos(m)*g),m+=Qs,t.lineTo(e+Math.sin(m)*d,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(m+Mt)*l,h=Math.cos(m+Mt)*(o?o/2-c:l),a=Math.sin(m+Mt)*l,u=Math.sin(m+Mt)*(o?o/2-c:l),t.arc(e-h,i-a,c,m-X,m-oe),t.arc(e+u,i-r,c,m-oe,m),t.arc(e+h,i+a,c,m,m+oe),t.arc(e-u,i+r,c,m+oe,m+X),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,d=o?o/2:l,t.rect(e-d,i-l,2*d,2*l);break}m+=Mt;case"rectRot":h=Math.cos(m)*(o?o/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(o?o/2:g),t.moveTo(e-h,i-a),t.lineTo(e+u,i-r),t.lineTo(e+h,i+a),t.lineTo(e-u,i+r),t.closePath();break;case"crossRot":m+=Mt;case"cross":h=Math.cos(m)*(o?o/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(o?o/2:g),t.moveTo(e-h,i-a),t.lineTo(e+h,i+a),t.moveTo(e+u,i-r),t.lineTo(e-u,i+r);break;case"star":h=Math.cos(m)*(o?o/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(o?o/2:g),t.moveTo(e-h,i-a),t.lineTo(e+h,i+a),t.moveTo(e+u,i-r),t.lineTo(e-u,i+r),m+=Mt,h=Math.cos(m)*(o?o/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(o?o/2:g),t.moveTo(e-h,i-a),t.lineTo(e+h,i+a),t.moveTo(e+u,i-r),t.lineTo(e-u,i+r);break;case"line":r=o?o/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(e-r,i-a),t.lineTo(e+r,i+a);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(m)*(o?o/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),n.borderWidth>0&&t.stroke()}}function He(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function Si(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function ki(t){t.restore()}function br(t,n,e,i,o){if(!n)return t.lineTo(e.x,e.y);if(o==="middle"){let s=(n.x+e.x)/2;t.lineTo(s,n.y),t.lineTo(s,e.y)}else o==="after"!=!!i?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function _r(t,n,e,i){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Ql(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),$(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}function ql(t,n,e,i,o){if(o.strikethrough||o.underline){let s=t.measureText(i),r=n-s.actualBoundingBoxLeft,a=n+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,c=e+s.actualBoundingBoxDescent,d=o.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(r,d),t.lineTo(a,d),t.stroke()}}function Yl(t,n){let e=t.fillStyle;t.fillStyle=n.color,t.fillRect(n.left,n.top,n.width,n.height),t.fillStyle=e}function mt(t,n,e,i,o,s={}){let r=Y(n)?n:[n],a=s.strokeWidth>0&&s.strokeColor!=="",l,c;for(t.save(),t.font=o.string,Ql(t,s),l=0;l<r.length;++l)c=r[l],s.backdrop&&Yl(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),$(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,e,i,s.maxWidth)),t.fillText(c,e,i,s.maxWidth),ql(t,e,i,c,s),i+=Number(o.lineHeight);t.restore()}function ti(t,n){let{x:e,y:i,w:o,h:s,radius:r}=n;t.arc(e+r.topLeft,i+r.topLeft,r.topLeft,1.5*X,X,!0),t.lineTo(e,i+s-r.bottomLeft),t.arc(e+r.bottomLeft,i+s-r.bottomLeft,r.bottomLeft,X,oe,!0),t.lineTo(e+o-r.bottomRight,i+s),t.arc(e+o-r.bottomRight,i+s-r.bottomRight,r.bottomRight,oe,0,!0),t.lineTo(e+o,i+r.topRight),t.arc(e+o-r.topRight,i+r.topRight,r.topRight,0,-oe,!0),t.lineTo(e+r.topLeft,i)}var Xl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jl(t,n){let e=(""+t).match(Xl);if(!e||e[1]==="normal")return n*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return n*t}var Zl=t=>+t||0;function cn(t,n){let e={},i=V(n),o=i?Object.keys(n):n,s=V(t)?i?r=>O(t[r],t[n[r]]):r=>t[r]:()=>t;for(let r of o)e[r]=Zl(s(r));return e}function _o(t){return cn(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bt(t){return cn(t,["topLeft","topRight","bottomLeft","bottomRight"])}function be(t){let n=_o(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function ce(t,n){t=t||{},n=n||ie.font;let e=O(t.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let i=O(t.style,n.style);i&&!(""+i).match(Gl)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let o={family:O(t.family,n.family),lineHeight:Jl(O(t.lineHeight,n.lineHeight),e),size:e,style:i,weight:O(t.weight,n.weight),string:""};return o.string=Kl(o),o}function ii(t,n,e,i){let o=!0,s,r,a;for(s=0,r=t.length;s<r;++s)if(a=t[s],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),o=!1),e!==void 0&&Y(a)&&(a=a[e%a.length],o=!1),a!==void 0))return i&&!o&&(i.cacheable=!1),a}function yr(t,n,e){let{min:i,max:o}=t,s=to(n,(o-i)/2),r=(a,l)=>e&&a===0?0:a+l;return{min:r(i,-Math.abs(s)),max:r(o,s)}}function it(t,n){return Object.assign(Object.create(t),n)}function dn(t,n=[""],e,i,o=()=>t[0]){let s=e||t;typeof i>"u"&&(i=Tr("_fallback",t));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:o,override:a=>dn([a,...t],n,s,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return xr(a,l,()=>ac(l,n,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Js(a).includes(l)},ownKeys(a){return Js(a)},set(a,l,c){let d=a._storage||(a._storage=o());return a[l]=d[l]=c,delete a._keys,!0}})}function Dt(t,n,e,i){let o={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:yo(t,i),setContext:s=>Dt(t,s,e,i),override:s=>Dt(t.override(s),n,e,i)};return new Proxy(o,{deleteProperty(s,r){return delete s[r],delete t[r],!0},get(s,r,a){return xr(s,r,()=>tc(s,r,a))},getOwnPropertyDescriptor(s,r){return s._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(s,r,a){return t[r]=a,delete s[r],!0}})}function yo(t,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:i=n.indexable,_allKeys:o=n.allKeys}=t;return{allKeys:o,scriptable:e,indexable:i,isScriptable:Ze(e)?e:()=>e,isIndexable:Ze(i)?i:()=>i}}var ec=(t,n)=>t?t+nn(n):n,xo=(t,n)=>V(n)&&t!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function xr(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n))return t[n];let i=e();return t[n]=i,i}function tc(t,n,e){let{_proxy:i,_context:o,_subProxy:s,_descriptors:r}=t,a=i[n];return Ze(a)&&r.isScriptable(n)&&(a=ic(n,a,t,e)),Y(a)&&a.length&&(a=nc(n,a,t,r.isIndexable)),xo(n,a)&&(a=Dt(a,o,s&&s[n],r)),a}function ic(t,n,e,i){let{_proxy:o,_context:s,_subProxy:r,_stack:a}=e;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=n(s,r||i);return a.delete(t),xo(t,l)&&(l=vo(o._scopes,o,t,l)),l}function nc(t,n,e,i){let{_proxy:o,_context:s,_subProxy:r,_descriptors:a}=e;if(typeof s.index<"u"&&i(t))return n[s.index%n.length];if(V(n[0])){let l=n,c=o._scopes.filter(d=>d!==l);n=[];for(let d of l){let h=vo(c,o,t,d);n.push(Dt(h,s,r&&r[t],a))}}return n}function vr(t,n,e){return Ze(t)?t(n,e):t}var oc=(t,n)=>t===!0?n:typeof t=="string"?tt(n,t):void 0;function sc(t,n,e,i,o){for(let s of n){let r=oc(e,s);if(r){t.add(r);let a=vr(r._fallback,e,o);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(r===!1&&typeof i<"u"&&e!==i)return null}return!1}function vo(t,n,e,i){let o=n._rootScopes,s=vr(n._fallback,e,i),r=[...t,...o],a=new Set;a.add(i);let l=Gs(a,r,e,s||e,i);return l===null||typeof s<"u"&&s!==e&&(l=Gs(a,r,s,l,i),l===null)?!1:dn(Array.from(a),[""],o,s,()=>rc(n,e,i))}function Gs(t,n,e,i,o){for(;e;)e=sc(t,n,e,i,o);return e}function rc(t,n,e){let i=t._getTarget();n in i||(i[n]={});let o=i[n];return Y(o)&&V(e)?e:o||{}}function ac(t,n,e,i){let o;for(let s of n)if(o=Tr(ec(s,t),e),typeof o<"u")return xo(t,o)?vo(e,i,t,o):o}function Tr(t,n){for(let e of n){if(!e)continue;let i=e[t];if(typeof i<"u")return i}}function Js(t){let n=t._keys;return n||(n=t._keys=lc(t._scopes)),n}function lc(t){let n=new Set;for(let e of t)for(let i of Object.keys(e).filter(o=>!o.startsWith("_")))n.add(i);return Array.from(n)}function To(t,n,e,i){let{iScale:o}=t,{key:s="r"}=this._parsing,r=new Array(i),a,l,c,d;for(a=0,l=i;a<l;++a)c=a+e,d=n[c],r[a]={r:o.parse(tt(d,s),c)};return r}var cc=Number.EPSILON||1e-14,Yt=(t,n)=>n<t.length&&!t[n].skip&&t[n],wr=t=>t==="x"?"y":"x";function dc(t,n,e,i){let o=t.skip?n:t,s=n,r=e.skip?n:e,a=en(s,o),l=en(r,s),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let h=i*c,u=i*d;return{previous:{x:s.x-h*(r.x-o.x),y:s.y-h*(r.y-o.y)},next:{x:s.x+u*(r.x-o.x),y:s.y+u*(r.y-o.y)}}}function hc(t,n,e){let i=t.length,o,s,r,a,l,c=Yt(t,0);for(let d=0;d<i-1;++d)if(l=c,c=Yt(t,d+1),!(!l||!c)){if(Jt(n[d],0,cc)){e[d]=e[d+1]=0;continue}o=e[d]/n[d],s=e[d+1]/n[d],a=Math.pow(o,2)+Math.pow(s,2),!(a<=9)&&(r=3/Math.sqrt(a),e[d]=o*r*n[d],e[d+1]=s*r*n[d])}}function uc(t,n,e="x"){let i=wr(e),o=t.length,s,r,a,l=Yt(t,0);for(let c=0;c<o;++c){if(r=a,a=l,l=Yt(t,c+1),!a)continue;let d=a[e],h=a[i];r&&(s=(d-r[e])/3,a[`cp1${e}`]=d-s,a[`cp1${i}`]=h-s*n[c]),l&&(s=(l[e]-d)/3,a[`cp2${e}`]=d+s,a[`cp2${i}`]=h+s*n[c])}}function pc(t,n="x"){let e=wr(n),i=t.length,o=Array(i).fill(0),s=Array(i),r,a,l,c=Yt(t,0);for(r=0;r<i;++r)if(a=l,l=c,c=Yt(t,r+1),!!l){if(c){let d=c[n]-l[n];o[r]=d!==0?(c[e]-l[e])/d:0}s[r]=a?c?ze(o[r-1])!==ze(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}hc(t,o,s),uc(t,s,n)}function Xi(t,n,e){return Math.max(Math.min(t,e),n)}function fc(t,n){let e,i,o,s,r,a=He(t[0],n);for(e=0,i=t.length;e<i;++e)r=s,s=a,a=e<i-1&&He(t[e+1],n),s&&(o=t[e],r&&(o.cp1x=Xi(o.cp1x,n.left,n.right),o.cp1y=Xi(o.cp1y,n.top,n.bottom)),a&&(o.cp2x=Xi(o.cp2x,n.left,n.right),o.cp2y=Xi(o.cp2y,n.top,n.bottom)))}function Cr(t,n,e,i,o){let s,r,a,l;if(n.spanGaps&&(t=t.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")pc(t,o);else{let c=i?t[t.length-1]:t[0];for(s=0,r=t.length;s<r;++s)a=t[s],l=dc(c,a,t[Math.min(s+1,r-(i?0:1))%r],n.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}n.capBezierPoints&&fc(t,e)}function hn(){return typeof window<"u"&&typeof document<"u"}function un(t){let n=t.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function tn(t,n,e){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*n.parentNode[e])):i=t,i}var pn=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gc(t,n){return pn(t).getPropertyValue(n)}var mc=["top","right","bottom","left"];function It(t,n,e){let i={};e=e?"-"+e:"";for(let o=0;o<4;o++){let s=mc[o];i[s]=parseFloat(t[n+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var bc=(t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot);function _c(t,n){let e=t.touches,i=e&&e.length?e[0]:t,{offsetX:o,offsetY:s}=i,r=!1,a,l;if(bc(o,s,t.target))a=o,l=s;else{let c=n.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function _t(t,n){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:i}=n,o=pn(e),s=o.boxSizing==="border-box",r=It(o,"padding"),a=It(o,"border","width"),{x:l,y:c,box:d}=_c(t,e),h=r.left+(d&&a.left),u=r.top+(d&&a.top),{width:p,height:f}=n;return s&&(p-=r.width+a.width,f-=r.height+a.height),{x:Math.round((l-h)/p*e.width/i),y:Math.round((c-u)/f*e.height/i)}}function yc(t,n,e){let i,o;if(n===void 0||e===void 0){let s=un(t);if(!s)n=t.clientWidth,e=t.clientHeight;else{let r=s.getBoundingClientRect(),a=pn(s),l=It(a,"border","width"),c=It(a,"padding");n=r.width-c.width-l.width,e=r.height-c.height-l.height,i=tn(a.maxWidth,s,"clientWidth"),o=tn(a.maxHeight,s,"clientHeight")}}return{width:n,height:e,maxWidth:i||Zi,maxHeight:o||Zi}}var Gi=t=>Math.round(t*10)/10;function Sr(t,n,e,i){let o=pn(t),s=It(o,"margin"),r=tn(o.maxWidth,t,"clientWidth")||Zi,a=tn(o.maxHeight,t,"clientHeight")||Zi,l=yc(t,n,e),{width:c,height:d}=l;if(o.boxSizing==="content-box"){let u=It(o,"border","width"),p=It(o,"padding");c-=p.width+u.width,d-=p.height+u.height}return c=Math.max(0,c-s.width),d=Math.max(0,i?c/i:d-s.height),c=Gi(Math.min(c,r,l.maxWidth)),d=Gi(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Gi(c/2)),(n!==void 0||e!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=Gi(Math.floor(d*i))),{width:c,height:d}}function wo(t,n,e){let i=n||1,o=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let r=t.canvas;return r.style&&(e||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||r.height!==o||r.width!==s?(t.currentDevicePixelRatio=i,r.height=o,r.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var kr=function(){let t=!1;try{let n={get passive(){return t=!0,!1}};hn()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return t}();function Co(t,n){let e=gc(t,n),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function pt(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function Mr(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:i==="middle"?e<.5?t.y:n.y:i==="after"?e<1?t.y:n.y:e>0?n.y:t.y}}function Ir(t,n,e,i){let o={x:t.cp2x,y:t.cp2y},s={x:n.cp1x,y:n.cp1y},r=pt(t,o,e),a=pt(o,s,e),l=pt(s,n,e),c=pt(r,a,e),d=pt(a,l,e);return pt(c,d,e)}var xc=function(t,n){return{x(e){return t+t+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},vc=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,n){return t+n},leftForLtr(t,n){return t}}};function Nt(t,n,e){return t?xc(n,e):vc()}function So(t,n){let e,i;(n==="ltr"||n==="rtl")&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=i)}function ko(t,n){n!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function Dr(t){return t==="angle"?{between:Zt,compare:Al,normalize:we}:{between:We,compare:(n,e)=>n-e,normalize:n=>n}}function Zs({start:t,end:n,count:e,loop:i,style:o}){return{start:t%e,end:n%e,loop:i&&(n-t+1)%e===0,style:o}}function Tc(t,n,e){let{property:i,start:o,end:s}=e,{between:r,normalize:a}=Dr(i),l=n.length,{start:c,end:d,loop:h}=t,u,p;if(h){for(c+=l,d+=l,u=0,p=l;u<p&&r(a(n[c%l][i]),o,s);++u)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function Mo(t,n,e){if(!e)return[t];let{property:i,start:o,end:s}=e,r=n.length,{compare:a,between:l,normalize:c}=Dr(i),{start:d,end:h,loop:u,style:p}=Tc(t,n,e),f=[],g=!1,m=null,_,b,T,C=()=>l(o,T,_)&&a(o,T)!==0,x=()=>a(s,_)===0||l(s,T,_),w=()=>g||C(),I=()=>!g||x();for(let M=d,D=d;M<=h;++M)b=n[M%r],!b.skip&&(_=c(b[i]),_!==T&&(g=l(_,o,s),m===null&&w()&&(m=a(_,o)===0?M:D),m!==null&&I()&&(f.push(Zs({start:m,end:M,loop:u,count:r,style:p})),m=null),D=M,T=_));return m!==null&&f.push(Zs({start:m,end:h,loop:u,count:r,style:p})),f}function Io(t,n){let e=[],i=t.segments;for(let o=0;o<i.length;o++){let s=Mo(i[o],t.points,n);s.length&&e.push(...s)}return e}function wc(t,n,e,i){let o=0,s=n-1;if(e&&!i)for(;o<n&&!t[o].skip;)o++;for(;o<n&&t[o].skip;)o++;for(o%=n,e&&(s+=o);s>o&&t[s%n].skip;)s--;return s%=n,{start:o,end:s}}function Cc(t,n,e,i){let o=t.length,s=[],r=n,a=t[n],l;for(l=n+1;l<=e;++l){let c=t[l%o];c.skip||c.stop?a.skip||(i=!1,s.push({start:n%o,end:(l-1)%o,loop:i}),n=r=c.stop?l:null):(r=l,a.skip&&(n=l)),a=c}return r!==null&&s.push({start:n%o,end:r%o,loop:i}),s}function Er(t,n){let e=t.points,i=t.options.spanGaps,o=e.length;if(!o)return[];let s=!!t._loop,{start:r,end:a}=wc(e,o,s,i);if(i===!0)return er(t,[{start:r,end:a,loop:s}],e,n);let l=a<r?a+o:a,c=!!t._fullLoop&&r===0&&a===o-1;return er(t,Cc(e,r,l,c),e,n)}function er(t,n,e,i){return!i||!i.setContext||!e?n:Sc(t,n,e,i)}function Sc(t,n,e,i){let o=t._chart.getContext(),s=tr(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=e.length,c=[],d=s,h=n[0].start,u=h;function p(f,g,m,_){let b=a?-1:1;if(f!==g){for(f+=l;e[f%l].skip;)f-=b;for(;e[g%l].skip;)g+=b;f%l!==g%l&&(c.push({start:f%l,end:g%l,loop:m,style:_}),d=_,h=g%l)}}for(let f of n){h=a?h:f.start;let g=e[h%l],m;for(u=h+1;u<=f.end;u++){let _=e[u%l];m=tr(i.setContext(it(o,{type:"segment",p0:g,p1:_,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:r}))),kc(m,d)&&p(h,u-1,f.loop,d),g=_,d=m}h<u-1&&p(h,u-1,f.loop,d)}return c}function tr(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kc(t,n){if(!n)return!1;let e=[],i=function(o,s){return fo(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(n,i)}var Ao=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,i,o){let s=e.listeners[o],r=e.duration;s.forEach(a=>a({chart:n,initial:e.initial,numSteps:r,currentStep:Math.min(i-e.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=co.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let s=i.items,r=s.length-1,a=!1,l;for(;r>=0;--r)l=s[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(n),a=!0):(s[r]=s[s.length-1],s.pop());a&&(o.draw(),this._notify(o,i,n,"progress")),s.length||(i.running=!1,this._notify(o,i,n,"complete"),i.initial=!1),e+=s.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,i=e.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,i)),i}listen(n,e,i){this._getAnims(n).listeners[e].push(i)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let i=e.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},nt=new Ao,Nr="transparent",Mc={boolean(t,n,e){return e>.5?n:t},color(t,n,e){let i=go(t||Nr),o=i.valid&&go(n||Nr);return o&&o.valid?o.mix(i,e).hexString():n},number(t,n,e){return t+(n-t)*e}},Vo=class{constructor(n,e,i,o){let s=e[i];o=ii([n.to,o,s,n.from]);let r=ii([n.from,s,o]);this._active=!0,this._fn=n.fn||Mc[n.type||typeof r],this._easing=Qt[n.easing]||Qt.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=i,this._from=r,this._to=o,this._promises=void 0}active(){return this._active}update(n,e,i){if(this._active){this._notify(!1);let o=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,n.duration)),this._total+=s,this._loop=!!n.loop,this._to=ii([n.to,e,o,n.from]),this._from=ii([n.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,i=this._duration,o=this._prop,s=this._from,r=this._loop,a=this._to,l;if(this._active=s!==a&&(r||e<i),!this._active){this._target[o]=a,this._notify(!0);return}if(e<0){this._target[o]=s;return}l=e/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(s,a,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,i)=>{n.push({res:e,rej:i})})}_notify(n){let e=n?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}},wn=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!V(n))return;let e=Object.keys(ie.animation),i=this._properties;Object.getOwnPropertyNames(n).forEach(o=>{let s=n[o];if(!V(s))return;let r={};for(let a of e)r[a]=s[a];(Y(s.properties)&&s.properties||[o]).forEach(a=>{(a===o||!i.has(a))&&i.set(a,r)})})}_animateOptions(n,e){let i=e.options,o=Dc(n,i);if(!o)return[];let s=this._createAnimations(o,i);return i.$shared&&Ic(n.options.$animations,i).then(()=>{n.options=i},()=>{}),s}_createAnimations(n,e){let i=this._properties,o=[],s=n.$animations||(n.$animations={}),r=Object.keys(e),a=Date.now(),l;for(l=r.length-1;l>=0;--l){let c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(n,e));continue}let d=e[c],h=s[c],u=i.get(c);if(h)if(u&&h.active()){h.update(u,d,a);continue}else h.cancel();if(!u||!u.duration){n[c]=d;continue}s[c]=h=new Vo(u,n,c,d),o.push(h)}return o}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let i=this._createAnimations(n,e);if(i.length)return nt.add(this._chart,i),!0}};function Ic(t,n){let e=[],i=Object.keys(n);for(let o=0;o<i.length;o++){let s=t[i[o]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function Dc(t,n){if(!n)return;let e=t.options;if(!e){t.options=n;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Pr(t,n){let e=t&&t.options||{},i=e.reverse,o=e.min===void 0?n:0,s=e.max===void 0?n:0;return{start:i?s:o,end:i?o:s}}function Ec(t,n,e){if(e===!1)return!1;let i=Pr(t,e),o=Pr(n,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function Nc(t){let n,e,i,o;return V(t)?(n=t.top,e=t.right,i=t.bottom,o=t.left):n=e=i=o=t,{top:n,right:e,bottom:i,left:o,disabled:t===!1}}function Pa(t,n){let e=[],i=t._getSortedDatasetMetas(n),o,s;for(o=0,s=i.length;o<s;++o)e.push(i[o].index);return e}function Lr(t,n,e,i={}){let o=t.keys,s=i.mode==="single",r,a,l,c;if(n!==null){for(r=0,a=o.length;r<a;++r){if(l=+o[r],l===e){if(i.all)continue;break}c=t.values[l],te(c)&&(s||n===0||ze(n)===ze(c))&&(n+=c)}return n}}function Pc(t){let n=Object.keys(t),e=new Array(n.length),i,o,s;for(i=0,o=n.length;i<o;++i)s=n[i],e[i]={x:s,y:t[s]};return e}function Or(t,n){let e=t&&t.options.stacked;return e||e===void 0&&n.stack!==void 0}function Lc(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}function Oc(t){let{min:n,max:e,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function zc(t,n,e){let i=t[n]||(t[n]={});return i[e]||(i[e]={})}function zr(t,n,e,i){for(let o of n.getMatchingVisibleMetas(i).reverse()){let s=t[o.index];if(e&&s>0||!e&&s<0)return o.index}return null}function Rr(t,n){let{chart:e,_cachedMeta:i}=t,o=e._stacks||(e._stacks={}),{iScale:s,vScale:r,index:a}=i,l=s.axis,c=r.axis,d=Lc(s,r,i),h=n.length,u;for(let p=0;p<h;++p){let f=n[p],{[l]:g,[c]:m}=f,_=f._stacks||(f._stacks={});u=_[c]=zc(o,d,g),u[a]=m,u._top=zr(u,r,!0,i.type),u._bottom=zr(u,r,!1,i.type);let b=u._visualValues||(u._visualValues={});b[a]=m}}function Do(t,n){let e=t.scales;return Object.keys(e).filter(i=>e[i].axis===n).shift()}function Rc(t,n){return it(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function Fc(t,n,e){return it(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function Mi(t,n){let e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){n=n||t._parsed;for(let o of n){let s=o._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}var Eo=t=>t==="reset"||t==="none",Fr=(t,n)=>n?t:Object.assign({},t),Ac=(t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:Pa(e,!0),values:null},xt=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Or(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Mi(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,o=this.getDataset(),s=(u,p,f,g)=>u==="x"?p:u==="r"?g:f,r=i.xAxisID=O(o.xAxisID,Do(e,"x")),a=i.yAxisID=O(o.yAxisID,Do(e,"y")),l=i.rAxisID=O(o.rAxisID,Do(e,"r")),c=i.indexAxis,d=i.iAxisID=s(c,r,a,l),h=i.vAxisID=s(c,a,r,l);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&ao(this._data,this),e._stacked&&Mi(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),o=this._data;if(V(i))this._data=Pc(i);else if(o!==i){if(o){ao(o,this);let s=this._cachedMeta;Mi(s),s._parsed=[]}i&&Object.isExtensible(i)&&ur(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,o=this.getDataset(),s=!1;this._dataCheck();let r=i._stacked;i._stacked=Or(i.vScale,i),i.stack!==o.stack&&(s=!0,Mi(i),i.stack=o.stack),this._resyncElements(e),(s||r!==i._stacked)&&Rr(this,i._parsed)}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:o,_data:s}=this,{iScale:r,_stacked:a}=o,l=r.axis,c=e===0&&i===s.length?!0:o._sorted,d=e>0&&o._parsed[e-1],h,u,p;if(this._parsing===!1)o._parsed=s,o._sorted=!0,p=s;else{Y(s[e])?p=this.parseArrayData(o,s,e,i):V(s[e])?p=this.parseObjectData(o,s,e,i):p=this.parsePrimitiveData(o,s,e,i);let f=()=>u[l]===null||d&&u[l]<d[l];for(h=0;h<i;++h)o._parsed[h+e]=u=p[h],c&&(f()&&(c=!1),d=u);o._sorted=c}a&&Rr(this,p)}parsePrimitiveData(e,i,o,s){let{iScale:r,vScale:a}=e,l=r.axis,c=a.axis,d=r.getLabels(),h=r===a,u=new Array(s),p,f,g;for(p=0,f=s;p<f;++p)g=p+o,u[p]={[l]:h||r.parse(d[g],g),[c]:a.parse(i[g],g)};return u}parseArrayData(e,i,o,s){let{xScale:r,yScale:a}=e,l=new Array(s),c,d,h,u;for(c=0,d=s;c<d;++c)h=c+o,u=i[h],l[c]={x:r.parse(u[0],h),y:a.parse(u[1],h)};return l}parseObjectData(e,i,o,s){let{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(s),h,u,p,f;for(h=0,u=s;h<u;++h)p=h+o,f=i[p],d[h]={x:r.parse(tt(f,l),p),y:a.parse(tt(f,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,o){let s=this.chart,r=this._cachedMeta,a=i[e.axis],l={keys:Pa(s,!0),values:i._stacks[e.axis]._visualValues};return Lr(l,a,r.index,{mode:o})}updateRangeFromParsed(e,i,o,s){let r=o[i.axis],a=r===null?NaN:r,l=s&&o._stacks[i.axis];s&&l&&(s.values=l,a=Lr(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let o=this._cachedMeta,s=o._parsed,r=o._sorted&&e===o.iScale,a=s.length,l=this._getOtherScale(e),c=Ac(i,o,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=Oc(l),p,f;function g(){f=s[p];let m=f[l.axis];return!te(f[e.axis])||h>m||u<m}for(p=0;p<a&&!(!g()&&(this.updateRangeFromParsed(d,e,f,c),r));++p);if(r){for(p=a-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){let i=this._cachedMeta._parsed,o=[],s,r,a;for(s=0,r=i.length;s<r;++s)a=i[s][e.axis],te(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,o=i.iScale,s=i.vScale,r=this.getParsed(e);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=Nc(O(this.options.clip,Ec(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,o=this._cachedMeta,s=o.data||[],r=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop,h;for(o.dataset&&o.dataset.draw(e,r,l,c),h=l;h<l+c;++h){let u=s[h];u.hidden||(u.active&&d?a.push(u):u.draw(e,r))}for(h=0;h<a.length;++h)a[h].draw(e,r)}getStyle(e,i){let o=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,i,o){let s=this.getDataset(),r;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];r=a.$context||(a.$context=Fc(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Rc(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=o,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",o){let s=i==="active",r=this._cachedDataOpts,a=e+"-"+i,l=r[a],c=this.enableOptionSharing&&Gt(o);if(l)return Fr(l,c);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),f=Object.keys(ie.elements[e]),g=()=>this.getContext(o,s,i),m=d.resolveNamedOptions(p,f,g,u);return m.$shared&&(m.$shared=c,r[a]=Object.freeze(Fr(m,c))),m}_resolveAnimations(e,i,o){let s=this.chart,r=this._cachedDataOpts,a=`animation-${i}`,l=r[a];if(l)return l;let c;if(s.options.animation!==!1){let h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,i),p=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(p,this.getContext(e,o,i))}let d=new wn(s,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Eo(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let o=this.resolveDataElementOptions(e,i),s=this._sharedOptions,r=this.getSharedOptions(o),a=this.includeOptions(i,r)||r!==s;return this.updateSharedOptions(r,i,o),{sharedOptions:r,includeOptions:a}}updateElement(e,i,o,s){Eo(s)?Object.assign(e,o):this._resolveAnimations(i,s).update(e,o)}updateSharedOptions(e,i,o){e&&!Eo(i)&&this._resolveAnimations(void 0,i).update(e,o)}_setStyle(e,i,o,s){e.active=s;let r=this.getStyle(i,s);this._resolveAnimations(i,o,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,i,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,i,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,o=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let s=o.length,r=i.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,i,o=!0){let s=this._cachedMeta,r=s.data,a=e+i,l,c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,i),o&&this.updateElements(r,e,i,"reset")}updateElements(e,i,o,s){}_removeElements(e,i){let o=this._cachedMeta;if(this._parsing){let s=o._parsed.splice(e,i);o._stacked&&Mi(o,s)}o.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,o,s]=e;this[i](o,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function Vc(t,n){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(n),i=[];for(let o=0,s=e.length;o<s;o++)i=i.concat(e[o].controller.getAllParsedValues(t));t._cache.$bar=lo(i.sort((o,s)=>o-s))}return t._cache.$bar}function Bc(t){let n=t.iScale,e=Vc(n,t.type),i=n._length,o,s,r,a,l=()=>{r===32767||r===-32768||(Gt(a)&&(i=Math.min(i,Math.abs(r-a)||i)),a=r)};for(o=0,s=e.length;o<s;++o)r=n.getPixelForValue(e[o]),l();for(a=void 0,o=0,s=n.ticks.length;o<s;++o)r=n.getPixelForTick(o),l();return i}function Hc(t,n,e,i){let o=e.barThickness,s,r;return $(o)?(s=n.min*e.categoryPercentage,r=e.barPercentage):(s=o*i,r=1),{chunk:s/i,ratio:r,start:n.pixels[t]-s/2}}function $c(t,n,e,i){let o=n.pixels,s=o[t],r=t>0?o[t-1]:null,a=t<o.length-1?o[t+1]:null,l=e.categoryPercentage;r===null&&(r=s-(a===null?n.end-n.start:a-s)),a===null&&(a=s+s-r);let c=s-(s-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/i,ratio:e.barPercentage,start:c}}function Wc(t,n,e,i){let o=e.parse(t[0],i),s=e.parse(t[1],i),r=Math.min(o,s),a=Math.max(o,s),l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),n[e.axis]=c,n._custom={barStart:l,barEnd:c,start:o,end:s,min:r,max:a}}function La(t,n,e,i){return Y(t)?Wc(t,n,e,i):n[e.axis]=e.parse(t,i),n}function Ar(t,n,e,i){let o=t.iScale,s=t.vScale,r=o.getLabels(),a=o===s,l=[],c,d,h,u;for(c=e,d=e+i;c<d;++c)u=n[c],h={},h[o.axis]=a||o.parse(r[c],c),l.push(La(u,h,s,c));return l}function No(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function jc(t,n,e){return t!==0?ze(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function Uc(t){let n,e,i,o,s;return t.horizontal?(n=t.base>t.x,e="left",i="right"):(n=t.base<t.y,e="bottom",i="top"),n?(o="end",s="start"):(o="start",s="end"),{start:e,end:i,reverse:n,top:o,bottom:s}}function Kc(t,n,e,i){let o=n.borderSkipped,s={};if(!o){t.borderSkipped=s;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:a,reverse:l,top:c,bottom:d}=Uc(t);o==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?o=c:(e._bottom||0)===i?o=d:(s[Vr(d,r,a,l)]=!0,o=c)),s[Vr(o,r,a,l)]=!0,t.borderSkipped=s}function Vr(t,n,e,i){return i?(t=Qc(t,n,e),t=Br(t,e,n)):t=Br(t,n,e),t}function Qc(t,n,e){return t===n?e:t===e?n:t}function Br(t,n,e){return t==="start"?n:t==="end"?e:t}function qc(t,{inflateAmount:n},e){t.inflateAmount=n==="auto"?e===1?.33:0:n}var Yc=(()=>{class t extends xt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,o,s){return Ar(e,i,o,s)}parseArrayData(e,i,o,s){return Ar(e,i,o,s)}parseObjectData(e,i,o,s){let{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?l:c,h=a.axis==="x"?l:c,u=[],p,f,g,m;for(p=o,f=o+s;p<f;++p)m=i[p],g={},g[r.axis]=r.parse(tt(m,d),p),u.push(La(tt(m,h),g,a,p));return u}updateRangeFromParsed(e,i,o,s){super.updateRangeFromParsed(e,i,o,s);let r=o._custom;r&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:o,vScale:s}=i,r=this.getParsed(e),a=r._custom,l=No(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,o,s){let r=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(i,s);for(let f=i;f<i+o;f++){let g=this.getParsed(f),m=r||$(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,h),b=(g._stacks||{})[l.axis],T={horizontal:d,base:m.base,enableBorderRadius:!b||No(g._custom)||a===b._top||a===b._bottom,x:d?m.head:_.center,y:d?_.center:m.head,height:d?_.size:Math.abs(m.size),width:d?Math.abs(m.size):_.size};p&&(T.options=u||this.resolveDataElementOptions(f,e[f].active?"active":s));let C=T.options||e[f].options;Kc(T,C,b,a),qc(T,C,h.ratio),this.updateElement(e[f],f,T,s)}}_getStacks(e,i){let{iScale:o}=this._cachedMeta,s=o.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=o.options.stacked,a=[],l=c=>{let d=c.controller.getParsed(i),h=d&&d[c.vScale.axis];if($(h)||isNaN(h))return!0};for(let c of s)if(!(i!==void 0&&l(c))&&((r===!1||a.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,o){let s=this._getStacks(e,o),r=i!==void 0?s.indexOf(i):-1;return r===-1?s.length-1:r}_getRuler(){let e=this.options,i=this._cachedMeta,o=i.iScale,s=[],r,a;for(r=0,a=i.data.length;r<a;++r)s.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));let l=e.barThickness;return{min:l||Bc(i),pixels:s,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:o,index:s},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(e),d=c._custom,h=No(d),u=c[i.axis],p=0,f=o?this.applyStack(i,c,o):u,g,m;f!==u&&(p=f-u,f=u),h&&(u=d.barStart,f=d.barEnd-d.barStart,u!==0&&ze(u)!==ze(d.barEnd)&&(p=0),p+=u);let _=!$(r)&&!h?r:p,b=i.getPixelForValue(_);if(this.chart.getDataVisibility(e)?g=i.getPixelForValue(p+f):g=b,m=g-b,Math.abs(m)<a){m=jc(m,i,l)*a,u===l&&(b-=m/2);let T=i.getPixelForDecimal(0),C=i.getPixelForDecimal(1),x=Math.min(T,C),w=Math.max(T,C);b=Math.max(Math.min(b,w),x),g=b+m,o&&!h&&(c._stacks[i.axis]._visualValues[s]=i.getValueForPixel(g)-i.getValueForPixel(b))}if(b===i.getPixelForValue(l)){let T=ze(m)*i.getLineWidthForValue(l)/2;b+=T,m-=T}return{size:m,base:b,head:g,center:g+m/2}}_calculateBarIndexPixels(e,i){let o=i.scale,s=this.options,r=s.skipNull,a=O(s.maxBarThickness,1/0),l,c;if(i.grouped){let d=r?this._getStackCount(e):i.stackCount,h=s.barThickness==="flex"?$c(e,i,s,d):Hc(e,i,s,d),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=h.start+h.chunk*u+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,i=e.vScale,o=e.data,s=o.length,r=0;for(;r<s;++r)this.getParsed(r)[i.axis]!==null&&o[r].draw(this._ctx)}}return t})(),Xc=(()=>{class t extends xt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,o,s){let r=super.parsePrimitiveData(e,i,o,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+o).radius;return r}parseArrayData(e,i,o,s){let r=super.parseArrayData(e,i,o,s);for(let a=0;a<r.length;a++){let l=i[o+a];r[a]._custom=O(l[2],this.resolveDataElementOptions(a+o).radius)}return r}parseObjectData(e,i,o,s){let r=super.parseObjectData(e,i,o,s);for(let a=0;a<r.length;a++){let l=i[o+a];r[a]._custom=O(l&&l.r&&+l.r,this.resolveDataElementOptions(a+o).radius)}return r}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let o=e.length-1;o>=0;--o)i=Math.max(i,e[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:r}=i,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=r.getLabelForValue(a.y),d=a._custom;return{label:o[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,o,s){let r=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,s),h=a.axis,u=l.axis;for(let p=i;p<i+o;p++){let f=e[p],g=!r&&this.getParsed(p),m={},_=m[h]=r?a.getPixelForDecimal(.5):a.getPixelForValue(g[h]),b=m[u]=r?l.getBasePixel():l.getPixelForValue(g[u]);m.skip=isNaN(_)||isNaN(b),d&&(m.options=c||this.resolveDataElementOptions(p,f.active?"active":s),r&&(m.options.radius=0)),this.updateElement(f,p,m,s)}}resolveDataElementOptions(e,i){let o=this.getParsed(e),s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let r=s.radius;return i!=="active"&&(s.radius=0),s.radius+=O(o&&o._custom,r),s}}return t})();function Gc(t,n,e){let i=1,o=1,s=0,r=0;if(n<G){let a=t,l=a+n,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),u=Math.sin(l),p=(T,C,x)=>Zt(T,a,l,!0)?1:Math.max(C,C*e,x,x*e),f=(T,C,x)=>Zt(T,a,l,!0)?-1:Math.min(C,C*e,x,x*e),g=p(0,c,h),m=p(oe,d,u),_=f(X,c,h),b=f(X+oe,d,u);i=(g-_)/2,o=(m-b)/2,s=-(g+_)/2,r=-(m+b)/2}return{ratioX:i,ratioY:o,offsetX:s,offsetY:r}}var ss=(()=>{class t extends xt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:s}}=e.legend.options;return i.labels.map((r,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let o=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=o;else{let r=c=>+o[c];if(V(o[e])){let{key:c="value"}=this._parsing;r=d=>+tt(o[d],c)}let a,l;for(a=e,l=e+i;a<l;++a)s._parsed[a]=r(a)}}_getRotation(){return Ee(this.options.rotation-90)}_getCircumference(){return Ee(this.options.circumference)}_getRotationExtents(){let e=G,i=-G;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let s=this.chart.getDatasetMeta(o).controller,r=s._getRotation(),a=s._getCircumference();e=Math.min(e,r),i=Math.max(i,r+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:o}=i,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),c=Math.min(nr(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=Gc(u,h,c),_=(o.width-a)/p,b=(o.height-a)/f,T=Math.max(Math.min(_,b)/2,0),C=to(this.options.radius,T),x=Math.max(C*c,0),w=(C-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=m*C,s.total=this.calculateTotal(),this.outerRadius=C-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,i){let o=this.options,s=this._cachedMeta,r=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/G)}updateElements(e,i,o,s){let r=s==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,u=(l.top+l.bottom)/2,p=r&&d.animateScale,f=p?0:this.innerRadius,g=p?0:this.outerRadius,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(i,s),b=this._getRotation(),T;for(T=0;T<i;++T)b+=this._circumference(T,r);for(T=i;T<i+o;++T){let C=this._circumference(T,r),x=e[T],w={x:h+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+C,circumference:C,outerRadius:g,innerRadius:f};_&&(w.options=m||this.resolveDataElementOptions(T,x.active?"active":s)),b+=C,this.updateElement(x,T,w,s)}}calculateTotal(){let e=this._cachedMeta,i=e.data,o=0,s;for(s=0;s<i.length;s++){let r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(o+=Math.abs(r))}return o}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?G*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,s=o.data.labels||[],r=ei(i._parsed[e],o.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let i=0,o=this.chart,s,r,a,l,c;if(!e){for(s=0,r=o.data.datasets.length;s<r;++s)if(o.isDatasetVisible(s)){a=o.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let o=0,s=e.length;o<s;++o){let r=this.resolveDataElementOptions(o);i=Math.max(i,r.offset||0,r.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(e){return Math.max(O(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),Jc=(()=>{class t extends xt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:o,data:s=[],_dataset:r}=i,a=this.chart._animationsDisabled,{start:l,count:c}=uo(i,s,a);this._drawStart=l,this._drawCount=c,po(i)&&(l=0,c=s.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=s;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:d},e),this.updateElements(s,l,c,e)}updateElements(e,i,o,s){let r=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(i,s),p=a.axis,f=l.axis,{spanGaps:g,segment:m}=this.options,_=Et(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||s==="none",T=i+o,C=e.length,x=i>0&&this.getParsed(i-1);for(let w=0;w<C;++w){let I=e[w],M=b?I:{};if(w<i||w>=T){M.skip=!0;continue}let D=this.getParsed(w),F=$(D[f]),R=M[p]=a.getPixelForValue(D[p],w),B=M[f]=r||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,D,c):D[f],w);M.skip=isNaN(R)||isNaN(B)||F,M.stop=w>0&&Math.abs(D[p]-x[p])>_,m&&(M.parsed=D,M.raw=d.data[w]),u&&(M.options=h||this.resolveDataElementOptions(w,I.active?"active":s)),b||this.updateElement(I,w,M,s),x=D}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,o=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return o;let r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,r,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t})(),Oa=(()=>{class t extends xt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:s}}=e.legend.options;return i.labels.map((r,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,s=o.data.labels||[],r=ei(i._parsed[e].r,o.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,i,o,s){return To.bind(this)(e,i,o,s)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,s)=>{let r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<i.min&&(i.min=r),r>i.max&&(i.max=r))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,o=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(s/2,0),a=Math.max(o.cutoutPercentage?r/100*o.cutoutPercentage:1,0),l=(r-a)/e.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,o,s){let r=s==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,p=d.getIndexAngle(0)-.5*X,f=p,g,m=360/this.countVisibleElements();for(g=0;g<i;++g)f+=this._computeAngle(g,s,m);for(g=i;g<i+o;g++){let _=e[g],b=f,T=f+this._computeAngle(g,s,m),C=a.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=T,r&&(c.animateScale&&(C=0),c.animateRotate&&(b=T=p));let x={x:h,y:u,innerRadius:0,outerRadius:C,startAngle:b,endAngle:T,options:this.resolveDataElementOptions(g,_.active?"active":s)};this.updateElement(_,g,x,s)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((o,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,o){return this.chart.getDataVisibility(e)?Ee(this.resolveDataElementOptions(e,i).angle||o):0}}return t})(),Zc=(()=>{class t extends ss{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),ed=(()=>{class t extends xt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,o=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(e,i,o,s){return To.bind(this)(e,i,o,s)}update(e){let i=this._cachedMeta,o=i.dataset,s=i.data||[],r=i.iScale.getLabels();if(o.points=s,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:r.length===s.length,options:a};this.updateElement(o,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,o,s){let r=this._cachedMeta.rScale,a=s==="reset";for(let l=i;l<i+o;l++){let c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":s),h=r.getPointPositionForValue(l,this.getParsed(l).r),u=a?r.xCenter:h.x,p=a?r.yCenter:h.y,f={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:d};this.updateElement(c,l,f,s)}}}return t})(),td=(()=>{class t extends xt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:r}=i,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=r.getLabelForValue(a.y);return{label:o[e]||"",value:"("+l+", "+c+")"}}update(e){let i=this._cachedMeta,{data:o=[]}=i,s=this.chart._animationsDisabled,{start:r,count:a}=uo(i,o,s);if(this._drawStart=r,this._drawCount=a,po(i)&&(r=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=o;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(o,r,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,o,s){let r=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),u=this.getSharedOptions(h),p=this.includeOptions(s,u),f=a.axis,g=l.axis,{spanGaps:m,segment:_}=this.options,b=Et(m)?m:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||r||s==="none",C=i>0&&this.getParsed(i-1);for(let x=i;x<i+o;++x){let w=e[x],I=this.getParsed(x),M=T?w:{},D=$(I[g]),F=M[f]=a.getPixelForValue(I[f],x),R=M[g]=r||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,I,c):I[g],x);M.skip=isNaN(F)||isNaN(R)||D,M.stop=x>0&&Math.abs(I[f]-C[f])>b,_&&(M.parsed=I,M.raw=d.data[x]),p&&(M.options=u||this.resolveDataElementOptions(x,w.active?"active":s)),T||this.updateElement(w,x,M,s),C=I}this.updateSharedOptions(u,s,h)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let o=e.dataset,s=o.options&&o.options.borderWidth||0;if(!i.length)return s;let r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,a)/2}}return t})(),id=Object.freeze({__proto__:null,BarController:Yc,BubbleController:Xc,DoughnutController:ss,LineController:Jc,PieController:Zc,PolarAreaController:Oa,RadarController:ed,ScatterController:td});function Pt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Bo=class t{static override(n){Object.assign(t.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return Pt()}parse(){return Pt()}format(){return Pt()}add(){return Pt()}diff(){return Pt()}startOf(){return Pt()}endOf(){return Pt()}},nd={_date:Bo};function od(t,n,e,i){let{controller:o,data:s,_sorted:r}=t,a=o._cachedMeta.iScale;if(a&&n===a.axis&&n!=="r"&&r&&s.length){let l=a._reversePixels?cr:Be;if(i){if(o._sharedOptions){let c=s[0],d=typeof c.getRange=="function"&&c.getRange(n);if(d){let h=l(s,n,e-d),u=l(s,n,e+d);return{lo:h.lo,hi:u.hi}}}}else return l(s,n,e)}return{lo:0,hi:s.length-1}}function Fi(t,n,e,i,o){let s=t.getSortedVisibleDatasetMetas(),r=e[n];for(let a=0,l=s.length;a<l;++a){let{index:c,data:d}=s[a],{lo:h,hi:u}=od(s[a],n,r,o);for(let p=h;p<=u;++p){let f=d[p];f.skip||i(f,c,p)}}}function sd(t){let n=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(i,o){let s=n?Math.abs(i.x-o.x):0,r=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function Po(t,n,e,i,o){let s=[];return!o&&!t.isPointInArea(n)||Fi(t,e,n,function(a,l,c){!o&&!He(a,t.chartArea,0)||a.inRange(n.x,n.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function rd(t,n,e,i){let o=[];function s(r,a,l){let{startAngle:c,endAngle:d}=r.getProps(["startAngle","endAngle"],i),{angle:h}=ro(r,{x:n.x,y:n.y});Zt(h,c,d)&&o.push({element:r,datasetIndex:a,index:l})}return Fi(t,e,n,s),o}function ad(t,n,e,i,o,s){let r=[],a=sd(e),l=Number.POSITIVE_INFINITY;function c(d,h,u){let p=d.inRange(n.x,n.y,o);if(i&&!p)return;let f=d.getCenterPoint(o);if(!(!!s||t.isPointInArea(f))&&!p)return;let m=a(n,f);m<l?(r=[{element:d,datasetIndex:h,index:u}],l=m):m===l&&r.push({element:d,datasetIndex:h,index:u})}return Fi(t,e,n,c),r}function Lo(t,n,e,i,o,s){return!s&&!t.isPointInArea(n)?[]:e==="r"&&!i?rd(t,n,e,o):ad(t,n,e,i,o,s)}function Hr(t,n,e,i,o){let s=[],r=e==="x"?"inXRange":"inYRange",a=!1;return Fi(t,e,n,(l,c,d)=>{l[r](n[e],o)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(n.x,n.y,o))}),i&&!a?[]:s}var ld={evaluateInteractionItems:Fi,modes:{index(t,n,e,i){let o=_t(n,t),s=e.axis||"x",r=e.includeInvisible||!1,a=e.intersect?Po(t,o,s,i,r):Lo(t,o,s,!1,i,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,n,e,i){let o=_t(n,t),s=e.axis||"xy",r=e.includeInvisible||!1,a=e.intersect?Po(t,o,s,i,r):Lo(t,o,s,!1,i,r);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,n,e,i){let o=_t(n,t),s=e.axis||"xy",r=e.includeInvisible||!1;return Po(t,o,s,i,r)},nearest(t,n,e,i){let o=_t(n,t),s=e.axis||"xy",r=e.includeInvisible||!1;return Lo(t,o,s,e.intersect,i,r)},x(t,n,e,i){let o=_t(n,t);return Hr(t,o,"x",e.intersect,i)},y(t,n,e,i){let o=_t(n,t);return Hr(t,o,"y",e.intersect,i)}}},za=["left","top","right","bottom"];function Ii(t,n){return t.filter(e=>e.pos===n)}function $r(t,n){return t.filter(e=>za.indexOf(e.pos)===-1&&e.box.axis===n)}function Di(t,n){return t.sort((e,i)=>{let o=n?i:e,s=n?e:i;return o.weight===s.weight?o.index-s.index:o.weight-s.weight})}function cd(t){let n=[],e,i,o,s,r,a;for(e=0,i=(t||[]).length;e<i;++e)o=t[e],{position:s,options:{stack:r,stackWeight:a=1}}=o,n.push({index:e,box:o,pos:s,horizontal:o.isHorizontal(),weight:o.weight,stack:r&&s+r,stackWeight:a});return n}function dd(t){let n={};for(let e of t){let{stack:i,pos:o,stackWeight:s}=e;if(!i||!za.includes(o))continue;let r=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return n}function hd(t,n){let e=dd(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=n,s,r,a;for(s=0,r=t.length;s<r;++s){a=t[s];let{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&n.availableWidth,a.height=o):(a.width=i,a.height=d?d*o:l&&n.availableHeight)}return e}function ud(t){let n=cd(t),e=Di(n.filter(c=>c.box.fullSize),!0),i=Di(Ii(n,"left"),!0),o=Di(Ii(n,"right")),s=Di(Ii(n,"top"),!0),r=Di(Ii(n,"bottom")),a=$r(n,"x"),l=$r(n,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:o.concat(l).concat(r).concat(a),chartArea:Ii(n,"chartArea"),vertical:i.concat(o).concat(l),horizontal:s.concat(r).concat(a)}}function Wr(t,n,e,i){return Math.max(t[e],n[e])+Math.max(t[i],n[i])}function Ra(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function pd(t,n,e,i){let{pos:o,box:s}=e,r=t.maxPadding;if(!V(o)){e.size&&(t[o]-=e.size);let h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,t[o]+=e.size}s.getPadding&&Ra(r,s.getPadding());let a=Math.max(0,n.outerWidth-Wr(r,t,"left","right")),l=Math.max(0,n.outerHeight-Wr(r,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function fd(t){let n=t.maxPadding;function e(i){let o=Math.max(n[i]-t[i],0);return t[i]+=o,o}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function gd(t,n){let e=n.maxPadding;function i(o){let s={left:0,top:0,right:0,bottom:0};return o.forEach(r=>{s[r]=Math.max(n[r],e[r])}),s}return i(t?["left","right"]:["top","bottom"])}function Pi(t,n,e,i){let o=[],s,r,a,l,c,d;for(s=0,r=t.length,c=0;s<r;++s){a=t[s],l=a.box,l.update(a.width||n.w,a.height||n.h,gd(a.horizontal,n));let{same:h,other:u}=pd(n,e,a,i);c|=h&&o.length,d=d||u,l.fullSize||o.push(a)}return c&&Pi(o,n,e,i)||d}function fn(t,n,e,i,o){t.top=e,t.left=n,t.right=n+i,t.bottom=e+o,t.width=i,t.height=o}function jr(t,n,e,i){let o=e.padding,{x:s,y:r}=n;for(let a of t){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let h=n.w*d,u=c.size||l.height;Gt(c.start)&&(r=c.start),l.fullSize?fn(l,o.left,r,e.outerWidth-o.right-o.left,u):fn(l,n.left+c.placed,r,h,u),c.start=r,c.placed+=h,r=l.bottom}else{let h=n.h*d,u=c.size||l.width;Gt(c.start)&&(s=c.start),l.fullSize?fn(l,s,o.top,u,e.outerHeight-o.bottom-o.top):fn(l,s,n.top+c.placed,u,h),c.start=s,c.placed+=h,s=l.right}}n.x=s,n.y=r}var ye={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){let e=t.boxes?t.boxes.indexOf(n):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,i){if(!t)return;let o=be(t.options.layout.padding),s=Math.max(n-o.width,0),r=Math.max(e-o.height,0),a=ud(t.boxes),l=a.vertical,c=a.horizontal;K(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let d=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:n,outerHeight:e,padding:o,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/d,hBoxMaxHeight:r/2}),u=Object.assign({},o);Ra(u,be(i));let p=Object.assign({maxPadding:u,w:s,h:r,x:o.left,y:o.top},o),f=hd(l.concat(c),h);Pi(a.fullSize,p,h,f),Pi(l,p,h,f),Pi(c,p,h,f)&&Pi(l,p,h,f),fd(p),jr(a.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,jr(a.rightAndBottom,p,h,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},K(a.chartArea,g=>{let m=g.box;Object.assign(m,t.chartArea),m.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},Cn=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,i){}removeEventListener(n,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,i,o){return e=Math.max(0,e||n.width),i=i||n.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(n){return!0}updateConfig(n){}},Ho=class extends Cn{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},vn="$chartjs",md={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ur=t=>t===null||t==="";function bd(t,n){let e=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[vn]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ur(o)){let s=Co(t,"width");s!==void 0&&(t.width=s)}if(Ur(i))if(t.style.height==="")t.height=t.width/(n||2);else{let s=Co(t,"height");s!==void 0&&(t.height=s)}return t}var Fa=kr?{passive:!0}:!1;function _d(t,n,e){t&&t.addEventListener(n,e,Fa)}function yd(t,n,e){t&&t.canvas&&t.canvas.removeEventListener(n,e,Fa)}function xd(t,n){let e=md[t.type]||t.type,{x:i,y:o}=_t(t,n);return{type:e,chart:n,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Sn(t,n){for(let e of t)if(e===n||e.contains(n))return!0}function vd(t,n,e){let i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(let a of s)r=r||Sn(a.addedNodes,i),r=r&&!Sn(a.removedNodes,i);r&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function Td(t,n,e){let i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(let a of s)r=r||Sn(a.removedNodes,i),r=r&&!Sn(a.addedNodes,i);r&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var Oi=new Map,Kr=0;function Aa(){let t=window.devicePixelRatio;t!==Kr&&(Kr=t,Oi.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function wd(t,n){Oi.size||window.addEventListener("resize",Aa),Oi.set(t,n)}function Cd(t){Oi.delete(t),Oi.size||window.removeEventListener("resize",Aa)}function Sd(t,n,e){let i=t.canvas,o=i&&un(i);if(!o)return;let s=ho((a,l)=>{let c=o.clientWidth;e(a,l),c<o.clientWidth&&e()},window),r=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return r.observe(o),wd(t,s),r}function Oo(t,n,e){e&&e.disconnect(),n==="resize"&&Cd(t)}function kd(t,n,e){let i=t.canvas,o=ho(s=>{t.ctx!==null&&e(xd(s,t))},t);return _d(i,n,o),o}var $o=class extends Cn{acquireContext(n,e){let i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(bd(n,e),i):null}releaseContext(n){let e=n.canvas;if(!e[vn])return!1;let i=e[vn].initial;["height","width"].forEach(s=>{let r=i[s];$(r)?e.removeAttribute(s):e.setAttribute(s,r)});let o=i.style||{};return Object.keys(o).forEach(s=>{e.style[s]=o[s]}),e.width=e.width,delete e[vn],!0}addEventListener(n,e,i){this.removeEventListener(n,e);let o=n.$proxies||(n.$proxies={}),r={attach:vd,detach:Td,resize:Sd}[e]||kd;o[e]=r(n,e,i)}removeEventListener(n,e){let i=n.$proxies||(n.$proxies={}),o=i[e];if(!o)return;({attach:Oo,detach:Oo,resize:Oo}[e]||yd)(n,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,i,o){return Sr(n,e,i,o)}isAttached(n){let e=un(n);return!!(e&&e.isConnected)}};function Md(t){return!hn()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ho:$o}var Re=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:e,y:i}=this.getProps(["x","y"],n);return{x:e,y:i}}hasValue(){return Et(this.x)&&Et(this.y)}getProps(n,e){let i=this.$animations;if(!e||!i)return this;let o={};return n.forEach(s=>{o[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),o}};function Id(t,n){let e=t.options.ticks,i=Dd(t),o=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?Nd(n):[],r=s.length,a=s[0],l=s[r-1],c=[];if(r>o)return Pd(n,c,s,r/o),c;let d=Ed(s,n,o);if(r>0){let h,u,p=r>1?Math.round((l-a)/(r-1)):null;for(gn(n,c,d,$(p)?0:a-p,a),h=0,u=r-1;h<u;h++)gn(n,c,d,s[h],s[h+1]);return gn(n,c,d,l,$(p)?n.length:l+p),c}return gn(n,c,d),c}function Dd(t){let n=t.options.offset,e=t._tickSize(),i=t._length/e+(n?0:1),o=t._maxLength/e;return Math.floor(Math.min(i,o))}function Ed(t,n,e){let i=Ld(t),o=n.length/e;if(!i)return Math.max(o,1);let s=rr(i);for(let r=0,a=s.length-1;r<a;r++){let l=s[r];if(l>o)return l}return Math.max(o,1)}function Nd(t){let n=[],e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}function Pd(t,n,e,i){let o=0,s=e[0],r;for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(n.push(t[r]),o++,s=e[o*i])}function gn(t,n,e,i,o){let s=O(i,0),r=Math.min(O(o,t.length),t.length),a=0,l,c,d;for(e=Math.ceil(e),o&&(l=o-i,e=l/Math.floor(l/e)),d=s;d<0;)a++,d=Math.round(s+a*e);for(c=Math.max(s,0);c<r;c++)c===d&&(n.push(t[c]),a++,d=Math.round(s+a*e))}function Ld(t){let n=t.length,e,i;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}var Od=t=>t==="left"?"right":t==="right"?"left":t,Qr=(t,n,e)=>n==="top"||n==="left"?t[n]+e:t[n]-e,qr=(t,n)=>Math.min(n||t,t);function Yr(t,n){let e=[],i=t.length/n,o=t.length,s=0;for(;s<o;s+=i)e.push(t[Math.floor(s)]);return e}function zd(t,n,e){let i=t.ticks.length,o=Math.min(n,i-1),s=t._startPixel,r=t._endPixel,a=1e-6,l=t.getPixelForTick(o),c;if(!(e&&(i===1?c=Math.max(l-s,r-l):n===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(o-1))/2,l+=o<n?c:-c,l<s-a||l>r+a)))return l}function Rd(t,n){K(t,e=>{let i=e.gc,o=i.length/2,s;if(o>n){for(s=0;s<o;++s)delete e.data[i[s]];i.splice(0,o)}})}function Ei(t){return t.drawTicks?t.tickLength:0}function Xr(t,n){if(!t.display)return 0;let e=ce(t.font,n),i=be(t.padding);return(Y(t.text)?t.text.length:1)*e.lineHeight+i.height}function Fd(t,n){return it(t,{scale:n,type:"scale"})}function Ad(t,n,e){return it(t,{tick:e,index:n,type:"tick"})}function Vd(t,n,e){let i=rn(t);return(e&&n!=="right"||!e&&n==="right")&&(i=Od(i)),i}function Bd(t,n,e,i){let{top:o,left:s,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:d}=l,h=0,u,p,f,g=r-o,m=a-s;if(t.isHorizontal()){if(p=me(i,s,a),V(e)){let _=Object.keys(e)[0],b=e[_];f=d[_].getPixelForValue(b)+g-n}else e==="center"?f=(c.bottom+c.top)/2+g-n:f=Qr(t,e,n);u=a-s}else{if(V(e)){let _=Object.keys(e)[0],b=e[_];p=d[_].getPixelForValue(b)-m+n}else e==="center"?p=(c.left+c.right)/2-m+n:p=Qr(t,e,n);f=me(i,r,o),h=e==="left"?-oe:oe}return{titleX:p,titleY:f,maxWidth:u,rotation:h}}var Ot=class t extends Re{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return n=Ce(n,Number.POSITIVE_INFINITY),e=Ce(e,Number.NEGATIVE_INFINITY),i=Ce(i,Number.POSITIVE_INFINITY),o=Ce(o,Number.NEGATIVE_INFINITY),{min:Ce(n,i),max:Ce(e,o),minDefined:te(n),maxDefined:te(e)}}getMinMax(n){let{min:e,max:i,minDefined:o,maxDefined:s}=this.getUserBounds(),r;if(o&&s)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,n),o||(e=Math.min(e,r.min)),s||(i=Math.max(i,r.max));return e=s&&e>i?i:e,i=o&&e>i?e:i,{min:Ce(e,Ce(i,e)),max:Ce(i,Ce(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){q(this.options.beforeUpdate,[this])}update(n,e,i){let{beginAtZero:o,grace:s,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yr(this,s,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?Yr(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Id(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,n=!n),this._startPixel=e,this._endPixel=i,this._reversePixels=n,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){q(this.options.afterUpdate,[this])}beforeSetDimensions(){q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){q(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),q(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,i,o,s;for(i=0,o=n.length;i<o;i++)s=n[i],s.label=q(e.callback,[s.value,i,n],this)}afterTickToLabelConversion(){q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,i=qr(this.ticks.length,n.ticks.maxTicksLimit),o=e.minRotation||0,s=e.maxRotation,r=o,a,l,c;if(!this._isVisible()||!e.display||o>=s||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let d=this._getLabelSizes(),h=d.widest.width,u=d.highest.height,p=he(this.chart.width-h,0,this.maxWidth);a=n.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(n.offset?.5:1)),l=this.maxHeight-Ei(n.grid)-e.padding-Xr(n.title,this.chart.options.font),c=Math.sqrt(h*h+u*u),r=on(Math.min(Math.asin(he((d.highest.height+6)/a,-1,1)),Math.asin(he(l/c,-1,1))-Math.asin(he(u/c,-1,1)))),r=Math.max(o,Math.min(s,r))),this.labelRotation=r}afterCalculateLabelRotation(){q(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){q(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:s}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){let l=Xr(o,e.options.font);if(a?(n.width=this.maxWidth,n.height=Ei(s)+l):(n.height=this.maxHeight,n.width=Ei(s)+l),i.display&&this.ticks.length){let{first:c,last:d,widest:h,highest:u}=this._getLabelSizes(),p=i.padding*2,f=Ee(this.labelRotation),g=Math.cos(f),m=Math.sin(f);if(a){let _=i.mirror?0:m*h.width+g*u.height;n.height=Math.min(this.maxHeight,n.height+_+p)}else{let _=i.mirror?0:g*h.width+m*u.height;n.width=Math.min(this.maxWidth,n.width+_+p)}this._calculatePadding(c,d,m,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,i,o){let{ticks:{align:s,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),u=0,p=0;l?c?(u=o*n.width,p=i*e.height):(u=i*n.height,p=o*e.width):s==="start"?p=e.width:s==="end"?u=n.width:s!=="inner"&&(u=n.width/2,p=e.width/2),this.paddingLeft=Math.max((u-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+r)*this.width/(this.width-h),0)}else{let d=e.height/2,h=n.height/2;s==="start"?(d=0,h=n.height):s==="end"&&(d=e.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){q(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,i;for(e=0,i=n.length;e<i;e++)$(n[e].label)&&(n.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=Yr(i,e)),this._labelSizes=n=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,i){let{ctx:o,_longestTextCache:s}=this,r=[],a=[],l=Math.floor(e/qr(e,i)),c=0,d=0,h,u,p,f,g,m,_,b,T,C,x;for(h=0;h<e;h+=l){if(f=n[h].label,g=this._resolveTickFontOptions(h),o.font=m=g.string,_=s[m]=s[m]||{data:{},gc:[]},b=g.lineHeight,T=C=0,!$(f)&&!Y(f))T=Ti(o,_.data,_.gc,T,f),C=b;else if(Y(f))for(u=0,p=f.length;u<p;++u)x=f[u],!$(x)&&!Y(x)&&(T=Ti(o,_.data,_.gc,T,x),C+=b);r.push(T),a.push(C),c=Math.max(T,c),d=Math.max(C,d)}Rd(s,e);let w=r.indexOf(c),I=a.indexOf(d),M=D=>({width:r[D]||0,height:a[D]||0});return{first:M(0),last:M(e-1),widest:M(w),highest:M(I),widths:r,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return lr(this._alignToPixels?gt(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let i=e[n];return i.$context||(i.$context=Ad(this.getContext(),n,i))}return this.$context||(this.$context=Fd(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=Ee(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),s=this._getLabelSizes(),r=n.autoSkipPadding||0,a=s?s.widest.width+r:0,l=s?s.highest.height+r:0;return this.isHorizontal()?l*i>a*o?a/i:l/o:l*o<a*i?l/i:a/o}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,i=this.chart,o=this.options,{grid:s,position:r,border:a}=o,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),u=Ei(s),p=[],f=a.setContext(this.getContext()),g=f.display?f.width:0,m=g/2,_=function(J){return gt(i,J,g)},b,T,C,x,w,I,M,D,F,R,B,fe;if(r==="top")b=_(this.bottom),I=this.bottom-u,D=b-m,R=_(n.top)+m,fe=n.bottom;else if(r==="bottom")b=_(this.top),R=n.top,fe=_(n.bottom)-m,I=b+m,D=this.top+u;else if(r==="left")b=_(this.right),w=this.right-u,M=b-m,F=_(n.left)+m,B=n.right;else if(r==="right")b=_(this.left),F=n.left,B=_(n.right)-m,w=b+m,M=this.left+u;else if(e==="x"){if(r==="center")b=_((n.top+n.bottom)/2+.5);else if(V(r)){let J=Object.keys(r)[0],se=r[J];b=_(this.chart.scales[J].getPixelForValue(se))}R=n.top,fe=n.bottom,I=b+m,D=I+u}else if(e==="y"){if(r==="center")b=_((n.left+n.right)/2);else if(V(r)){let J=Object.keys(r)[0],se=r[J];b=_(this.chart.scales[J].getPixelForValue(se))}w=b-m,M=w-u,F=n.left,B=n.right}let Me=O(o.ticks.maxTicksLimit,h),Q=Math.max(1,Math.ceil(h/Me));for(T=0;T<h;T+=Q){let J=this.getContext(T),se=s.setContext(J),Ne=a.setContext(J),_e=se.lineWidth,zt=se.color,Vi=Ne.dash||[],Rt=Ne.dashOffset,ai=se.tickWidth,vt=se.tickColor,li=se.tickBorderDash||[],Tt=se.tickBorderDashOffset;C=zd(this,T,l),C!==void 0&&(x=gt(i,C,_e),c?w=M=F=B=x:I=D=R=fe=x,p.push({tx1:w,ty1:I,tx2:M,ty2:D,x1:F,y1:R,x2:B,y2:fe,width:_e,color:zt,borderDash:Vi,borderDashOffset:Rt,tickWidth:ai,tickColor:vt,tickBorderDash:li,tickBorderDashOffset:Tt}))}return this._ticksLength=h,this._borderValue=b,p}_computeLabelItems(n){let e=this.axis,i=this.options,{position:o,ticks:s}=i,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=s,u=Ei(i.grid),p=u+d,f=h?-d:p,g=-Ee(this.labelRotation),m=[],_,b,T,C,x,w,I,M,D,F,R,B,fe="middle";if(o==="top")w=this.bottom-f,I=this._getXAxisLabelAlignment();else if(o==="bottom")w=this.top+f,I=this._getXAxisLabelAlignment();else if(o==="left"){let Q=this._getYAxisLabelAlignment(u);I=Q.textAlign,x=Q.x}else if(o==="right"){let Q=this._getYAxisLabelAlignment(u);I=Q.textAlign,x=Q.x}else if(e==="x"){if(o==="center")w=(n.top+n.bottom)/2+p;else if(V(o)){let Q=Object.keys(o)[0],J=o[Q];w=this.chart.scales[Q].getPixelForValue(J)+p}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")x=(n.left+n.right)/2-p;else if(V(o)){let Q=Object.keys(o)[0],J=o[Q];x=this.chart.scales[Q].getPixelForValue(J)}I=this._getYAxisLabelAlignment(u).textAlign}e==="y"&&(l==="start"?fe="top":l==="end"&&(fe="bottom"));let Me=this._getLabelSizes();for(_=0,b=a.length;_<b;++_){T=a[_],C=T.label;let Q=s.setContext(this.getContext(_));M=this.getPixelForTick(_)+s.labelOffset,D=this._resolveTickFontOptions(_),F=D.lineHeight,R=Y(C)?C.length:1;let J=R/2,se=Q.color,Ne=Q.textStrokeColor,_e=Q.textStrokeWidth,zt=I;r?(x=M,I==="inner"&&(_===b-1?zt=this.options.reverse?"left":"right":_===0?zt=this.options.reverse?"right":"left":zt="center"),o==="top"?c==="near"||g!==0?B=-R*F+F/2:c==="center"?B=-Me.highest.height/2-J*F+F:B=-Me.highest.height+F/2:c==="near"||g!==0?B=F/2:c==="center"?B=Me.highest.height/2-J*F:B=Me.highest.height-R*F,h&&(B*=-1),g!==0&&!Q.showLabelBackdrop&&(x+=F/2*Math.sin(g))):(w=M,B=(1-R)*F/2);let Vi;if(Q.showLabelBackdrop){let Rt=be(Q.backdropPadding),ai=Me.heights[_],vt=Me.widths[_],li=B-Rt.top,Tt=0-Rt.left;switch(fe){case"middle":li-=ai/2;break;case"bottom":li-=ai;break}switch(I){case"center":Tt-=vt/2;break;case"right":Tt-=vt;break;case"inner":_===b-1?Tt-=vt:_>0&&(Tt-=vt/2);break}Vi={left:Tt,top:li,width:vt+Rt.width,height:ai+Rt.height,color:Q.backdropColor}}m.push({label:C,font:D,textOffset:B,options:{rotation:g,color:se,strokeColor:Ne,strokeWidth:_e,textAlign:zt,textBaseline:fe,translation:[x,w],backdrop:Vi}})}return m}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-Ee(this.labelRotation))return n==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:i,mirror:o,padding:s}}=this.options,r=this._getLabelSizes(),a=n+s,l=r.widest.width,c,d;return e==="left"?o?(d=this.right+s,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?o?(d=this.left+s,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:i,top:o,width:s,height:r}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(i,o,s,r),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(s=>s.value===n);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(n){let e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),s,r,a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(s=0,r=o.length;s<r;++s){let l=o[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{border:i,grid:o}}=this,s=i.setContext(this.getContext()),r=i.display?s.width:0;if(!r)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,h,u;this.isHorizontal()?(c=gt(n,this.left,r)-r/2,d=gt(n,this.right,a)+a/2,h=u=l):(h=gt(n,this.top,r)-r/2,u=gt(n,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,u),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&Si(i,o);let s=this.getLabelItems(n);for(let r of s){let a=r.options,l=r.font,c=r.label,d=r.textOffset;mt(i,c,0,d,l,a)}o&&ki(i)}drawTitle(){let{ctx:n,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;let s=ce(i.font),r=be(i.padding),a=i.align,l=s.lineHeight/2;e==="bottom"||e==="center"||V(e)?(l+=r.bottom,Y(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=r.top;let{titleX:c,titleY:d,maxWidth:h,rotation:u}=Bd(this,l,e,a);mt(n,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:u,textAlign:Vd(a,e,o),textBaseline:"middle",translation:[c,d]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,i=O(n.grid&&n.grid.z,-1),o=O(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],s,r;for(s=0,r=e.length;s<r;++s){let a=e[s];a[i]===this.id&&(!n||a.type===n)&&o.push(a)}return o}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return ce(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},oi=class{constructor(n,e,i){this.type=n,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),i;Wd(e)&&(i=this.register(e));let o=this.items,s=n.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+n);return s in o||(o[s]=n,Hd(n,r,i),this.override&&ie.override(n.id,n.overrides)),r}get(n){return this.items[n]}unregister(n){let e=this.items,i=n.id,o=this.scope;i in e&&delete e[i],o&&i in ie[o]&&(delete ie[o][i],this.override&&delete ft[i])}};function Hd(t,n,e){let i=qt(Object.create(null),[e?ie.get(e):{},ie.get(n),t.defaults]);ie.set(n,i),t.defaultRoutes&&$d(n,t.defaultRoutes),t.descriptors&&ie.describe(n,t.descriptors)}function $d(t,n){Object.keys(n).forEach(e=>{let i=e.split("."),o=i.pop(),s=[t].concat(i).join("."),r=n[e].split("."),a=r.pop(),l=r.join(".");ie.route(s,o,l,a)})}function Wd(t){return"id"in t&&"defaults"in t}var Wo=class{constructor(){this.controllers=new oi(xt,"datasets",!0),this.elements=new oi(Re,"elements"),this.plugins=new oi(Object,"plugins"),this.scales=new oi(Ot,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,i){[...e].forEach(o=>{let s=i||this._getRegistryForType(o);i||s.isForType(o)||s===this.plugins&&o.id?this._exec(n,s,o):K(o,r=>{let a=i||this._getRegistryForType(r);this._exec(n,a,r)})})}_exec(n,e,i){let o=nn(n);q(i["before"+o],[],i),e[n](i),q(i["after"+o],[],i)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(n))return i}return this.plugins}_get(n,e,i){let o=e.get(n);if(o===void 0)throw new Error('"'+n+'" is not a registered '+i+".");return o}},Ue=new Wo,jo=class{constructor(){this._init=[]}notify(n,e,i,o){e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let s=o?this._descriptors(n).filter(o):this._descriptors(n),r=this._notify(s,n,e,i);return e==="afterDestroy"&&(this._notify(s,n,"stop"),this._notify(this._init,n,"uninstall")),r}_notify(n,e,i,o){o=o||{};for(let s of n){let r=s.plugin,a=r[i],l=[e,o,s.options];if(q(a,l,r)===!1&&o.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let i=n&&n.config,o=O(i.options&&i.options.plugins,{}),s=jd(i);return o===!1&&!e?[]:Kd(n,s,o,e)}_notifyStateChanges(n){let e=this._oldCache||[],i=this._cache,o=(s,r)=>s.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(o(e,i),n,"stop"),this._notify(o(i,e),n,"start")}};function jd(t){let n={},e=[],i=Object.keys(Ue.plugins.items);for(let s=0;s<i.length;s++)e.push(Ue.getPlugin(i[s]));let o=t.plugins||[];for(let s=0;s<o.length;s++){let r=o[s];e.indexOf(r)===-1&&(e.push(r),n[r.id]=!0)}return{plugins:e,localIds:n}}function Ud(t,n){return!n&&t===!1?null:t===!0?{}:t}function Kd(t,{plugins:n,localIds:e},i,o){let s=[],r=t.getContext();for(let a of n){let l=a.id,c=Ud(i[l],o);c!==null&&s.push({plugin:a,options:Qd(t.config,{plugin:a,local:e[l]},c,r)})}return s}function Qd(t,{plugin:n,local:e},i,o){let s=t.pluginScopeKeys(n),r=t.getOptionScopes(i,s);return e&&n.defaults&&r.push(n.defaults),t.createResolver(r,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Uo(t,n){let e=ie.datasets[t]||{};return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function qd(t,n){let e=t;return t==="_index_"?e=n:t==="_value_"&&(e=n==="x"?"y":"x"),e}function Yd(t,n){return t===n?"_index_":"_value_"}function Gr(t){if(t==="x"||t==="y"||t==="r")return t}function Xd(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ko(t,...n){if(Gr(t))return t;for(let e of n){let i=e.axis||Xd(e.position)||t.length>1&&Gr(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Jr(t,n,e){if(e[n+"AxisID"]===t)return{axis:n}}function Gd(t,n){if(n.data&&n.data.datasets){let e=n.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(e.length)return Jr(t,"x",e[0])||Jr(t,"y",e[0])}return{}}function Jd(t,n){let e=ft[t.type]||{scales:{}},i=n.scales||{},o=Uo(t.type,n),s=Object.create(null);return Object.keys(i).forEach(r=>{let a=i[r];if(!V(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);let l=Ko(r,a,Gd(r,t),ie.scales[a.type]),c=Yd(l,o),d=e.scales||{};s[r]=Xt(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(r=>{let a=r.type||t.type,l=r.indexAxis||Uo(a,n),d=(ft[a]||{}).scales||{};Object.keys(d).forEach(h=>{let u=qd(h,l),p=r[u+"AxisID"]||u;s[p]=s[p]||Object.create(null),Xt(s[p],[{axis:u},i[p],d[h]])})}),Object.keys(s).forEach(r=>{let a=s[r];Xt(a,[ie.scales[a.type],ie.scale])}),s}function Va(t){let n=t.options||(t.options={});n.plugins=O(n.plugins,{}),n.scales=Jd(t,n)}function Ba(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Zd(t){return t=t||{},t.data=Ba(t.data),Va(t),t}var Zr=new Map,Ha=new Set;function mn(t,n){let e=Zr.get(t);return e||(e=n(),Zr.set(t,e),Ha.add(e)),e}var Ni=(t,n,e)=>{let i=tt(n,e);i!==void 0&&t.add(i)},Qo=class{constructor(n){this._config=Zd(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Ba(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),Va(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return mn(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return mn(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return mn(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,i=this.type;return mn(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let i=this._scopeCache,o=i.get(n);return(!o||e)&&(o=new Map,i.set(n,o)),o}getOptionScopes(n,e,i){let{options:o,type:s}=this,r=this._cachedScopes(n,i),a=r.get(e);if(a)return a;let l=new Set;e.forEach(d=>{n&&(l.add(n),d.forEach(h=>Ni(l,n,h))),d.forEach(h=>Ni(l,o,h)),d.forEach(h=>Ni(l,ft[s]||{},h)),d.forEach(h=>Ni(l,ie,h)),d.forEach(h=>Ni(l,an,h))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ha.has(e)&&r.set(e,c),c}chartOptionScopes(){let{options:n,type:e}=this;return[n,ft[e]||{},ie.datasets[e]||{},{type:e},ie,an]}resolveNamedOptions(n,e,i,o=[""]){let s={$shared:!0},{resolver:r,subPrefixes:a}=ea(this._resolverCache,n,o),l=r;if(th(r,e)){s.$shared=!1,i=Ze(i)?i():i;let c=this.createResolver(n,i,a);l=Dt(r,i,c)}for(let c of e)s[c]=l[c];return s}createResolver(n,e,i=[""],o){let{resolver:s}=ea(this._resolverCache,n,i);return V(e)?Dt(s,e,void 0,o):s}};function ea(t,n,e){let i=t.get(n);i||(i=new Map,t.set(n,i));let o=e.join(),s=i.get(o);return s||(s={resolver:dn(n,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(o,s)),s}var eh=t=>V(t)&&Object.getOwnPropertyNames(t).some(n=>Ze(t[n]));function th(t,n){let{isScriptable:e,isIndexable:i}=yo(t);for(let o of n){let s=e(o),r=i(o),a=(r||s)&&t[o];if(s&&(Ze(a)||eh(a))||r&&Y(a))return!0}return!1}var ih="4.4.2",nh=["top","bottom","left","right","chartArea"];function ta(t,n){return t==="top"||t==="bottom"||nh.indexOf(t)===-1&&n==="x"}function ia(t,n){return function(e,i){return e[t]===i[t]?e[n]-i[n]:e[t]-i[t]}}function na(t){let n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),q(e&&e.onComplete,[t],n)}function oh(t){let n=t.chart,e=n.options.animation;q(e&&e.onProgress,[t],n)}function $a(t){return hn()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Tn={},oa=t=>{let n=$a(t);return Object.values(Tn).filter(e=>e.canvas===n).pop()};function sh(t,n,e){let i=Object.keys(t);for(let o of i){let s=+o;if(s>=n){let r=t[o];delete t[o],(e>0||s>n)&&(t[s+e]=r)}}}function rh(t,n,e,i){return!e||t.type==="mouseout"?null:i?n:t}function bn(t,n,e){return t.options.clip?t[e]:n[e]}function ah(t,n){let{xScale:e,yScale:i}=t;return e&&i?{left:bn(e,n,"left"),right:bn(e,n,"right"),top:bn(i,n,"top"),bottom:bn(i,n,"bottom")}:n}var Dn=(()=>{class t{static defaults=ie;static instances=Tn;static overrides=ft;static registry=Ue;static version=ih;static getChart=oa;static register(...e){Ue.add(...e),sa()}static unregister(...e){Ue.remove(...e),sa()}constructor(e,i){let o=this.config=new Qo(i),s=$a(e),r=oa(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||Md(s)),this.platform.updateConfig(o);let l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=ir(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pr(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],Tn[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}nt.listen(this,"complete",na),nt.listen(this,"progress",oh),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:o,height:s,_aspectRatio:r}=this;return $(e)?i&&r?r:s?o/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ue}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mo(this.canvas,this.ctx),this}stop(){return nt.stop(this),this}resize(e,i){nt.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let o=this.options,s=this.canvas,r=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,i,r),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,wo(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),q(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};K(i,(o,s)=>{o.id=s})}buildOrUpdateScales(){let e=this.options,i=e.scales,o=this.scales,s=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),r=[];i&&(r=r.concat(Object.keys(i).map(a=>{let l=i[a],c=Ko(a,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),K(r,a=>{let l=a.options,c=l.id,d=Ko(c,l),h=O(l.type,a.dtype);(l.position===void 0||ta(l.position,d)!==ta(a.dposition))&&(l.position=a.dposition),s[c]=!0;let u=null;if(c in o&&o[c].type===h)u=o[c];else{let p=Ue.getScale(h);u=new p({id:c,type:h,ctx:this.ctx,chart:this}),o[u.id]=u}u.init(l,e)}),K(s,(a,l)=>{a||delete o[l]}),K(o,a=>{ye.configure(this,a,a.options),ye.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,o=e.length;if(e.sort((s,r)=>s.index-r.index),o>i){for(let s=i;s<o;++s)this._destroyDatasetMeta(s);e.splice(i,o-i)}this._sortedMetasets=e.slice(0).sort(ia("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((o,s)=>{i.filter(r=>r===o._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,o,s;for(this._removeUnreferencedMetasets(),o=0,s=i.length;o<s;o++){let r=i[o],a=this.getDatasetMeta(o),l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=r.indexAxis||Uo(l,this.options),a.order=r.order||0,a.index=o,a.label=""+r.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let c=Ue.getController(l),{datasetElementType:d,dataElementType:h}=ie.datasets[l];Object.assign(c,{dataElementType:Ue.getElement(h),datasetElementType:d&&Ue.getElement(d)}),a.controller=new c(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){K(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:u}=this.getDatasetMeta(d),p=!s&&r.indexOf(u)===-1;u.buildOrUpdateElements(p),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),s||K(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ia("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){K(this.scales,e=>{ye.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!io(i,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:o,start:s,count:r}of i){let a=o==="_removeElements"?-r:r;sh(e,s,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,o=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),s=o(0);for(let r=1;r<i;r++)if(!io(s,o(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ye.update(this,this.width,this.height,e);let i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],K(this.boxes,s=>{o&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,Ze(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let o=this.getDatasetMeta(e),s={meta:o,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(o.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nt.has(this)?this.attached&&!nt.running(this)&&nt.start(this):(this.draw(),na({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:o,height:s}=this._resizeBeforeDraw;this._resize(o,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,o=[],s,r;for(s=0,r=i.length;s<r;++s){let a=i[s];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,o=e._clip,s=!o.disabled,r=ah(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Si(i,{left:o.left===!1?0:r.left-o.left,right:o.right===!1?this.width:r.right+o.right,top:o.top===!1?0:r.top-o.top,bottom:o.bottom===!1?this.height:r.bottom+o.bottom}),e.controller.draw(),s&&ki(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return He(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,o,s){let r=ld.modes[i];return typeof r=="function"?r(this,e,o,s):[]}getDatasetMeta(e){let i=this.data.datasets[e],o=this._metasets,s=o.filter(r=>r&&r._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},o.push(s)),s}getContext(){return this.$context||(this.$context=it(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!i.hidden}setDatasetVisibility(e,i){let o=this.getDatasetMeta(e);o.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,o){let s=o?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,s);Gt(i)?(r.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(r,{visible:o}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),nt.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mo(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Tn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,o=(r,a)=>{i.addEventListener(this,r,a),e[r]=a},s=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};K(this.options.events,r=>o(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,o=(c,d)=>{i.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(i.removeEventListener(this,c,d),delete e[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{s("attach",l),this.attached=!0,this.resize(),o("resize",r),o("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),o("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){K(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},K(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,o){let s=o?"set":"remove",r,a,l,c;for(i==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],o=e.map(({datasetIndex:r,index:a})=>{let l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!wi(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(e,i,o){return this._plugins.notify(this,e,i,o)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,o){let s=this.options.hover,r=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),a=r(i,e),l=o?e:r(e,i);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,i){let o={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,s)===!1)return;let r=this._handleEvent(e,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,s),(r||o.changed)&&this.render(),this}_handleEvent(e,i,o){let{_active:s=[],options:r}=this,a=i,l=this._getActiveElements(e,s,o,a),c=sr(e),d=rh(e,this._lastEvent,o,c);o&&(this._lastEvent=null,q(r.onHover,[e,l,this],this),c&&q(r.onClick,[e,l,this],this));let h=!wi(l,s);return(h||i)&&(this._active=l,this._updateHoverStyles(l,s,i)),this._lastEvent=d,h}_getActiveElements(e,i,o,s){if(e.type==="mouseout")return[];if(!o)return i;let r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}return t})();function sa(){return K(Dn.instances,t=>t._plugins.invalidate())}function lh(t,n,e){let{startAngle:i,pixelMargin:o,x:s,y:r,outerRadius:a,innerRadius:l}=n,c=o/a;t.beginPath(),t.arc(s,r,a,i-c,e+c),l>o?(c=o/l,t.arc(s,r,l,e+c,i-c,!0)):t.arc(s,r,o,e+oe,i-oe),t.closePath(),t.clip()}function ch(t){return cn(t,["outerStart","outerEnd","innerStart","innerEnd"])}function dh(t,n,e,i){let o=ch(t.options.borderRadius),s=(e-n)/2,r=Math.min(s,i*n/2),a=l=>{let c=(e-Math.min(s,l))*i/2;return he(l,0,Math.min(s,c))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:he(o.innerStart,0,r),innerEnd:he(o.innerEnd,0,r)}}function ni(t,n,e,i){return{x:e+t*Math.cos(n),y:i+t*Math.sin(n)}}function kn(t,n,e,i,o,s){let{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=n,h=Math.max(n.outerRadius+i+e-c,0),u=d>0?d+i+e+c:0,p=0,f=o-l;if(i){let Q=d>0?d-i:0,J=h>0?h-i:0,se=(Q+J)/2,Ne=se!==0?f*se/(se+i):f;p=(f-Ne)/2}let g=Math.max(.001,f*h-e/X)/h,m=(f-g)/2,_=l+m+p,b=o-m-p,{outerStart:T,outerEnd:C,innerStart:x,innerEnd:w}=dh(n,u,h,b-_),I=h-T,M=h-C,D=_+T/I,F=b-C/M,R=u+x,B=u+w,fe=_+x/R,Me=b-w/B;if(t.beginPath(),s){let Q=(D+F)/2;if(t.arc(r,a,h,D,Q),t.arc(r,a,h,Q,F),C>0){let _e=ni(M,F,r,a);t.arc(_e.x,_e.y,C,F,b+oe)}let J=ni(B,b,r,a);if(t.lineTo(J.x,J.y),w>0){let _e=ni(B,Me,r,a);t.arc(_e.x,_e.y,w,b+oe,Me+Math.PI)}let se=(b-w/u+(_+x/u))/2;if(t.arc(r,a,u,b-w/u,se,!0),t.arc(r,a,u,se,_+x/u,!0),x>0){let _e=ni(R,fe,r,a);t.arc(_e.x,_e.y,x,fe+Math.PI,_-oe)}let Ne=ni(I,_,r,a);if(t.lineTo(Ne.x,Ne.y),T>0){let _e=ni(I,D,r,a);t.arc(_e.x,_e.y,T,_-oe,D)}}else{t.moveTo(r,a);let Q=Math.cos(D)*h+r,J=Math.sin(D)*h+a;t.lineTo(Q,J);let se=Math.cos(F)*h+r,Ne=Math.sin(F)*h+a;t.lineTo(se,Ne)}t.closePath()}function hh(t,n,e,i,o){let{fullCircles:s,startAngle:r,circumference:a}=n,l=n.endAngle;if(s){kn(t,n,e,i,l,o);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=r+(a%G||G))}return kn(t,n,e,i,l,o),t.fill(),l}function uh(t,n,e,i,o){let{fullCircles:s,startAngle:r,circumference:a,options:l}=n,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:u}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=u,p?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let f=n.endAngle;if(s){kn(t,n,e,i,f,o);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(f=r+(a%G||G))}p&&lh(t,n,f),s||(kn(t,n,e,i,f,o),t.stroke())}var qo=class extends Re{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,i){let o=this.getProps(["x","y"],i),{angle:s,distance:r}=ro(o,{x:n,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,f=O(h,l-a)>=G||Zt(s,a,l),g=We(r,c+u,d+u);return f&&g}getCenterPoint(n){let{x:e,y:i,startAngle:o,endAngle:s,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:c}=this.options,d=(o+s)/2,h=(r+a+c+l)/2;return{x:e+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:i}=this,o=(e.offset||0)/4,s=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>G?Math.floor(i/G):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*o,Math.sin(a)*o);let l=1-Math.sin(Math.min(X,i||0)),c=o*l;n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,hh(n,this,c,s,r),uh(n,this,c,s,r),n.restore()}};function Wa(t,n,e=n){t.lineCap=O(e.borderCapStyle,n.borderCapStyle),t.setLineDash(O(e.borderDash,n.borderDash)),t.lineDashOffset=O(e.borderDashOffset,n.borderDashOffset),t.lineJoin=O(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=O(e.borderWidth,n.borderWidth),t.strokeStyle=O(e.borderColor,n.borderColor)}function ph(t,n,e){t.lineTo(e.x,e.y)}function fh(t){return t.stepped?br:t.tension||t.cubicInterpolationMode==="monotone"?_r:ph}function ja(t,n,e={}){let i=t.length,{start:o=0,end:s=i-1}=e,{start:r,end:a}=n,l=Math.max(o,r),c=Math.min(s,a),d=o<r&&s<r||o>a&&s>a;return{count:i,start:l,loop:n.loop,ilen:c<l&&!d?i+c-l:c-l}}function gh(t,n,e,i){let{points:o,options:s}=n,{count:r,start:a,loop:l,ilen:c}=ja(o,e,i),d=fh(s),{move:h=!0,reverse:u}=i||{},p,f,g;for(p=0;p<=c;++p)f=o[(a+(u?c-p:p))%r],!f.skip&&(h?(t.moveTo(f.x,f.y),h=!1):d(t,g,f,u,s.stepped),g=f);return l&&(f=o[(a+(u?c:0))%r],d(t,g,f,u,s.stepped)),!!l}function mh(t,n,e,i){let o=n.points,{count:s,start:r,ilen:a}=ja(o,e,i),{move:l=!0,reverse:c}=i||{},d=0,h=0,u,p,f,g,m,_,b=C=>(r+(c?a-C:C))%s,T=()=>{g!==m&&(t.lineTo(d,m),t.lineTo(d,g),t.lineTo(d,_))};for(l&&(p=o[b(0)],t.moveTo(p.x,p.y)),u=0;u<=a;++u){if(p=o[b(u)],p.skip)continue;let C=p.x,x=p.y,w=C|0;w===f?(x<g?g=x:x>m&&(m=x),d=(h*d+C)/++h):(T(),t.lineTo(C,x),f=w,h=0,g=m=x),_=x}T()}function Yo(t){let n=t.options,e=n.borderDash&&n.borderDash.length;return!t._decimated&&!t._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?mh:gh}function bh(t){return t.stepped?Mr:t.tension||t.cubicInterpolationMode==="monotone"?Ir:pt}function _h(t,n,e,i){let o=n._path;o||(o=n._path=new Path2D,n.path(o,e,i)&&o.closePath()),Wa(t,n.options),t.stroke(o)}function yh(t,n,e,i){let{segments:o,options:s}=n,r=Yo(n);for(let a of o)Wa(t,s,a.style),t.beginPath(),r(t,n,a,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}var xh=typeof Path2D=="function";function vh(t,n,e,i){xh&&!n.options.segment?_h(t,n,e,i):yh(t,n,e,i)}var En=(()=>{class t extends Re{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let s=o.spanGaps?this._loop:this._fullLoop;Cr(this._points,o,e,s,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Er(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,o=e.length;return o&&i[e[o-1].end]}interpolate(e,i){let o=this.options,s=e[i],r=this.points,a=Io(this,{property:i,start:s,end:s});if(!a.length)return;let l=[],c=bh(o),d,h;for(d=0,h=a.length;d<h;++d){let{start:u,end:p}=a[d],f=r[u],g=r[p];if(f===g){l.push(f);continue}let m=Math.abs((s-f[i])/(g[i]-f[i])),_=c(f,g,m,o.stepped);_[i]=e[i],l.push(_)}return l.length===1?l[0]:l}pathSegment(e,i,o){return Yo(this)(e,this,i,o)}path(e,i,o){let s=this.segments,r=Yo(this),a=this._loop;i=i||0,o=o||this.points.length-i;for(let l of s)a&=r(e,this,l,{start:i,end:i+o-1});return!!a}draw(e,i,o,s){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),vh(e,this,o,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function ra(t,n,e,i){let o=t.options,{[e]:s}=t.getProps([e],i);return Math.abs(n-s)<o.radius+o.hitRadius}var Th=(()=>{class t extends Re{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){let s=this.options,{x:r,y:a}=this.getProps(["x","y"],o);return Math.pow(e-r,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return ra(this,e,"x",i)}inYRange(e,i){return ra(this,e,"y",i)}getCenterPoint(e){let{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let o=i&&e.borderWidth||0;return(i+o)*2}draw(e,i){let o=this.options;this.skip||o.radius<.1||!He(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,ln(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t})();function Ua(t,n){let{x:e,y:i,base:o,width:s,height:r}=t.getProps(["x","y","base","width","height"],n),a,l,c,d,h;return t.horizontal?(h=r/2,a=Math.min(e,o),l=Math.max(e,o),c=i-h,d=i+h):(h=s/2,a=e-h,l=e+h,c=Math.min(i,o),d=Math.max(i,o)),{left:a,top:c,right:l,bottom:d}}function yt(t,n,e,i){return t?0:he(n,e,i)}function wh(t,n,e){let i=t.options.borderWidth,o=t.borderSkipped,s=_o(i);return{t:yt(o.top,s.top,0,e),r:yt(o.right,s.right,0,n),b:yt(o.bottom,s.bottom,0,e),l:yt(o.left,s.left,0,n)}}function Ch(t,n,e){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,s=bt(o),r=Math.min(n,e),a=t.borderSkipped,l=i||V(o);return{topLeft:yt(!l||a.top||a.left,s.topLeft,0,r),topRight:yt(!l||a.top||a.right,s.topRight,0,r),bottomLeft:yt(!l||a.bottom||a.left,s.bottomLeft,0,r),bottomRight:yt(!l||a.bottom||a.right,s.bottomRight,0,r)}}function Sh(t){let n=Ua(t),e=n.right-n.left,i=n.bottom-n.top,o=wh(t,e/2,i/2),s=Ch(t,e/2,i/2);return{outer:{x:n.left,y:n.top,w:e,h:i,radius:s},inner:{x:n.left+o.l,y:n.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,s.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(o.b,o.r))}}}}function zo(t,n,e,i){let o=n===null,s=e===null,a=t&&!(o&&s)&&Ua(t,i);return a&&(o||We(n,a.left,a.right))&&(s||We(e,a.top,a.bottom))}function kh(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Mh(t,n){t.rect(n.x,n.y,n.w,n.h)}function Ro(t,n,e={}){let i=t.x!==e.x?-n:0,o=t.y!==e.y?-n:0,s=(t.x+t.w!==e.x+e.w?n:0)-i,r=(t.y+t.h!==e.y+e.h?n:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+s,h:t.h+r,radius:t.radius}}var Xo=class extends Re{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:s,outer:r}=Sh(this),a=kh(r.radius)?ti:Mh;n.save(),(r.w!==s.w||r.h!==s.h)&&(n.beginPath(),a(n,Ro(r,e,s)),n.clip(),a(n,Ro(s,-e,r)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),a(n,Ro(s,e)),n.fillStyle=o,n.fill(),n.restore()}inRange(n,e,i){return zo(this,n,e,i)}inXRange(n,e){return zo(this,n,null,e)}inYRange(n,e){return zo(this,null,n,e)}getCenterPoint(n){let{x:e,y:i,base:o,horizontal:s}=this.getProps(["x","y","base","horizontal"],n);return{x:s?(e+o)/2:e,y:s?i:(i+o)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},Ih=Object.freeze({__proto__:null,ArcElement:qo,BarElement:Xo,LineElement:En,PointElement:Th}),Go=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],aa=Go.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ka(t){return Go[t%Go.length]}function Qa(t){return aa[t%aa.length]}function Dh(t,n){return t.borderColor=Ka(n),t.backgroundColor=Qa(n),++n}function Eh(t,n){return t.backgroundColor=t.data.map(()=>Ka(n++)),n}function Nh(t,n){return t.backgroundColor=t.data.map(()=>Qa(n++)),n}function Ph(t){let n=0;return(e,i)=>{let o=t.getDatasetMeta(i).controller;o instanceof ss?n=Eh(e,n):o instanceof Oa?n=Nh(e,n):o&&(n=Dh(e,n))}}function la(t){let n;for(n in t)if(t[n].borderColor||t[n].backgroundColor)return!0;return!1}function Lh(t){return t&&(t.borderColor||t.backgroundColor)}var Oh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,n,e){if(!e.enabled)return;let{data:{datasets:i},options:o}=t.config,{elements:s}=o;if(!e.forceOverride&&(la(i)||Lh(o)||s&&la(s)))return;let r=Ph(t);i.forEach(r)}};function zh(t,n,e,i,o){let s=o.samples||i;if(s>=e)return t.slice(n,n+e);let r=[],a=(e-2)/(s-2),l=0,c=n+e-1,d=n,h,u,p,f,g;for(r[l++]=t[d],h=0;h<s-2;h++){let m=0,_=0,b,T=Math.floor((h+1)*a)+1+n,C=Math.min(Math.floor((h+2)*a)+1,e)+n,x=C-T;for(b=T;b<C;b++)m+=t[b].x,_+=t[b].y;m/=x,_/=x;let w=Math.floor(h*a)+1+n,I=Math.min(Math.floor((h+1)*a)+1,e)+n,{x:M,y:D}=t[d];for(p=f=-1,b=w;b<I;b++)f=.5*Math.abs((M-m)*(t[b].y-D)-(M-t[b].x)*(_-D)),f>p&&(p=f,u=t[b],g=b);r[l++]=u,d=g}return r[l++]=t[c],r}function Rh(t,n,e,i){let o=0,s=0,r,a,l,c,d,h,u,p,f,g,m=[],_=n+e-1,b=t[n].x,C=t[_].x-b;for(r=n;r<n+e;++r){a=t[r],l=(a.x-b)/C*i,c=a.y;let x=l|0;if(x===d)c<f?(f=c,h=r):c>g&&(g=c,u=r),o=(s*o+a.x)/++s;else{let w=r-1;if(!$(h)&&!$(u)){let I=Math.min(h,u),M=Math.max(h,u);I!==p&&I!==w&&m.push(Ft(xe({},t[I]),{x:o})),M!==p&&M!==w&&m.push(Ft(xe({},t[M]),{x:o}))}r>0&&w!==p&&m.push(t[w]),m.push(a),d=x,s=0,f=g=c,h=u=p=r}}return m}function qa(t){if(t._decimated){let n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function ca(t){t.data.datasets.forEach(n=>{qa(n)})}function Fh(t,n){let e=n.length,i=0,o,{iScale:s}=t,{min:r,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=he(Be(n,s.axis,r).lo,0,e-1)),c?o=he(Be(n,s.axis,a).hi+1,i,e)-i:o=e-i,{start:i,count:o}}var Ah={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,e)=>{if(!e.enabled){ca(t);return}let i=t.width;t.data.datasets.forEach((o,s)=>{let{_data:r,indexAxis:a}=o,l=t.getDatasetMeta(s),c=r||o.data;if(ii([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=t.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:u}=Fh(l,c),p=e.threshold||4*i;if(u<=p){qa(o);return}$(r)&&(o._data=c,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let f;switch(e.algorithm){case"lttb":f=zh(c,h,u,i,e);break;case"min-max":f=Rh(c,h,u,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=f})},destroy(t){ca(t)}};function Vh(t,n,e){let i=t.segments,o=t.points,s=n.points,r=[];for(let a of i){let{start:l,end:c}=a;c=rs(l,c,o);let d=Jo(e,o[l],o[c],a.loop);if(!n.segments){r.push({source:a,target:d,start:o[l],end:o[c]});continue}let h=Io(n,d);for(let u of h){let p=Jo(e,s[u.start],s[u.end],u.loop),f=Mo(a,o,p);for(let g of f)r.push({source:g,target:u,start:{[e]:da(d,p,"start",Math.max)},end:{[e]:da(d,p,"end",Math.min)}})}}return r}function Jo(t,n,e,i){if(i)return;let o=n[t],s=e[t];return t==="angle"&&(o=we(o),s=we(s)),{property:t,start:o,end:s}}function Bh(t,n){let{x:e=null,y:i=null}=t||{},o=n.points,s=[];return n.segments.forEach(({start:r,end:a})=>{a=rs(r,a,o);let l=o[r],c=o[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):e!==null&&(s.push({x:e,y:l.y}),s.push({x:e,y:c.y}))}),s}function rs(t,n,e){for(;n>t;n--){let i=e[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function da(t,n,e,i){return t&&n?i(t[e],n[e]):t?t[e]:n?n[e]:0}function Ya(t,n){let e=[],i=!1;return Y(t)?(i=!0,e=t):e=Bh(t,n),e.length?new En({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function ha(t){return t&&t.fill!==!1}function Hh(t,n,e){let o=t[n].fill,s=[n],r;if(!e)return o;for(;o!==!1&&s.indexOf(o)===-1;){if(!te(o))return o;if(r=t[o],!r)return!1;if(r.visible)return o;s.push(o),o=r.fill}return!1}function $h(t,n,e){let i=Kh(t);if(V(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return te(o)&&Math.floor(o)===o?Wh(i[0],n,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Wh(t,n,e,i){return(t==="-"||t==="+")&&(e=n+e),e===n||e<0||e>=i?!1:e}function jh(t,n){let e=null;return t==="start"?e=n.bottom:t==="end"?e=n.top:V(t)?e=n.getPixelForValue(t.value):n.getBasePixel&&(e=n.getBasePixel()),e}function Uh(t,n,e){let i;return t==="start"?i=e:t==="end"?i=n.options.reverse?n.min:n.max:V(t)?i=t.value:i=n.getBaseValue(),i}function Kh(t){let n=t.options,e=n.fill,i=O(e&&e.target,e);return i===void 0&&(i=!!n.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Qh(t){let{scale:n,index:e,line:i}=t,o=[],s=i.segments,r=i.points,a=qh(n,e);a.push(Ya({x:null,y:n.bottom},i));for(let l=0;l<s.length;l++){let c=s[l];for(let d=c.start;d<=c.end;d++)Yh(o,r[d],a)}return new En({points:o,options:{}})}function qh(t,n){let e=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let s=i[o];if(s.index===n)break;s.hidden||e.unshift(s.dataset)}return e}function Yh(t,n,e){let i=[];for(let o=0;o<e.length;o++){let s=e[o],{first:r,last:a,point:l}=Xh(s,n,"x");if(!(!l||r&&a)){if(r)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function Xh(t,n,e){let i=t.interpolate(n,e);if(!i)return{};let o=i[e],s=t.segments,r=t.points,a=!1,l=!1;for(let c=0;c<s.length;c++){let d=s[c],h=r[d.start][e],u=r[d.end][e];if(We(o,h,u)){a=o===h,l=o===u;break}}return{first:a,last:l,point:i}}var Mn=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,i){let{x:o,y:s,radius:r}=this;return e=e||{start:0,end:G},n.arc(o,s,r,e.end,e.start,!0),!i.bounds}interpolate(n){let{x:e,y:i,radius:o}=this,s=n.angle;return{x:e+Math.cos(s)*o,y:i+Math.sin(s)*o,angle:s}}};function Gh(t){let{chart:n,fill:e,line:i}=t;if(te(e))return Jh(n,e);if(e==="stack")return Qh(t);if(e==="shape")return!0;let o=Zh(t);return o instanceof Mn?o:Ya(o,i)}function Jh(t,n){let e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}function Zh(t){return(t.scale||{}).getPointPositionForValue?tu(t):eu(t)}function eu(t){let{scale:n={},fill:e}=t,i=jh(e,n);if(te(i)){let o=n.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function tu(t){let{scale:n,fill:e}=t,i=n.options,o=n.getLabels().length,s=i.reverse?n.max:n.min,r=Uh(e,n,s),a=[];if(i.grid.circular){let l=n.getPointPositionForValue(0,s);return new Mn({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(r)})}for(let l=0;l<o;++l)a.push(n.getPointPositionForValue(l,r));return a}function Fo(t,n,e){let i=Gh(n),{line:o,scale:s,axis:r}=n,a=o.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:h=c}=l||{};i&&o.points.length&&(Si(t,e),iu(t,{line:o,target:i,above:d,below:h,area:e,scale:s,axis:r}),ki(t))}function iu(t,n){let{line:e,target:i,above:o,below:s,area:r,scale:a}=n,l=e._loop?"angle":n.axis;t.save(),l==="x"&&s!==o&&(ua(t,i,r.top),pa(t,{line:e,target:i,color:o,scale:a,property:l}),t.restore(),t.save(),ua(t,i,r.bottom)),pa(t,{line:e,target:i,color:s,scale:a,property:l}),t.restore()}function ua(t,n,e){let{segments:i,points:o}=n,s=!0,r=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,d=o[l],h=o[rs(l,c,o)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,e),t.lineTo(d.x,d.y)),r=!!n.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(h.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function pa(t,n){let{line:e,target:i,property:o,color:s,scale:r}=n,a=Vh(e,i,o);for(let{source:l,target:c,start:d,end:h}of a){let{style:{backgroundColor:u=s}={}}=l,p=i!==!0;t.save(),t.fillStyle=u,nu(t,r,p&&Jo(o,d,h)),t.beginPath();let f=!!e.pathSegment(t,l),g;if(p){f?t.closePath():fa(t,i,h,o);let m=!!i.pathSegment(t,c,{move:f,reverse:!0});g=f&&m,g||fa(t,i,d,o)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function nu(t,n,e){let{top:i,bottom:o}=n.chart.chartArea,{property:s,start:r,end:a}=e||{};s==="x"&&(t.beginPath(),t.rect(r,i,a-r,o-i),t.clip())}function fa(t,n,e,i){let o=n.interpolate(e,i);o&&t.lineTo(o.x,o.y)}var ou={id:"filler",afterDatasetsUpdate(t,n,e){let i=(t.data.datasets||[]).length,o=[],s,r,a,l;for(r=0;r<i;++r)s=t.getDatasetMeta(r),a=s.dataset,l=null,a&&a.options&&a instanceof En&&(l={visible:t.isDatasetVisible(r),index:r,fill:$h(a,r,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,o.push(l);for(r=0;r<i;++r)l=o[r],!(!l||l.fill===!1)&&(l.fill=Hh(o,r,e.propagate))},beforeDraw(t,n,e){let i=e.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let r=o.length-1;r>=0;--r){let a=o[r].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Fo(t.ctx,a,s))}},beforeDatasetsDraw(t,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let s=i[o].$filler;ha(s)&&Fo(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,n,e){let i=n.meta.$filler;!ha(i)||e.drawTime!=="beforeDatasetDraw"||Fo(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},ga=(t,n)=>{let{boxHeight:e=n,boxWidth:i=n}=t;return t.usePointStyle&&(e=Math.min(e,n),i=t.pointStyleWidth||Math.min(i,n)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(n,e)}},su=(t,n)=>t!==null&&n!==null&&t.datasetIndex===n.datasetIndex&&t.index===n.index,In=class extends Re{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,i){this.maxWidth=n,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=q(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(i=>n.filter(i,this.chart.data))),n.sort&&(e=e.sort((i,o)=>n.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let i=n.labels,o=ce(i.font),s=o.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ga(i,s),c,d;e.font=o.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(r,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(r,o,a,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(d,n.maxHeight||this.maxHeight)}_fitRows(n,e,i,o){let{ctx:s,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=o+a,h=n;s.textAlign="left",s.textBaseline="middle";let u=-1,p=-d;return this.legendItems.forEach((f,g)=>{let m=i+e/2+s.measureText(f.text).width;(g===0||c[c.length-1]+m+2*a>r)&&(h+=d,c[c.length-(g>0?0:1)]=0,p+=d,u++),l[g]={left:0,top:p,row:u,width:m,height:o},c[c.length-1]+=m+a}),h}_fitCols(n,e,i,o){let{ctx:s,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=r-n,h=a,u=0,p=0,f=0,g=0;return this.legendItems.forEach((m,_)=>{let{itemWidth:b,itemHeight:T}=ru(i,e,s,m,o);_>0&&p+T+2*a>d&&(h+=u+a,c.push({width:u,height:p}),f+=u+a,g++,u=p=0),l[_]={left:f,top:p,col:g,width:b,height:T},u=Math.max(u,b),p+=T+a}),h+=u,c.push({width:u,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:s}}=this,r=Nt(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=me(i,this.left+o,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=me(i,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+n+o,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+o}else{let a=0,l=me(i,this.top+n+o,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=me(i,this.top+n+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;Si(n,this),this._draw(),ki(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:i,ctx:o}=this,{align:s,labels:r}=n,a=ie.color,l=Nt(n.rtl,this.left,this.width),c=ce(r.font),{padding:d}=r,h=c.size,u=h/2,p;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;let{boxWidth:f,boxHeight:g,itemHeight:m}=ga(r,h),_=function(w,I,M){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;o.save();let D=O(M.lineWidth,1);if(o.fillStyle=O(M.fillStyle,a),o.lineCap=O(M.lineCap,"butt"),o.lineDashOffset=O(M.lineDashOffset,0),o.lineJoin=O(M.lineJoin,"miter"),o.lineWidth=D,o.strokeStyle=O(M.strokeStyle,a),o.setLineDash(O(M.lineDash,[])),r.usePointStyle){let F={radius:g*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:D},R=l.xPlus(w,f/2),B=I+u;bo(o,F,R,B,r.pointStyleWidth&&f)}else{let F=I+Math.max((h-g)/2,0),R=l.leftForLtr(w,f),B=bt(M.borderRadius);o.beginPath(),Object.values(B).some(fe=>fe!==0)?ti(o,{x:R,y:F,w:f,h:g,radius:B}):o.rect(R,F,f,g),o.fill(),D!==0&&o.stroke()}o.restore()},b=function(w,I,M){mt(o,M.text,w,I+m/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},T=this.isHorizontal(),C=this._computeTitleHeight();T?p={x:me(s,this.left+d,this.right-i[0]),y:this.top+d+C,line:0}:p={x:this.left+d,y:me(s,this.top+C+d,this.bottom-e[0].height),line:0},So(this.ctx,n.textDirection);let x=m+d;this.legendItems.forEach((w,I)=>{o.strokeStyle=w.fontColor,o.fillStyle=w.fontColor;let M=o.measureText(w.text).width,D=l.textAlign(w.textAlign||(w.textAlign=r.textAlign)),F=f+u+M,R=p.x,B=p.y;l.setWidth(this.width),T?I>0&&R+F+d>this.right&&(B=p.y+=x,p.line++,R=p.x=me(s,this.left+d,this.right-i[p.line])):I>0&&B+x>this.bottom&&(R=p.x=R+e[p.line].width+d,p.line++,B=p.y=me(s,this.top+C+d,this.bottom-e[p.line].height));let fe=l.x(R);if(_(fe,B,w),R=fr(D,R+f+u,T?R+F:this.right,n.rtl),b(l.x(R),B,w),T)p.x+=F+d;else if(typeof w.text!="string"){let Me=c.lineHeight;p.y+=Xa(w,Me)+d}else p.y+=x}),ko(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,i=ce(e.font),o=be(e.padding);if(!e.display)return;let s=Nt(n.rtl,this.left,this.width),r=this.ctx,a=e.position,l=i.size/2,c=o.top+l,d,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),d=this.top+c,h=me(n.align,h,this.right-u);else{let f=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);d=c+me(n.align,this.top,this.bottom-f-n.labels.padding-this._computeTitleHeight())}let p=me(a,h,h+u);r.textAlign=s.textAlign(rn(a)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,mt(r,e.text,p,d,i)}_computeTitleHeight(){let n=this.options.title,e=ce(n.font),i=be(n.padding);return n.display?e.lineHeight+i.height:0}_getLegendItemAt(n,e){let i,o,s;if(We(n,this.left,this.right)&&We(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(o=s[i],We(n,o.left,o.left+o.width)&&We(e,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(n){let e=this.options;if(!cu(n.type,e))return;let i=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let o=this._hoveredItem,s=su(o,i);o&&!s&&q(e.onLeave,[n,o,this],this),this._hoveredItem=i,i&&!s&&q(e.onHover,[n,i,this],this)}else i&&q(e.onClick,[n,i,this],this)}};function ru(t,n,e,i,o){let s=au(i,t,n,e),r=lu(o,i,n.lineHeight);return{itemWidth:s,itemHeight:r}}function au(t,n,e,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((s,r)=>s.length>r.length?s:r)),n+e.size/2+i.measureText(o).width}function lu(t,n,e){let i=t;return typeof n.text!="string"&&(i=Xa(n,e)),i}function Xa(t,n){let e=t.text?t.text.length:0;return n*e}function cu(t,n){return!!((t==="mousemove"||t==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(t==="click"||t==="mouseup"))}var du={id:"legend",_element:In,start(t,n,e){let i=t.legend=new In({ctx:t.ctx,options:e,chart:t});ye.configure(t,i,e),ye.addBox(t,i)},stop(t){ye.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){let i=t.legend;ye.configure(t,i,e),i.options=e},afterUpdate(t){let n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){let i=n.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),n.hidden=!0):(o.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:s,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),d=be(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},zi=class extends Re{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let o=Y(i.text)?i.text.length:1;this._padding=be(i.padding);let s=o*ce(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:i,bottom:o,right:s,options:r}=this,a=r.align,l=0,c,d,h;return this.isHorizontal()?(d=me(a,i,s),h=e+n,c=s-i):(r.position==="left"?(d=i+n,h=me(a,o,e),l=X*-.5):(d=s-n,h=me(a,e,o),l=X*.5),c=o-e),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let i=ce(e.font),s=i.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);mt(n,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:rn(e.align),textBaseline:"middle",translation:[r,a]})}};function hu(t,n){let e=new zi({ctx:t.ctx,options:n,chart:t});ye.configure(t,e,n),ye.addBox(t,e),t.titleBlock=e}var uu={id:"title",_element:zi,start(t,n,e){hu(t,e)},stop(t){let n=t.titleBlock;ye.removeBox(t,n),delete t.titleBlock},beforeUpdate(t,n,e){let i=t.titleBlock;ye.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},_n=new WeakMap,pu={id:"subtitle",start(t,n,e){let i=new zi({ctx:t.ctx,options:e,chart:t});ye.configure(t,i,e),ye.addBox(t,i),_n.set(t,i)},stop(t){ye.removeBox(t,_n.get(t)),_n.delete(t)},beforeUpdate(t,n,e){let i=_n.get(t);ye.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Li={average(t){if(!t.length)return!1;let n,e,i=new Set,o=0,s=0;for(n=0,e=t.length;n<e;++n){let a=t[n].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),o+=l.y,++s}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:o/s}},nearest(t,n){if(!t.length)return!1;let e=n.x,i=n.y,o=Number.POSITIVE_INFINITY,s,r,a;for(s=0,r=t.length;s<r;++s){let l=t[s].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=en(n,c);d<o&&(o=d,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function je(t,n){return n&&(Y(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function ot(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fu(t,n){let{element:e,datasetIndex:i,index:o}=n,s=t.getDatasetMeta(i).controller,{label:r,value:a}=s.getLabelAndValue(o);return{chart:t,label:r,parsed:s.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:a,dataset:s.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function ma(t,n){let e=t.chart.ctx,{body:i,footer:o,title:s}=t,{boxWidth:r,boxHeight:a}=n,l=ce(n.bodyFont),c=ce(n.titleFont),d=ce(n.footerFont),h=s.length,u=o.length,p=i.length,f=be(n.padding),g=f.height,m=0,_=i.reduce((C,x)=>C+x.before.length+x.lines.length+x.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*n.titleSpacing+n.titleMarginBottom),_){let C=n.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*C+(_-p)*l.lineHeight+(_-1)*n.bodySpacing}u&&(g+=n.footerMarginTop+u*d.lineHeight+(u-1)*n.footerSpacing);let b=0,T=function(C){m=Math.max(m,e.measureText(C).width+b)};return e.save(),e.font=c.string,K(t.title,T),e.font=l.string,K(t.beforeBody.concat(t.afterBody),T),b=n.displayColors?r+2+n.boxPadding:0,K(i,C=>{K(C.before,T),K(C.lines,T),K(C.after,T)}),b=0,e.font=d.string,K(t.footer,T),e.restore(),m+=f.width,{width:m,height:g}}function gu(t,n){let{y:e,height:i}=n;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}function mu(t,n,e,i){let{x:o,width:s}=i,r=e.caretSize+e.caretPadding;if(t==="left"&&o+s+r>n.width||t==="right"&&o-s-r<0)return!0}function bu(t,n,e,i){let{x:o,width:s}=e,{width:r,chartArea:{left:a,right:l}}=t,c="center";return i==="center"?c=o<=(a+l)/2?"left":"right":o<=s/2?c="left":o>=r-s/2&&(c="right"),mu(c,t,n,e)&&(c="center"),c}function ba(t,n,e){let i=e.yAlign||n.yAlign||gu(t,e);return{xAlign:e.xAlign||n.xAlign||bu(t,n,e,i),yAlign:i}}function _u(t,n){let{x:e,width:i}=t;return n==="right"?e-=i:n==="center"&&(e-=i/2),e}function yu(t,n,e){let{y:i,height:o}=t;return n==="top"?i+=e:n==="bottom"?i-=o+e:i-=o/2,i}function _a(t,n,e,i){let{caretSize:o,caretPadding:s,cornerRadius:r}=t,{xAlign:a,yAlign:l}=e,c=o+s,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:p}=bt(r),f=_u(n,a),g=yu(n,l,c);return l==="center"?a==="left"?f+=c:a==="right"&&(f-=c):a==="left"?f-=Math.max(d,u)+o:a==="right"&&(f+=Math.max(h,p)+o),{x:he(f,0,i.width-n.width),y:he(g,0,i.height-n.height)}}function yn(t,n,e){let i=be(e.padding);return n==="center"?t.x+t.width/2:n==="right"?t.x+t.width-i.right:t.x+i.left}function ya(t){return je([],ot(t))}function xu(t,n,e){return it(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}function xa(t,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}var Ga={beforeTitle:$e,title(t){if(t.length>0){let n=t[0],e=n.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return e[n.dataIndex]}return""},afterTitle:$e,beforeBody:$e,beforeLabel:$e,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");let e=t.formattedValue;return $(e)||(n+=e),n},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:$e,afterBody:$e,beforeFooter:$e,footer:$e,afterFooter:$e};function Se(t,n,e,i){let o=t[n].call(e,i);return typeof o>"u"?Ga[n].call(e,i):o}var va=(()=>{class t extends Re{static positioners=Li;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,o=this.options.setContext(this.getContext()),s=o.enabled&&i.options.animation&&o.animations,r=new wn(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=xu(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:o}=i,s=Se(o,"beforeTitle",this,e),r=Se(o,"title",this,e),a=Se(o,"afterTitle",this,e),l=[];return l=je(l,ot(s)),l=je(l,ot(r)),l=je(l,ot(a)),l}getBeforeBody(e,i){return ya(Se(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:o}=i,s=[];return K(e,r=>{let a={before:[],lines:[],after:[]},l=xa(o,r);je(a.before,ot(Se(l,"beforeLabel",this,r))),je(a.lines,Se(l,"label",this,r)),je(a.after,ot(Se(l,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(e,i){return ya(Se(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:o}=i,s=Se(o,"beforeFooter",this,e),r=Se(o,"footer",this,e),a=Se(o,"afterFooter",this,e),l=[];return l=je(l,ot(s)),l=je(l,ot(r)),l=je(l,ot(a)),l}_createItems(e){let i=this._active,o=this.chart.data,s=[],r=[],a=[],l=[],c,d;for(c=0,d=i.length;c<d;++c)l.push(fu(this.chart,i[c]));return e.filter&&(l=l.filter((h,u,p)=>e.filter(h,u,p,o))),e.itemSort&&(l=l.sort((h,u)=>e.itemSort(h,u,o))),K(l,h=>{let u=xa(e.callbacks,h);s.push(Se(u,"labelColor",this,h)),r.push(Se(u,"labelPointStyle",this,h)),a.push(Se(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){let o=this.options.setContext(this.getContext()),s=this._active,r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{let l=Li[o.position].call(this,s,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let c=this._size=ma(this,o),d=Object.assign({},l,c),h=ba(this.chart,o,d),u=_a(o,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,o,s){let r=this.getCaretPosition(e,o,s);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(e,i,o){let{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:u}=bt(l),{x:p,y:f}=e,{width:g,height:m}=i,_,b,T,C,x,w;return r==="center"?(x=f+m/2,s==="left"?(_=p,b=_-a,C=x+a,w=x-a):(_=p+g,b=_+a,C=x-a,w=x+a),T=_):(s==="left"?b=p+Math.max(c,h)+a:s==="right"?b=p+g-Math.max(d,u)-a:b=this.caretX,r==="top"?(C=f,x=C-a,_=b-a,T=b+a):(C=f+m,x=C+a,_=b+a,T=b-a),w=C),{x1:_,x2:b,x3:T,y1:C,y2:x,y3:w}}drawTitle(e,i,o){let s=this.title,r=s.length,a,l,c;if(r){let d=Nt(o.rtl,this.x,this.width);for(e.x=yn(this,o.titleAlign,o),i.textAlign=d.textAlign(o.titleAlign),i.textBaseline="middle",a=ce(o.titleFont),l=o.titleSpacing,i.fillStyle=o.titleColor,i.font=a.string,c=0;c<r;++c)i.fillText(s[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===r&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,i,o,s,r){let a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:c,boxWidth:d}=r,h=ce(r.bodyFont),u=yn(this,"left",r),p=s.x(u),f=c<h.lineHeight?(h.lineHeight-c)/2:0,g=i.y+f;if(r.usePointStyle){let m={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=s.leftForLtr(p,d)+d/2,b=g+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ln(e,m,_,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ln(e,m,_,b)}else{e.lineWidth=V(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let m=s.leftForLtr(p,d),_=s.leftForLtr(s.xPlus(p,1),d-2),b=bt(a.borderRadius);Object.values(b).some(T=>T!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ti(e,{x:m,y:g,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ti(e,{x:_,y:g+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,g,d,c),e.strokeRect(m,g,d,c),e.fillStyle=a.backgroundColor,e.fillRect(_,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,i,o){let{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=o,u=ce(o.bodyFont),p=u.lineHeight,f=0,g=Nt(o.rtl,this.x,this.width),m=function(D){i.fillText(D,g.x(e.x+f),e.y+p/2),e.y+=p+r},_=g.textAlign(a),b,T,C,x,w,I,M;for(i.textAlign=a,i.textBaseline="middle",i.font=u.string,e.x=yn(this,_,o),i.fillStyle=o.bodyColor,K(this.beforeBody,m),f=l&&_!=="right"?a==="center"?d/2+h:d+2+h:0,x=0,I=s.length;x<I;++x){for(b=s[x],T=this.labelTextColors[x],i.fillStyle=T,K(b.before,m),C=b.lines,l&&C.length&&(this._drawColorBox(i,e,x,g,o),p=Math.max(u.lineHeight,c)),w=0,M=C.length;w<M;++w)m(C[w]),p=u.lineHeight;K(b.after,m)}f=0,p=u.lineHeight,K(this.afterBody,m),e.y-=r}drawFooter(e,i,o){let s=this.footer,r=s.length,a,l;if(r){let c=Nt(o.rtl,this.x,this.width);for(e.x=yn(this,o.footerAlign,o),e.y+=o.footerMarginTop,i.textAlign=c.textAlign(o.footerAlign),i.textBaseline="middle",a=ce(o.footerFont),i.fillStyle=o.footerColor,i.font=a.string,l=0;l<r;++l)i.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,i,o,s){let{xAlign:r,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:h}=o,{topLeft:u,topRight:p,bottomLeft:f,bottomRight:g}=bt(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+u,c),a==="top"&&this.drawCaret(e,i,o,s),i.lineTo(l+d-p,c),i.quadraticCurveTo(l+d,c,l+d,c+p),a==="center"&&r==="right"&&this.drawCaret(e,i,o,s),i.lineTo(l+d,c+h-g),i.quadraticCurveTo(l+d,c+h,l+d-g,c+h),a==="bottom"&&this.drawCaret(e,i,o,s),i.lineTo(l+f,c+h),i.quadraticCurveTo(l,c+h,l,c+h-f),a==="center"&&r==="left"&&this.drawCaret(e,i,o,s),i.lineTo(l,c+u),i.quadraticCurveTo(l,c,l+u,c),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,o=this.$animations,s=o&&o.x,r=o&&o.y;if(s||r){let a=Li[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=ma(this,e),c=Object.assign({},a,this._size),d=ba(i,e,c),h=_a(e,c,d,i);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=be(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(r,e,s,i),So(e,i.textDirection),r.y+=a.top,this.drawTitle(r,e,i),this.drawBody(r,e,i),this.drawFooter(r,e,i),ko(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let o=this._active,s=e.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),r=!wi(o,s),a=this._positionChanged(s,i);(r||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,r=this._active||[],a=this._getActiveElements(e,r,i,o),l=this._positionChanged(a,e),c=i||!wi(a,r)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,o,s){let r=this.options;if(e.type==="mouseout")return[];if(!s)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,r.mode,r,o);return r.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:o,caretY:s,options:r}=this,a=Li[r.position].call(this,e,i);return a!==!1&&(o!==a.x||s!==a.y)}}return t})(),vu={id:"tooltip",_element:va,positioners:Li,afterInit(t,n,e){e&&(t.tooltip=new va({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let n=t.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(t.notifyPlugins("beforeTooltipDraw",Ft(xe({},e),{cancelable:!0}))===!1)return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,n){if(t.tooltip){let e=n.replay;t.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ga},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Tu=Object.freeze({__proto__:null,Colors:Oh,Decimation:Ah,Filler:ou,Legend:du,SubTitle:pu,Title:uu,Tooltip:vu}),wu=(t,n,e,i)=>(typeof n=="string"?(e=t.push(n)-1,i.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function Cu(t,n,e,i){let o=t.indexOf(n);if(o===-1)return wu(t,n,e,i);let s=t.lastIndexOf(n);return o!==s?e:o}var Su=(t,n)=>t===null?null:he(Math.round(t),0,n);function Ta(t){let n=this.getLabels();return t>=0&&t<n.length?n[t]:t}var ku=(()=>{class t extends Ot{static id="category";static defaults={ticks:{callback:Ta}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let o=this.getLabels();for(let{index:s,label:r}of i)o[s]===r&&o.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,i){if($(e))return null;let o=this.getLabels();return i=isFinite(i)&&o[i]===e?i:Cu(o,e,O(i,e),this._addedLabels),Su(i,o.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),i||(s=this.getLabels().length-1)),this.min=o,this.max=s}buildTicks(){let e=this.min,i=this.max,o=this.options.offset,s=[],r=this.getLabels();r=e===0&&i===r.length-1?r:r.slice(e,i+1),this._valueRange=Math.max(r.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=i;a++)s.push({value:a});return s}getLabelForValue(e){return Ta.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function Mu(t,n){let e=[],{bounds:o,step:s,min:r,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:u}=t,p=s||1,f=d-1,{min:g,max:m}=n,_=!$(r),b=!$(a),T=!$(c),C=(m-g)/(h+1),x=no((m-g)/f/p)*p,w,I,M,D;if(x<1e-14&&!_&&!b)return[{value:g},{value:m}];D=Math.ceil(m/x)-Math.floor(g/x),D>f&&(x=no(D*x/f/p)*p),$(l)||(w=Math.pow(10,l),x=Math.ceil(x*w)/w),o==="ticks"?(I=Math.floor(g/x)*x,M=Math.ceil(m/x)*x):(I=g,M=m),_&&b&&s&&ar((a-r)/s,x/1e3)?(D=Math.round(Math.min((a-r)/x,d)),x=(a-r)/D,I=r,M=a):T?(I=_?r:I,M=b?a:M,D=c-1,x=(M-I)/D):(D=(M-I)/x,Jt(D,Math.round(D),x/1e3)?D=Math.round(D):D=Math.ceil(D));let F=Math.max(so(x),so(I));w=Math.pow(10,$(l)?F:l),I=Math.round(I*w)/w,M=Math.round(M*w)/w;let R=0;for(_&&(u&&I!==r?(e.push({value:r}),I<r&&R++,Jt(Math.round((I+R*x)*w)/w,r,wa(r,C,t))&&R++):I<r&&R++);R<D;++R){let B=Math.round((I+R*x)*w)/w;if(b&&B>a)break;e.push({value:B})}return b&&u&&M!==a?e.length&&Jt(e[e.length-1].value,a,wa(a,C,t))?e[e.length-1].value=a:e.push({value:a}):(!b||M===a)&&e.push({value:M}),e}function wa(t,n,{horizontal:e,minRotation:i}){let o=Ee(i),s=(e?Math.sin(o):Math.cos(o))||.001,r=.75*n*(""+t).length;return Math.min(n/s,r)}var si=class extends Ot{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return $(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:s}=this,r=l=>o=e?o:l,a=l=>s=i?s:l;if(n){let l=ze(o),c=ze(s);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(o===s){let l=s===0?1:Math.abs(s*.05);a(s+l),n||r(o-l)}this.min=o,this.max=s}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:i}=n,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,r=Mu(o,s);return n.bounds==="ticks"&&oo(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let n=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){let o=(i-e)/Math.max(n.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(n){return ei(n,this.chart.options.locale,this.options.ticks.format)}},Zo=class extends si{static id="linear";static defaults={ticks:{callback:Ci.formatters.numeric}};determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=te(n)?n:0,this.max=te(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,i=Ee(this.options.ticks.minRotation),o=(n?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/o))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},Ri=t=>Math.floor(et(t)),Lt=(t,n)=>Math.pow(10,Ri(t)+n);function Ca(t){return t/Math.pow(10,Ri(t))===1}function Sa(t,n,e){let i=Math.pow(10,e),o=Math.floor(t/i);return Math.ceil(n/i)-o}function Iu(t,n){let e=n-t,i=Ri(e);for(;Sa(t,n,i)>10;)i++;for(;Sa(t,n,i)<10;)i--;return Math.min(i,Ri(t))}function Du(t,{min:n,max:e}){n=Ce(t.min,n);let i=[],o=Ri(n),s=Iu(n,e),r=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=o>s?Math.pow(10,o):0,c=Math.round((n-l)*r)/r,d=Math.floor((n-l)/a/10)*a*10,h=Math.floor((c-d)/Math.pow(10,s)),u=Ce(t.min,Math.round((l+d+h*Math.pow(10,s))*r)/r);for(;u<e;)i.push({value:u,major:Ca(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,r=s>=0?1:r),u=Math.round((l+d+h*Math.pow(10,s))*r)/r;let p=Ce(t.max,u);return i.push({value:p,major:Ca(p),significand:h}),i}var es=class extends Ot{static id="logarithmic";static defaults={ticks:{callback:Ci.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let i=si.prototype.parse.apply(this,[n,e]);if(i===0){this._zero=!0;return}return te(i)&&i>0?i:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=te(n)?Math.max(0,n):null,this.max=te(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!te(this._userMin)&&(this.min=n===Lt(this.min,0)?Lt(this.min,-1):Lt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),i=this.min,o=this.max,s=a=>i=n?i:a,r=a=>o=e?o:a;i===o&&(i<=0?(s(1),r(10)):(s(Lt(i,-1)),r(Lt(o,1)))),i<=0&&s(Lt(o,-1)),o<=0&&r(Lt(i,1)),this.min=i,this.max=o}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},i=Du(e,this);return n.bounds==="ticks"&&oo(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return n===void 0?"0":ei(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=et(n),this._valueRange=et(this.max)-et(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(et(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};function ts(t){let n=t.ticks;if(n.display&&t.display){let e=be(n.backdropPadding);return O(n.font&&n.font.size,ie.font.size)+e.height}return 0}function Eu(t,n,e){return e=Y(e)?e:[e],{w:mr(t,n.string,e),h:e.length*n.lineHeight}}function ka(t,n,e,i,o){return t===i||t===o?{start:n-e/2,end:n+e/2}:t<i||t>o?{start:n-e,end:n}:{start:n,end:n+e}}function Nu(t){let n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),i=[],o=[],s=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?X/s:0;for(let l=0;l<s;l++){let c=r.setContext(t.getPointLabelContext(l));o[l]=c.padding;let d=t.getPointPosition(l,t.drawingArea+o[l],a),h=ce(c.font),u=Eu(t.ctx,h,t._pointLabels[l]);i[l]=u;let p=we(t.getIndexAngle(l)+a),f=Math.round(on(p)),g=ka(f,d.x,u.w,0,180),m=ka(f,d.y,u.h,90,270);Pu(e,n,p,g,m)}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=zu(t,i,o)}function Pu(t,n,e,i,o){let s=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e)),a=0,l=0;i.start<n.l?(a=(n.l-i.start)/s,t.l=Math.min(t.l,n.l-a)):i.end>n.r&&(a=(i.end-n.r)/s,t.r=Math.max(t.r,n.r+a)),o.start<n.t?(l=(n.t-o.start)/r,t.t=Math.min(t.t,n.t-l)):o.end>n.b&&(l=(o.end-n.b)/r,t.b=Math.max(t.b,n.b+l))}function Lu(t,n,e){let i=t.drawingArea,{extra:o,additionalAngle:s,padding:r,size:a}=e,l=t.getPointPosition(n,i+o+r,s),c=Math.round(on(we(l.angle+oe))),d=Au(l.y,a.h,c),h=Ru(c),u=Fu(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:u,top:d,right:u+a.w,bottom:d+a.h}}function Ou(t,n){if(!n)return!0;let{left:e,top:i,right:o,bottom:s}=t;return!(He({x:e,y:i},n)||He({x:e,y:s},n)||He({x:o,y:i},n)||He({x:o,y:s},n))}function zu(t,n,e){let i=[],o=t._pointLabels.length,s=t.options,{centerPointLabels:r,display:a}=s.pointLabels,l={extra:ts(s)/2,additionalAngle:r?X/o:0},c;for(let d=0;d<o;d++){l.padding=e[d],l.size=n[d];let h=Lu(t,d,l);i.push(h),a==="auto"&&(h.visible=Ou(h,c),h.visible&&(c=h))}return i}function Ru(t){return t===0||t===180?"center":t<180?"left":"right"}function Fu(t,n,e){return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function Au(t,n,e){return e===90||e===270?t-=n/2:(e>270||e<90)&&(t-=n),t}function Vu(t,n,e){let{left:i,top:o,right:s,bottom:r}=e,{backdropColor:a}=n;if(!$(a)){let l=bt(n.borderRadius),c=be(n.backdropPadding);t.fillStyle=a;let d=i-c.left,h=o-c.top,u=s-i+c.width,p=r-o+c.height;Object.values(l).some(f=>f!==0)?(t.beginPath(),ti(t,{x:d,y:h,w:u,h:p,radius:l}),t.fill()):t.fillRect(d,h,u,p)}}function Bu(t,n){let{ctx:e,options:{pointLabels:i}}=t;for(let o=n-1;o>=0;o--){let s=t._pointLabelItems[o];if(!s.visible)continue;let r=i.setContext(t.getPointLabelContext(o));Vu(e,r,s);let a=ce(r.font),{x:l,y:c,textAlign:d}=s;mt(e,t._pointLabels[o],l,c+a.lineHeight/2,a,{color:r.color,textAlign:d,textBaseline:"middle"})}}function Ja(t,n,e,i){let{ctx:o}=t;if(e)o.arc(t.xCenter,t.yCenter,n,0,G);else{let s=t.getPointPosition(0,n);o.moveTo(s.x,s.y);for(let r=1;r<i;r++)s=t.getPointPosition(r,n),o.lineTo(s.x,s.y)}}function Hu(t,n,e,i,o){let s=t.ctx,r=n.circular,{color:a,lineWidth:l}=n;!r&&!i||!a||!l||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(o.dash),s.lineDashOffset=o.dashOffset,s.beginPath(),Ja(t,e,r,i),s.closePath(),s.stroke(),s.restore())}function $u(t,n,e){return it(t,{label:e,index:n,type:"pointLabel"})}var is=class extends si{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ci.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=be(ts(this.options)/2),e=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=te(n)&&!isNaN(n)?n:0,this.max=te(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ts(this.options))}generateTickLabels(n){si.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,i)=>{let o=q(this.options.pointLabels.callback,[e,i],this);return o||o===0?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let n=this.options;n.display&&n.pointLabels.display?Nu(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,i,o){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,i,o))}getIndexAngle(n){let e=G/(this._pointLabels.length||1),i=this.options.startAngle||0;return we(n*e+Ee(i))}getDistanceFromCenterForValue(n){if($(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if($(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let i=e[n];return $u(this.getContext(),n,i)}}getPointPosition(n,e,i=0){let o=this.getIndexAngle(n)-oe+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:i,right:o,bottom:s}=this._pointLabelItems[n];return{left:e,top:i,right:o,bottom:s}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let i=this.ctx;i.save(),i.beginPath(),Ja(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:i,grid:o,border:s}=e,r=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&Bu(this,r),o.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let u=this.getContext(h),p=o.setContext(u),f=s.setContext(u);Hu(this,p,l,r,f)}}),i.display){for(n.save(),a=r-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:u}=d;!u||!h||(n.lineWidth=u,n.strokeStyle=h,n.setLineDash(d.borderDash),n.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let o=this.getIndexAngle(0),s,r;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=i.setContext(this.getContext(l)),d=ce(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=d.string,r=n.measureText(a.label).width,n.fillStyle=c.backdropColor;let h=be(c.backdropPadding);n.fillRect(-r/2-h.left,-s-d.size/2-h.top,r+h.width,d.size+h.height)}mt(n,a.label,0,-s,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},Nn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ke=Object.keys(Nn);function Ma(t,n){return t-n}function Ia(t,n){if($(n))return null;let e=t._adapter,{parser:i,round:o,isoWeekday:s}=t._parseOpts,r=n;return typeof i=="function"&&(r=i(r)),te(r)||(r=typeof i=="string"?e.parse(r,i):e.parse(r)),r===null?null:(o&&(r=o==="week"&&(Et(s)||s===!0)?e.startOf(r,"isoWeek",s):e.startOf(r,o)),+r)}function Da(t,n,e,i){let o=ke.length;for(let s=ke.indexOf(t);s<o-1;++s){let r=Nn[ke[s]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-n)/(a*r.size))<=i)return ke[s]}return ke[o-1]}function Wu(t,n,e,i,o){for(let s=ke.length-1;s>=ke.indexOf(e);s--){let r=ke[s];if(Nn[r].common&&t._adapter.diff(o,i,r)>=n-1)return r}return ke[e?ke.indexOf(e):0]}function ju(t){for(let n=ke.indexOf(t)+1,e=ke.length;n<e;++n)if(Nn[ke[n]].common)return ke[n]}function Ea(t,n,e){if(!e)t[n]=!0;else if(e.length){let{lo:i,hi:o}=sn(e,n),s=e[i]>=n?e[i]:e[o];t[s]=!0}}function Uu(t,n,e,i){let o=t._adapter,s=+o.startOf(n[0].value,i),r=n[n.length-1].value,a,l;for(a=s;a<=r;a=+o.add(a,1,i))l=e[a],l>=0&&(n[l].major=!0);return n}function Na(t,n,e){let i=[],o={},s=n.length,r,a;for(r=0;r<s;++r)a=n[r],o[a]=r,i.push({value:a,major:!1});return s===0||!e?i:Uu(t,i,o,e)}var ns=(()=>{class t extends Ot{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let o=e.time||(e.time={}),s=this._adapter=new nd._date(e.adapters.date);s.init(i),Xt(o.displayFormats,s.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:Ia(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,o=e.time.unit||"day",{min:s,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=te(s)&&!isNaN(s)?s:+i.startOf(Date.now(),o),r=te(r)&&!isNaN(r)?r:+i.endOf(Date.now(),o)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],o=e[e.length-1]),{min:i,max:o}}buildTicks(){let e=this.options,i=e.time,o=e.ticks,s=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let r=this.min,a=this.max,l=dr(s,r,a);return this._unit=i.unit||(o.autoSkip?Da(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):Wu(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:ju(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),Na(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,o=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?i=1-s:i=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?o=r:o=(r-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=he(i,0,a),o=he(o,0,a),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let e=this._adapter,i=this.min,o=this.max,s=this.options,r=s.time,a=r.unit||Da(r.minUnit,i,o,this._getLabelCapacity(i)),l=O(s.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,d=Et(c)||c===!0,h={},u=i,p,f;if(d&&(u=+e.startOf(u,"isoWeek",c)),u=+e.startOf(u,d?"day":a),e.diff(o,i,a)>1e5*l)throw new Error(i+" and "+o+" are too far apart with stepSize of "+l+" "+a);let g=s.ticks.source==="data"&&this.getDataTimestamps();for(p=u,f=0;p<o;p=+e.add(p,l,a),f++)Ea(h,p,g);return(p===o||s.bounds==="ticks"||f===1)&&Ea(h,p,g),Object.keys(h).sort(Ma).map(m=>+m)}getLabelForValue(e){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(e,o.tooltipFormat):i.format(e,o.displayFormats.datetime)}format(e,i){let s=this.options.time.displayFormats,r=this._unit,a=i||s[r];return this._adapter.format(e,a)}_tickFormatFunction(e,i,o,s){let r=this.options,a=r.ticks.callback;if(a)return q(a,[e,i,o],this);let l=r.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],u=d&&l[d],p=o[i],f=d&&u&&p&&p.major;return this._adapter.format(e,s||(f?u:h))}generateTickLabels(e){let i,o,s;for(i=0,o=e.length;i<o;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(e){let i=this._offsets,o=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,o=this.ctx.measureText(e).width,s=Ee(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:o*r+l*a,h:o*a+l*r}}_getLabelCapacity(e){let i=this.options.time,o=i.displayFormats,s=o[i.unit]||o.millisecond,r=this._tickFormatFunction(e,0,Na(this,[e],this._majorUnit),s),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],i,o;if(e.length)return e;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,o=s.length;i<o;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,o;if(e.length)return e;let s=this.getLabels();for(i=0,o=s.length;i<o;++i)e.push(Ia(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lo(e.sort(Ma))}}return t})();function xn(t,n,e){let i=0,o=t.length-1,s,r,a,l;e?(n>=t[i].pos&&n<=t[o].pos&&({lo:i,hi:o}=Be(t,"pos",n)),{pos:s,time:a}=t[i],{pos:r,time:l}=t[o]):(n>=t[i].time&&n<=t[o].time&&({lo:i,hi:o}=Be(t,"time",n)),{time:s,pos:a}=t[i],{time:r,pos:l}=t[o]);let c=r-s;return c?a+(l-a)*(n-s)/c:a}var os=class extends ns{static id="timeseries";static defaults=ns.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=xn(e,this.min),this._tableRange=xn(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:i}=this,o=[],s=[],r,a,l,c,d;for(r=0,a=n.length;r<a;++r)c=n[r],c>=e&&c<=i&&o.push(c);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(r=0,a=o.length;r<a;++r)d=o[r+1],l=o[r-1],c=o[r],Math.round((d+l)/2)!==c&&s.push({time:c,pos:r/(a-1)});return s}_generate(){let n=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(n)||!i.length)&&i.splice(0,0,n),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((o,s)=>o-s)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?n=this.normalize(e.concat(i)):n=e.length?e:i,n=this._cache.all=n,n}getDecimalForValue(n){return(xn(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,i=this.getDecimalForPixel(n)/e.factor-e.end;return xn(this._table,i*this._tableRange+this._minPos,!0)}},Ku=Object.freeze({__proto__:null,CategoryScale:ku,LinearScale:Zo,LogarithmicScale:es,RadialLinearScale:is,TimeScale:ns,TimeSeriesScale:os}),Za=[id,Ih,Tu,Ku];Dn.register(...Za);var el=Dn;var Qu=(()=>{class t{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new H;isBrowser=!1;initialized;_data;_options={};chart;constructor(e,i,o){this.platformId=e,this.el=i,this.zone=o}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let i=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),o=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);i&&i[0]&&o&&this.onDataSelect.emit({originalEvent:e,element:i[0],dataset:o})}}initChart(){if($t(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new el(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(i){return new(i||t)(Z(Hi),Z(ci),Z(wt))};static \u0275cmp=Ie({type:t,selectors:[["p-chart"]],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",z],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[Pe],decls:2,vars:8,consts:[[2,"position","relative"],["role","img",3,"click"]],template:function(i,o){i&1&&(P(0,"div",0)(1,"canvas",1),ae("click",function(r){return o.onCanvasClick(r)}),L()()),i&2&&(Ve("width",o.responsive&&!o.width?null:o.width)("height",o.responsive&&!o.height?null:o.height),v(),de("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("width",o.responsive&&!o.width?null:o.width)("height",o.responsive&&!o.height?null:o.height))},dependencies:[Xe,Te],encapsulation:2,changeDetection:0})}return t})(),_b=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=lt({type:t});static \u0275inj=at({imports:[Qu,Te,Te]})}return t})();var qu=({dt:t})=>`
.p-divider-horizontal {
    display: flex;
    width: 100%;
    position: relative;
    align-items: center;
    margin: ${t("divider.horizontal.margin")};
    padding: ${t("divider.horizontal.padding")};
}

.p-divider-horizontal:before {
    position: absolute;
    display: block;
    inset-block-start: 50%;
    inset-inline-start: 0;
    width: 100%;
    content: "";
    border-block-start: 1px solid ${t("divider.border.color")};
}

.p-divider-horizontal .p-divider-content {
    padding: ${t("divider.horizontal.content.padding")};
}

.p-divider-vertical {
    min-height: 100%;
    display: flex;
    position: relative;
    justify-content: center;
    margin: ${t("divider.vertical.margin")};
    padding: ${t("divider.vertical.padding")};
}

.p-divider-vertical:before {
    position: absolute;
    display: block;
    inset-block-start: 0;
    inset-inline-start: 50%;
    height: 100%;
    content: "";
    border-inline-start: 1px solid ${t("divider.border.color")};
}

.p-divider.p-divider-vertical .p-divider-content {
    padding: ${t("divider.vertical.content.padding")};
}

.p-divider-content {
    z-index: 1;
    background: ${t("divider.content.background")};
    color: ${t("divider.content.color")};
}

.p-divider-solid.p-divider-horizontal:before {
    border-block-start-style: solid;
}

.p-divider-solid.p-divider-vertical:before {
    border-inline-start-style: solid;
}

.p-divider-dashed.p-divider-horizontal:before {
    border-block-start-style: dashed;
}

.p-divider-dashed.p-divider-vertical:before {
    border-inline-start-style: dashed;
}

.p-divider-dotted.p-divider-horizontal:before {
    border-block-start-style: dotted;
}

.p-divider-dotted.p-divider-vertical:before {
    border-inline-start-style: dotted;
}

.p-divider-left:dir(rtl),
.p-divider-right:dir(rtl) {
    flex-direction: row-reverse;
}
`,Yu={root:({props:t})=>({justifyContent:t.layout==="horizontal"?t.align==="center"||t.align===null?"center":t.align==="left"?"flex-start":t.align==="right"?"flex-end":null:null,alignItems:t.layout==="vertical"?t.align==="center"||t.align===null?"center":t.align==="top"?"flex-start":t.align==="bottom"?"flex-end":null:null})},Xu={root:({props:t})=>["p-divider p-component","p-divider-"+t.layout,"p-divider-"+t.type,{"p-divider-left":t.layout==="horizontal"&&(!t.align||t.align==="left")},{"p-divider-center":t.layout==="horizontal"&&t.align==="center"},{"p-divider-right":t.layout==="horizontal"&&t.align==="right"},{"p-divider-top":t.layout==="vertical"&&t.align==="top"},{"p-divider-center":t.layout==="vertical"&&(!t.align||t.align==="center")},{"p-divider-bottom":t.layout==="vertical"&&t.align==="bottom"}],content:"p-divider-content"},tl=(()=>{class t extends jt{name="divider";theme=qu;classes=Xu;inlineStyles=Yu;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ae(t)))(o||t)}})();static \u0275prov=rt({token:t,factory:t.\u0275fac})}return t})();var Gu=["*"],Ju=(()=>{class t extends dt{style;styleClass;layout="horizontal";type="solid";align;_componentStyle=Fe(tl);get hostClass(){return this.styleClass}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ae(t)))(o||t)}})();static \u0275cmp=Ie({type:t,selectors:[["p-divider"]],hostVars:33,hostBindings:function(i,o){i&2&&(de("aria-orientation",o.layout)("data-pc-name","divider")("role","separator"),Le(o.hostClass),Ve("justify-content",o.layout==="horizontal"?o.align==="center"||o.align===void 0?"center":o.align==="left"?"flex-start":o.align==="right"?"flex-end":null:null)("align-items",o.layout==="vertical"?o.align==="center"||o.align===void 0?"center":o.align==="top"?"flex-start":o.align==="bottom"?"flex-end":null:null),$i("p-divider",!0)("p-component",!0)("p-divider-horizontal",o.layout==="horizontal")("p-divider-vertical",o.layout==="vertical")("p-divider-solid",o.type==="solid")("p-divider-dashed",o.type==="dashed")("p-divider-dotted",o.type==="dotted")("p-divider-left",o.layout==="horizontal"&&(!o.align||o.align==="left"))("p-divider-center",o.layout==="horizontal"&&o.align==="center"||o.layout==="vertical"&&(!o.align||o.align==="center"))("p-divider-right",o.layout==="horizontal"&&o.align==="right")("p-divider-top",o.layout==="vertical"&&o.align==="top")("p-divider-bottom",o.layout==="vertical"&&o.align==="bottom"))},inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},features:[Vt([tl]),ct],ngContentSelectors:Gu,decls:2,vars:0,consts:[[1,"p-divider-content"]],template:function(i,o){i&1&&(us(),P(0,"div",0),ps(1),L())},dependencies:[Xe,Te],encapsulation:2,changeDetection:0})}return t})(),Pb=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=lt({type:t});static \u0275inj=at({imports:[Ju]})}return t})();var ip=({dt:t})=>`
.p-tree {
    background: ${t("tree.background")};
    color: ${t("tree.color")};
    padding: ${t("tree.padding")};
}

.p-tree-root-children,
.p-tree-node-children {
    display: flex;
    list-style-type: none;
    flex-direction: column;
    margin: 0;
    gap: ${t("tree.gap")};
}

.p-tree-root-children {
    padding: 0;
    padding-block-start: ${t("tree.gap")};
}

.p-tree-node-children {
    padding-block-start: ${t("tree.gap")};
    padding-inline-start: ${t("tree.indent")};
}

.p-tree-node {
    padding: 0;
    outline: 0 none;
}

.p-tree-node-content {
    border-radius: ${t("tree.node.border.radius")};
    padding: ${t("tree.node.padding")};
    display: flex;
    align-items: center;
    outline-color: transparent;
    color: ${t("tree.node.color")};
    gap: ${t("tree.node.gap")};
    transition: background ${t("tree.transition.duration")}, color ${t("tree.transition.duration")}, outline-color ${t("tree.transition.duration")}, box-shadow ${t("tree.transition.duration")};
}

.p-tree-node:focus-visible > .p-tree-node-content {
    box-shadow: ${t("tree.node.focus.ring.shadow")};
    outline: ${t("tree.node.focus.ring.width")} ${t("tree.node.focus.ring.style")} ${t("tree.node.focus.ring.color")};
    outline-offset: ${t("tree.node.focus.ring.offset")};
}

.p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover {
    background: ${t("tree.node.hover.background")};
    color: ${t("tree.node.hover.color")};
}

.p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover .p-tree-node-icon {
    color: ${t("tree.node.icon.hover.color")};
}

.p-tree-node-content.p-tree-node-selected {
    background: ${t("tree.node.selected.background")};
    color: ${t("tree.node.selected.color")};
}

.p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button {
    color: inherit;
}

.p-tree-node-toggle-button {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    flex-shrink: 0;
    width: ${t("tree.node.toggle.button.size")};
    height: ${t("tree.node.toggle.button.size")};
    color: ${t("tree.node.toggle.button.color")};
    border: 0 none;
    background: transparent;
    border-radius: ${t("tree.node.toggle.button.border.radius")};
    transition: background ${t("tree.transition.duration")}, color ${t("tree.transition.duration")}, border-color ${t("tree.transition.duration")}, outline-color ${t("tree.transition.duration")}, box-shadow ${t("tree.transition.duration")};
    outline-color: transparent;
    padding: 0;
}

.p-tree-node-toggle-button:enabled:hover {
    background: ${t("tree.node.toggle.button.hover.background")};
    color: ${t("tree.node.toggle.button.hover.color")};
}

.p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button:hover {
    background: ${t("tree.node.toggle.button.selected.hover.background")};
    color: ${t("tree.node.toggle.button.selected.hover.color")};
}

.p-tree-root {
    overflow: auto;
}

.p-tree-node-selectable {
    cursor: pointer;
    user-select: none;
}

.p-tree-node-leaf > .p-tree-node-content .p-tree-node-toggle-button {
    visibility: hidden;
}

.p-tree-node-icon {
    color: ${t("tree.node.icon.color")};
    transition: color ${t("tree.transition.duration")};
}

.p-tree-node-content.p-tree-node-selected .p-tree-node-icon {
    color: ${t("tree.node.icon.selected.color")};
}

.p-tree-filter-input {
    width: 100%;
}

.p-tree-loading {
    position: relative;
    height: 100%;
}

.p-tree-loading-icon {
    font-size: ${t("tree.loading.icon.size")};
    width: ${t("tree.loading.icon.size")};
    height: ${t("tree.loading.icon.size")};
}

.p-tree .p-tree-mask {
    position: absolute;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-tree-flex-scrollable {
    display: flex;
    flex: 1;
    height: 100%;
    flex-direction: column;
}

.p-tree-flex-scrollable .p-tree-root {
    flex: 1;
}

/* For PrimeNG */
.p-tree .p-tree-node-droppoint {
    height: 4px;
    list-style-type: none;
}

.p-tree .p-tree-node-droppoint-active {
    border: 0 none;
    background-color: ${t("primary.color")};
}

.p-tree-node-content.p-tree-node-dragover {
    background: ${t("tree.node.hover.background")};
    color: ${t("tree.node.hover.color")};
}

.p-tree-node-content.p-tree-node-dragover .p-tree-node-icon {
    color: ${t("tree.node.icon.hover.color")};
}

.p-tree-horizontal {
    width: auto;
    padding-inline-start: 0;
    padding-inline-end: 0;
    overflow: auto;
}

.p-tree.p-tree-horizontal table,
.p-tree.p-tree-horizontal tr,
.p-tree.p-tree-horizontal td {
    border-collapse: collapse;
    margin: 0;
    padding: 0;
    vertical-align: middle;
}

.p-tree-horizontal .p-tree-node-content {
    font-weight: normal;
    padding: 0.4em 1em 0.4em 0.2em;
    display: flex;
    align-items: center;
}

.p-tree-horizontal .p-tree-node-parent .p-tree-node-content {
    font-weight: normal;
    white-space: nowrap;
}

.p-tree.p-tree-horizontal .p-tree-node.p-tree-node-leaf,
.p-tree.p-tree-horizontal .p-tree-node.p-tree-node-collapsed {
    padding-inline-end: 0;
}

.p-tree.p-tree-horizontal .p-tree-node-children {
    padding: 0;
    margin: 0;
}

.p-tree.p-tree-horizontal .p-tree-node-connector {
    width: 1px;
}

.p-tree.p-tree-horizontal .p-tree-node-connector-table {
    height: 100%;
    width: 1px;
}

.p-tree.p-tree-horizontal table {
    height: 0;
}
`,np={root:({instance:t})=>({"p-tree p-component":!0,"p-tree-selectable":t.selectionMode!=null,"p-tree-loading":t.loading,"p-tree-flex-scrollable":t.scrollHeight==="flex","p-tree-node-dragover":t.dragHover}),mask:"p-tree-mask p-overlay-mask",loadingIcon:"p-tree-loading-icon",pcFilterInput:"p-tree-filter-input",wrapper:"p-tree-root",rootChildren:"p-tree-root-children",node:({instance:t})=>({"p-tree-node":!0,"p-tree-node-leaf":t.isLeaf()}),nodeContent:({instance:t})=>({"p-tree-node-content":!0,[t.styleClass]:!!t.styleClass,"p-tree-node-selectable":t.selectable,"p-tree-node-dragover":t.draghoverNode,"p-tree-node-selected":t.selectionMode==="checkbox"&&t.tree.highlightOnSelect?t.checked:t.selected}),nodeToggleButton:"p-tree-node-toggle-button",nodeToggleIcon:"p-tree-node-toggle-icon",nodeCheckbox:"p-tree-node-checkbox",nodeIcon:"p-tree-node-icon",nodeLabel:"p-tree-node-label",nodeChildren:"p-tree-node-children"},il=(()=>{class t extends jt{name="tree";theme=ip;classes=np;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ae(t)))(o||t)}})();static \u0275prov=rt({token:t,factory:t.\u0275fac})}return t})();var ol=t=>({height:t}),sl=t=>({"p-tree-node-droppoint-active":t}),cs=t=>({$implicit:t}),op=(t,n)=>({$implicit:t,partialSelected:n,class:"p-tree-node-checkbox"});function sp(t,n){if(t&1){let e=Oe();P(0,"li",11),ae("drop",function(o){W(e);let s=k(2);return j(s.onDropPoint(o,-1))})("dragover",function(o){W(e);let s=k(2);return j(s.onDropPointDragOver(o))})("dragenter",function(o){W(e);let s=k(2);return j(s.onDropPointDragEnter(o,-1))})("dragleave",function(o){W(e);let s=k(2);return j(s.onDropPointDragLeave(o))}),L()}if(t&2){let e=k(2);y("ngClass",ne(2,sl,e.draghoverPrev)),de("aria-hidden",!0)}}function rp(t,n){t&1&&ee(0,"ChevronRightIcon",13),t&2&&y("styleClass","p-tree-node-toggle-icon")}function ap(t,n){t&1&&ee(0,"ChevronDownIcon",13),t&2&&y("styleClass","p-tree-node-toggle-icon")}function lp(t,n){if(t&1&&(ue(0),S(1,rp,1,1,"ChevronRightIcon",12)(2,ap,1,1,"ChevronDownIcon",12),pe()),t&2){let e=k(3);v(),y("ngIf",!e.node.expanded),v(),y("ngIf",e.node.expanded)}}function cp(t,n){t&1&&(ue(0),ee(1,"SpinnerIcon",13),pe()),t&2&&(v(),y("styleClass","pi-spin p-tree-node-toggle-icon"))}function dp(t,n){if(t&1&&(ue(0),S(1,lp,3,2,"ng-container",5)(2,cp,2,1,"ng-container",5),pe()),t&2){let e=k(2);v(),y("ngIf",!e.node.loading),v(),y("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function hp(t,n){}function up(t,n){t&1&&S(0,hp,0,0,"ng-template")}function pp(t,n){if(t&1&&(P(0,"span",14),S(1,up,1,0,null,15),L()),t&2){let e=k(2);v(),y("ngTemplateOutlet",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate)("ngTemplateOutletContext",ne(2,cs,e.node.expanded))}}function fp(t,n){}function gp(t,n){t&1&&S(0,fp,0,0,"ng-template")}function mp(t,n){if(t&1&&S(0,gp,1,0,null,15),t&2){let e=k(4);y("ngTemplateOutlet",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)("ngTemplateOutletContext",Ke(2,op,e.isSelected(),e.node.partialSelected))}}function bp(t,n){t&1&&(ue(0),S(1,mp,1,5,"ng-template",null,0,Qe),pe())}function _p(t,n){if(t&1){let e=Oe();P(0,"p-checkbox",16),ae("click",function(o){return W(e),j(o.preventDefault())}),S(1,bp,3,0,"ng-container",5),L()}if(t&2){let e=k(2);y("ngModel",e.isSelected())("binary",!0)("indeterminate",e.node.partialSelected)("disabled",e.node.selectable===!1)("variant",((e.tree==null?null:e.tree.config.inputStyle())==="filled","filled"))("tabindex",-1),de("data-p-partialchecked",e.node.partialSelected),v(),y("ngIf",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)}}function yp(t,n){if(t&1&&ee(0,"span"),t&2){let e=k(2);Le(e.getIcon())}}function xp(t,n){if(t&1&&(P(0,"span"),zn(1),L()),t&2){let e=k(2);v(),fs(e.node.label)}}function vp(t,n){t&1&&U(0)}function Tp(t,n){if(t&1&&(P(0,"span"),S(1,vp,1,0,"ng-container",15),L()),t&2){let e=k(2);v(),y("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",ne(2,cs,e.node))}}function wp(t,n){if(t&1&&ee(0,"p-treeNode",19),t&2){let e=n.$implicit,i=n.first,o=n.last,s=n.index,r=k(3);y("node",e)("parentNode",r.node)("firstChild",i)("lastChild",o)("index",s)("itemSize",r.itemSize)("level",r.level+1)("loadingMode",r.loadingMode)}}function Cp(t,n){if(t&1&&(P(0,"ul",17),S(1,wp,1,8,"p-treeNode",18),L()),t&2){let e=k(2);Ve("display",e.node.expanded?"block":"none"),v(),y("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy.bind(e))}}function Sp(t,n){if(t&1){let e=Oe();P(0,"li",11),ae("drop",function(o){W(e);let s=k(2);return j(s.onDropPoint(o,1))})("dragover",function(o){W(e);let s=k(2);return j(s.onDropPointDragOver(o))})("dragenter",function(o){W(e);let s=k(2);return j(s.onDropPointDragEnter(o,1))})("dragleave",function(o){W(e);let s=k(2);return j(s.onDropPointDragLeave(o))}),L()}if(t&2){let e=k(2);y("ngClass",ne(2,sl,e.draghoverNext)),de("aria-hidden",!0)}}function kp(t,n){if(t&1){let e=Oe();S(0,sp,1,4,"li",1),P(1,"li",2),ae("keydown",function(o){W(e);let s=k();return j(s.onKeyDown(o))}),P(2,"div",3),ae("click",function(o){W(e);let s=k();return j(s.onNodeClick(o))})("contextmenu",function(o){W(e);let s=k();return j(s.onNodeRightClick(o))})("touchend",function(){W(e);let o=k();return j(o.onNodeTouchEnd())})("drop",function(o){W(e);let s=k();return j(s.onDropNode(o))})("dragover",function(o){W(e);let s=k();return j(s.onDropNodeDragOver(o))})("dragenter",function(o){W(e);let s=k();return j(s.onDropNodeDragEnter(o))})("dragleave",function(o){W(e);let s=k();return j(s.onDropNodeDragLeave(o))})("dragstart",function(o){W(e);let s=k();return j(s.onDragStart(o))})("dragend",function(o){W(e);let s=k();return j(s.onDragStop(o))}),P(3,"button",4),ae("click",function(o){W(e);let s=k();return j(s.toggle(o))}),S(4,dp,3,2,"ng-container",5)(5,pp,2,4,"span",6),L(),S(6,_p,2,8,"p-checkbox",7)(7,yp,1,2,"span",8),P(8,"span",9),S(9,xp,2,1,"span",5)(10,Tp,2,4,"span",5),L()(),S(11,Cp,2,4,"ul",10),L(),S(12,Sp,1,4,"li",1)}if(t&2){let e=k();y("ngIf",e.tree.droppableNodes),v(),Ct(e.node.style),y("ngClass",e.nodeClass)("ngStyle",ne(27,ol,e.itemSize+"px")),de("aria-label",e.node.label)("aria-checked",e.checked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.selected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),v(),Ve("padding-left",e.level*e.indentation+"rem"),y("ngClass",e.nodeContentClass)("draggable",e.tree.draggableNodes),v(),de("data-pc-section","toggler"),v(),y("ngIf",!e.tree.togglerIconTemplate&&!e.tree._togglerIconTemplate),v(),y("ngIf",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate),v(),y("ngIf",e.tree.selectionMode=="checkbox"),v(),y("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),v(2),y("ngIf",!e.tree.getTemplateForNode(e.node)),v(),y("ngIf",e.tree.getTemplateForNode(e.node)),v(),y("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded),v(),y("ngIf",e.tree.droppableNodes&&e.lastChild)}}var nl=["filter"],Mp=["node"],Ip=["header"],Dp=["footer"],Ep=["loader"],Np=["empty"],Pp=["togglericon"],Lp=["checkboxicon"],Op=["loadingicon"],zp=["filtericon"],Rp=["scroller"],Fp=["wrapper"],Ap=t=>({options:t});function Vp(t,n){if(t&1&&ee(0,"i"),t&2){let e=k(2);Le("p-tree-loading-icon pi-spin "+e.loadingIcon)}}function Bp(t,n){t&1&&ee(0,"SpinnerIcon",16),t&2&&y("spin",!0)("styleClass","p-tree-loading-icon")}function Hp(t,n){}function $p(t,n){t&1&&S(0,Hp,0,0,"ng-template")}function Wp(t,n){if(t&1&&(P(0,"span",17),S(1,$p,1,0,null,9),L()),t&2){let e=k(3);v(),y("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function jp(t,n){if(t&1&&(ue(0),S(1,Bp,1,2,"SpinnerIcon",14)(2,Wp,2,1,"span",15),pe()),t&2){let e=k(2);v(),y("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),v(),y("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function Up(t,n){if(t&1&&(P(0,"div",12),S(1,Vp,1,2,"i",13)(2,jp,3,2,"ng-container",10),L()),t&2){let e=k();v(),y("ngIf",e.loadingIcon),v(),y("ngIf",!e.loadingIcon)}}function Kp(t,n){t&1&&U(0)}function Qp(t,n){t&1&&U(0)}function qp(t,n){if(t&1&&S(0,Qp,1,0,"ng-container",18),t&2){let e=k();y("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",ne(2,cs,e.filterOptions))}}function Yp(t,n){t&1&&ee(0,"SearchIcon",21)}function Xp(t,n){}function Gp(t,n){t&1&&S(0,Xp,0,0,"ng-template")}function Jp(t,n){if(t&1&&(P(0,"span"),S(1,Gp,1,0,null,9),L()),t&2){let e=k(3);v(),y("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function Zp(t,n){if(t&1){let e=Oe();P(0,"p-iconField")(1,"input",19,0),ae("keydown.enter",function(o){return W(e),j(o.preventDefault())})("input",function(o){W(e);let s=k(2);return j(s._filter(o.target.value))}),L(),P(3,"p-inputIcon"),S(4,Yp,1,0,"SearchIcon",20)(5,Jp,2,1,"span",10),L()()}if(t&2){let e=k(2);v(),de("placeholder",e.filterPlaceholder),v(3),y("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),v(),y("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function ef(t,n){if(t&1&&S(0,Zp,6,3,"p-iconField",10),t&2){let e=k();y("ngIf",e.filter)}}function tf(t,n){if(t&1&&ee(0,"p-treeNode",27,3),t&2){let e=n.$implicit,i=n.first,o=n.last,s=n.index,r=k(2).options,a=k(3);y("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",i)("lastChild",o)("index",a.getIndex(r,s))("itemSize",r.itemSize)("indentation",a.indentation)("loadingMode",a.loadingMode)}}function nf(t,n){if(t&1&&(P(0,"ul",25),S(1,tf,2,10,"p-treeNode",26),L()),t&2){let e=k(),i=e.$implicit,o=e.options,s=k(3);Ct(o.contentStyle),y("ngClass",o.contentStyleClass),de("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledBy),v(),y("ngForOf",i)("ngForTrackBy",s.trackBy)}}function of(t,n){if(t&1&&S(0,nf,2,7,"ul",24),t&2){let e=n.$implicit;y("ngIf",e)}}function sf(t,n){t&1&&U(0)}function rf(t,n){if(t&1&&S(0,sf,1,0,"ng-container",18),t&2){let e=n.options,i=k(4);y("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",ne(2,Ap,e))}}function af(t,n){t&1&&(ue(0),S(1,rf,1,4,"ng-template",null,4,Qe),pe())}function lf(t,n){if(t&1){let e=Oe();P(0,"p-scroller",23,1),ae("onScroll",function(o){W(e);let s=k(2);return j(s.onScroll.emit(o))})("onScrollIndexChange",function(o){W(e);let s=k(2);return j(s.onScrollIndexChange.emit(o))})("onLazyLoad",function(o){W(e);let s=k(2);return j(s.onLazyLoad.emit(o))}),S(2,of,1,1,"ng-template",null,2,Qe)(4,af,3,0,"ng-container",10),L()}if(t&2){let e=k(2);Ct(ne(9,ol,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),y("items",e.serializedValue)("tabindex",-1)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualNodeHeight)("lazy",e.lazy)("options",e.virtualScrollOptions),v(4),y("ngIf",e.loaderTemplate||e._loaderTemplate)}}function cf(t,n){if(t&1&&ee(0,"p-treeNode",32),t&2){let e=n.$implicit,i=n.first,o=n.last,s=n.index,r=k(4);y("node",e)("firstChild",i)("lastChild",o)("index",s)("level",0)("loadingMode",r.loadingMode)}}function df(t,n){if(t&1&&(P(0,"ul",30),S(1,cf,1,6,"p-treeNode",31),L()),t&2){let e=k(3);de("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),v(),y("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy.bind(e))}}function hf(t,n){if(t&1&&(ue(0),P(1,"div",28,5),S(3,df,2,4,"ul",29),L(),pe()),t&2){let e=k(2);v(),Ve("max-height",e.scrollHeight),v(2),y("ngIf",e.getRootNode())}}function uf(t,n){if(t&1&&(ue(0),S(1,lf,5,11,"p-scroller",22)(2,hf,4,3,"ng-container",10),pe()),t&2){let e=k();v(),y("ngIf",e.virtualScroll),v(),y("ngIf",!e.virtualScroll)}}function pf(t,n){if(t&1&&(ue(0),zn(1),pe()),t&2){let e=k(2);v(),gs(" ",e.emptyMessageLabel," ")}}function ff(t,n){}function gf(t,n){t&1&&S(0,ff,0,0,"ng-template",null,6,Qe)}function mf(t,n){if(t&1&&(P(0,"div",33),S(1,pf,2,1,"ng-container",34)(2,gf,2,0,null,9),L()),t&2){let e=k();v(),y("ngIf",!e.emptyMessageTemplate&&!e._emptyMessageTemplate)("ngIfElse",e.emptyFilter),v(),y("ngTemplateOutlet",e.emptyMessageTemplate||e._emptyMessageTemplate)}}function bf(t,n){t&1&&U(0)}var _f=(()=>{class t extends dt{static ICON_CLASS="p-tree-node-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree=Fe(ds(()=>rl));timeout;draghoverPrev;draghoverNext;draghoverNode;get selected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this.isSelected():void 0}get checked(){return this.tree.selectionMode==="checkbox"?this.isSelected():void 0}get nodeClass(){return this.tree._componentStyle.classes.node({instance:this})}get nodeContentClass(){return this.tree._componentStyle.classes.nodeContent({instance:this})}get selectable(){return this.node.selectable===!1?!1:this.tree.selectionMode!=null}ngOnInit(){super.ngOnInit(),this.node.parent=this.parentNode;let i=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!i&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,t.ICON_CLASS+" "+e+" p-tree-node-icon"}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}onDropPoint(e,i){e.preventDefault();let o=this.tree.dragNode,s=this.tree.dragNodeIndex,r=this.tree.dragNodeScope,a=this.tree.dragNodeTree===this.tree?i===1||s!==this.index-1:!0;if(this.tree.allowDrop(o,this.node,r)&&a){let l=xe({},this.createDropPointEventMetadata(i));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:o,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(l)}}):(this.processPointDrop(l),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:o,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(e){let i=e.dropNode.parent?e.dropNode.parent.children:this.tree.value;e.dragNodeSubNodes.splice(e.dragNodeIndex,1);let o=this.index;e.position<0?(o=e.dragNodeSubNodes===i?e.dragNodeIndex>e.index?e.index:e.index-1:e.index,i.splice(o,0,e.dragNode)):(o=i.length,i.push(e.dragNode)),this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:e.dragNodeIndex})}createDropPointEventMetadata(e){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:e}}onDropPointDragOver(e){e.dataTransfer.dropEffect="move",e.preventDefault()}onDropPointDragEnter(e,i){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(i<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(e){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(e){this.tree.draggableNodes&&this.node.draggable!==!1?(e.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):e.preventDefault()}onDragStop(e){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(e){e.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onDropNode(e){if(this.tree.droppableNodes&&this.node?.droppable!==!1){let i=this.tree.dragNode;if(this.tree.allowDrop(i,this.node,this.tree.dragNodeScope)){let o=xe({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(o)}}):(this.processNodeDrop(o),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:this.node,index:this.index}))}}e.preventDefault(),e.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(e){let i=e.dragNodeIndex;e.dragNodeSubNodes.splice(i,1),e.dropNode.children?e.dropNode.children.push(e.dragNode):e.dropNode.children=[e.dragNode],this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:i})}onDropNodeDragEnter(e){this.tree.droppableNodes&&this.node?.droppable!==!1&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(e){if(this.tree.droppableNodes){let i=e.currentTarget.getBoundingClientRect();(e.x>i.left+i.width||e.x<i.left||e.y>=Math.floor(i.top+i.height)||e.y<i.top)&&(this.draghoverNode=!1)}}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(i.previousElementSibling)this.focusRowChange(i,i.previousElementSibling,this.findLastVisibleDescendant(i.previousElementSibling));else{let o=this.getParentNodeElement(i);o&&this.focusRowChange(i,o)}e.preventDefault()}onArrowDown(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target,o=i.children[1];if(o&&o.children.length>0)this.focusRowChange(i,o.children[0]);else if(i.parentElement.nextElementSibling)this.focusRowChange(i,i.parentElement.nextElementSibling);else{let s=this.findNextSiblingOfAncestor(i.parentElement);s&&this.focusRowChange(i,s)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let o=this.getParentNodeElement(i.parentElement);o&&this.focusRowChange(e.currentTarget,o),e.preventDefault()}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),e.preventDefault()}setAllNodesTabIndexes(){let e=Ge(this.tree.el.nativeElement,".p-tree-node"),i=[...e].some(o=>o.getAttribute("aria-selected")==="true"||o.getAttribute("aria-checked")==="true");if([...e].forEach(o=>{o.tabIndex=-1}),i){let o=[...e].filter(s=>s.getAttribute("aria-selected")==="true"||s.getAttribute("aria-checked")==="true");o[0].tabIndex=0;return}e.length&&([...e][0].tabIndex=0)}setTabIndexForSelectionMode(e,i){if(this.tree.selectionMode!==null){let o=[...Ge(this.tree.el.nativeElement,'[role="treeitem"]')];e.currentTarget.tabIndex=i===!1?-1:0,o.every(s=>s.tabIndex===-1)&&(o[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let i=this.getParentNodeElement(e);return i?i.nextElementSibling?i.nextElementSibling:this.findNextSiblingOfAncestor(i):null}findLastVisibleDescendant(e){let o=Array.from(e.children).find(s=>St(s,"p-tree-node"))?.children[1];if(o&&o.children.length>0){let s=o.children[o.children.length-1];return this.findLastVisibleDescendant(s)}else return e}getParentNodeElement(e){let i=e.parentElement?.parentElement?.parentElement;return i?.tagName==="P-TREENODE"?i:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,i,o){e.tabIndex="-1",i.children[0].tabIndex="0",this.focusNode(o||i)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=le(document.body,`[data-id="${this.node?.key??this.node?.data}"]`);Wt(e)},1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ae(t)))(o||t)}})();static \u0275cmp=Ie({type:t,selectors:[["p-treeNode"]],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",z],index:[2,"index","index",ve],firstChild:[2,"firstChild","firstChild",z],lastChild:[2,"lastChild","lastChild",z],level:[2,"level","level",ve],indentation:[2,"indentation","indentation",ve],itemSize:[2,"itemSize","itemSize",ve],loadingMode:"loadingMode"},features:[Pe,ct],decls:1,vars:1,consts:[["icon",""],["class","p-tree-node-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"keydown","ngClass","ngStyle"],[3,"click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","ngClass","draggable"],["type","button","pRipple","","tabindex","-1",1,"p-tree-node-toggle-button",3,"click"],[4,"ngIf"],["class","p-tree-node-toggle-icon",4,"ngIf"],["styleClass","p-tree-node-checkbox",3,"ngModel","binary","indeterminate","disabled","variant","tabindex","click",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-tree-node-label"],["class","p-tree-node-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-tree-node-droppoint",3,"drop","dragover","dragenter","dragleave","ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-tree-node-toggle-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["styleClass","p-tree-node-checkbox",3,"click","ngModel","binary","indeterminate","disabled","variant","tabindex"],["role","group",1,"p-tree-node-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"]],template:function(i,o){i&1&&S(0,kp,13,29),i&2&&Ln(o.node?0:-1)},dependencies:[t,Xe,Bt,di,qe,Ye,Ht,Wi,mi,pi,ji,Ui,gi,fi,Ut,Te],encapsulation:2})}return t})(),rl=(()=>{class t extends dt{dragDropService;value;selectionMode;loadingMode="mask";selection;style;styleClass;contextMenu;draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterBy="label";filterMode="lenient";filterOptions;filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,i)=>i;highlightOnSelect=!1;_virtualNodeHeight;get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(e){this._virtualNodeHeight=e,console.log("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}selectionChange=new H;onNodeSelect=new H;onNodeUnselect=new H;onNodeExpand=new H;onNodeCollapse=new H;onNodeContextMenuSelect=new H;onNodeDrop=new H;onLazyLoad=new H;onScroll=new H;onScrollIndexChange=new H;onFilter=new H;filterTemplate;nodeTemplate;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;filterViewChild;scroller;wrapperViewChild;templates;_headerTemplate;_emptyMessageTemplate;_footerTemplate;_loaderTemplate;_togglerIconTemplate;_checkboxIconTemplate;_loadingIconTemplate;_filterIconTemplate;_filterTemplate;ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"empty":this._emptyMessageTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"togglericon":this._togglerIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}serializedValue;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;_componentStyle=Fe(il);constructor(e){super(),this.dragDropService=e}ngOnInit(){super.ngOnInit(),this.filterBy&&(this.filterOptions={filter:e=>this._filter(e),reset:()=>this.resetFilter()}),this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(e){super.ngOnChanges(e),e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get containerClass(){return this._componentStyle.classes.root({instance:this})}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ks.EMPTY_MESSAGE)}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,i,o,s){if(i&&i.length)for(let r of i){r.parent=e;let a={node:r,parent:e,level:o,visible:s&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&r.expanded&&this.serializeNodes(r,r.children,o+1,a.visible)}}onNodeClick(e,i){let o=e.target;if(!(St(o,"p-tree-toggler")||St(o,"p-tree-toggler-icon"))){if(this.selectionMode){if(i.selectable===!1){i.style="--p-focus-ring-color: none;";return}else i.style?.includes("--p-focus-ring-color")||(i.style=i.style?`${i.style}--p-focus-ring-color: var(--primary-color)`:"--p-focus-ring-color: var(--primary-color)");if(this.hasFilteredNodes()&&(i=this.getNodeWithKey(i.key,this.filteredNodes),!i))return;let s=this.findIndexInSelection(i),r=s>=0;if(this.isCheckboxSelectionMode())r?(this.propagateSelectionDown?this.propagateDown(i,!1):this.selection=this.selection.filter((a,l)=>l!=s),this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown?this.propagateDown(i,!0):this.selection=[...this.selection||[],i],this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i}));else if(this.nodeTouched?!1:this.metaKeySelection){let l=e.metaKey||e.ctrlKey;r&&l?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((c,d)=>d!=s),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.isMultipleSelectionMode()&&(this.selection=l?this.selection||[]:[],this.selection=[...this.selection,i],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:e,node:i}))}else this.isSingleSelectionMode()?r?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.selection=i,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:i})})):r?(this.selection=this.selection.filter((l,c)=>c!=s),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.selection=[...this.selection||[],i],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:i})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,i){if(this.contextMenu){let o=e.target;if(o.className&&o.className.indexOf("p-tree-toggler")===0)return;this.findIndexInSelection(i)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.selectionChange.emit([i])),this.contextMenu.show(e),this.onNodeContextMenuSelect.emit({originalEvent:e,node:i})}}findIndexInSelection(e){let i=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())i=this.selection.key&&this.selection.key===e.key||this.selection==e?0:-1;else for(let o=0;o<this.selection.length;o++){let s=this.selection[o];if(s.key&&s.key===e.key||s==e){i=o;break}}return i}syncNodeOption(e,i,o,s){let r=this.hasFilteredNodes()?this.getNodeWithKey(e.key,i):null;r&&(r[o]=s||e[o])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,i){for(let o of i){if(o.key===e)return o;if(o.children){let s=this.getNodeWithKey(e,o.children);if(s)return s}}}propagateUp(e,i){if(e.children&&e.children.length){let s=0,r=!1;for(let a of e.children)this.isSelected(a)?s++:a.partialSelected&&(r=!0);if(i&&s==e.children.length)this.selection=[...this.selection||[],e],e.partialSelected=!1;else{if(!i){let a=this.findIndexInSelection(e);a>=0&&(this.selection=this.selection.filter((l,c)=>c!=a))}r||s>0&&s!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let o=e.parent;o&&this.propagateUp(o,i)}propagateDown(e,i){let o=this.findIndexInSelection(e);if(i&&o==-1?this.selection=[...this.selection||[],e]:!i&&o>-1&&(this.selection=this.selection.filter((s,r)=>r!=o)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let s of e.children)this.propagateDown(s,i)}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&(!this.value||this.value.length===0)&&(e.dataTransfer.dropEffect="move",e.preventDefault())}onDrop(e){if(this.droppableNodes&&(!this.value||this.value.length===0)){e.preventDefault();let i=this.dragNode;if(this.allowDrop(i,null,this.dragNodeScope)){let o=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:null,index:o,accept:()=>{this.processTreeDrop(i,o)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:null,index:o}),this.processTreeDrop(i,o))}}}processTreeDrop(e,i){this.dragNodeSubNodes.splice(i,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let i=e.currentTarget.getBoundingClientRect();(e.x>i.left+i.width||e.x<i.left||e.y>i.top+i.height||e.y<i.top)&&(this.dragHover=!1)}}allowDrop(e,i,o){if(e)if(this.isValidDragScope(o)){let s=!0;if(i)if(e===i)s=!1;else{let r=i.parent;for(;r!=null;){if(r===e){s=!1;break}r=r.parent}}return s}else return!1;else return!1}isValidDragScope(e){let i=this.droppableScope;if(i){if(typeof i=="string"){if(typeof e=="string")return i===e;if(Array.isArray(e))return e.indexOf(i)!=-1}else if(Array.isArray(i)){if(typeof e=="string")return i.indexOf(e)!=-1;if(Array.isArray(e)){for(let o of i)for(let s of e)if(o===s)return!0}}return!1}else return!0}_filter(e){let i=e;if(i==="")this.filteredNodes=null;else{this.filteredNodes=[];let o=this.filterBy.split(","),s=Wn(i).toLocaleLowerCase(this.filterLocale),r=this.filterMode==="strict";for(let a of this.value){let l=xe({},a),c={searchFields:o,filterText:s,isStrictMode:r};(r&&(this.findFilteredNodes(l,c)||this.isFilterMatched(l,c))||!r&&(this.isFilterMatched(l,c)||this.findFilteredNodes(l,c)))&&this.filteredNodes.push(l)}}this.updateSerializedValue(),this.onFilter.emit({filter:i,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,i){if(e){let o=!1;if(e.children){let s=[...e.children];e.children=[];for(let r of s){let a=xe({},r);this.isFilterMatched(a,i)&&(o=!0,e.children.push(a))}}if(o)return e.expanded=!0,!0}}isFilterMatched(e,i){let{searchFields:o,filterText:s,isStrictMode:r}=i,a=!1;for(let l of o)Wn(String(ge(e,l))).toLocaleLowerCase(this.filterLocale).indexOf(s)>-1&&(a=!0);return(!a||r&&!this.isNodeLeaf(e))&&(a=this.findFilteredNodes(e,{searchFields:o,filterText:s,isStrictMode:r})||a),a}getIndex(e,i){let o=e.getItemOptions;return o?o(i).index:i}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Z(Ms,8))};static \u0275cmp=Ie({type:t,selectors:[["p-tree"]],contentQueries:function(i,o,s){if(i&1&&(A(s,nl,4),A(s,Mp,4),A(s,Ip,4),A(s,Dp,4),A(s,Ep,4),A(s,Np,4),A(s,Pp,4),A(s,Lp,4),A(s,Op,4),A(s,zp,4),A(s,kt,4)),i&2){let r;E(r=N())&&(o.filterTemplate=r.first),E(r=N())&&(o.nodeTemplate=r.first),E(r=N())&&(o.headerTemplate=r.first),E(r=N())&&(o.footerTemplate=r.first),E(r=N())&&(o.loaderTemplate=r.first),E(r=N())&&(o.emptyMessageTemplate=r.first),E(r=N())&&(o.togglerIconTemplate=r.first),E(r=N())&&(o.checkboxIconTemplate=r.first),E(r=N())&&(o.loadingIconTemplate=r.first),E(r=N())&&(o.filterIconTemplate=r.first),E(r=N())&&(o.templates=r)}},viewQuery:function(i,o){if(i&1&&(re(nl,5),re(Rp,5),re(Fp,5)),i&2){let s;E(s=N())&&(o.filterViewChild=s.first),E(s=N())&&(o.scroller=s.first),E(s=N())&&(o.wrapperViewChild=s.first)}},inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",z],droppableNodes:[2,"droppableNodes","droppableNodes",z],metaKeySelection:[2,"metaKeySelection","metaKeySelection",z],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",z],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",z],loading:[2,"loading","loading",z],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",z],filter:[2,"filter","filter",z],filterBy:"filterBy",filterMode:"filterMode",filterOptions:"filterOptions",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",z],virtualScroll:[2,"virtualScroll","virtualScroll",z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ve],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",ve],_templateMap:"_templateMap",trackBy:"trackBy",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",z],virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[Vt([il]),Pe,ct,Bi],decls:8,vars:10,consts:[["filter",""],["scroller",""],["content",""],["treeNode",""],["loader",""],["wrapper",""],["emptyFilter",""],[3,"drop","dragover","dragenter","dragleave","ngClass","ngStyle"],["class","p-tree-mask p-overlay-mask",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-mask","p-overlay-mask"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-tree-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-tree-loading-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pInputText","","type","search","autocomplete","off",1,"p-tree-filter-input",3,"keydown.enter","input"],["class","p-tree-filter-icon",4,"ngIf"],[1,"p-tree-filter-icon"],["styleClass","p-tree-root",3,"items","tabindex","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["styleClass","p-tree-root",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","scrollHeight","itemSize","lazy","options"],["class","p-tree-root-children","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-root-children",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],[1,"p-tree-root"],["class","p-tree-root-children","role","tree",4,"ngIf"],["role","tree",1,"p-tree-root-children"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"]],template:function(i,o){if(i&1&&(P(0,"div",7),ae("drop",function(r){return o.onDrop(r)})("dragover",function(r){return o.onDragOver(r)})("dragenter",function(){return o.onDragEnter()})("dragleave",function(r){return o.onDragLeave(r)}),S(1,Up,3,2,"div",8)(2,Kp,1,0,"ng-container",9)(3,qp,1,4,"ng-container")(4,ef,1,1,"p-iconField")(5,uf,3,2,"ng-container",10)(6,mf,3,3,"div",11)(7,bf,1,0,"ng-container",9),L()),i&2){let s;Le(o.styleClass),y("ngClass",o.containerClass)("ngStyle",o.style),v(),y("ngIf",o.loading&&o.loadingMode==="mask"),v(),y("ngTemplateOutlet",o.headerTemplate||o._headerTemplate),v(),Ln(o.filterTemplate||o._filterTemplate?3:4),v(2),y("ngIf",(s=o.getRootNode())==null?null:s.length),v(),y("ngIf",!o.loading&&(o.getRootNode()==null||o.getRootNode().length===0)),v(),y("ngTemplateOutlet",o.footerTemplate||o._footerTemplate)}},dependencies:[Xe,Bt,di,qe,Ye,Ht,bi,Te,Es,Ut,Os,pi,zs,Rs,_f],encapsulation:2})}return t})(),s_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=lt({type:t});static \u0275inj=at({imports:[rl,Te,Te]})}return t})();var yf=({dt:t})=>`
/* For PrimeNG */
.p-treetable {
    position: relative;
}

.p-treetable table {
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}

.p-treetable .p-sortable-column .p-column-title,
.p-treetable .p-sortable-column .p-sortable-column-icon,
.p-treetable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-treetable-auto-layout>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-auto-layout>.p-treetable-wrapper>table {
    table-layout: auto;
}

.p-treetable-hoverable-rows .p-treetable-tbody>tr {
    cursor: pointer;
}

.p-treetable-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    overflow: hidden;
    position: relative;
}


/* Scrollable */
.p-treetable-scrollable-wrapper {
    position: relative;
}

.p-treetable-scrollable-header,
.p-treetable-scrollable-footer {
    overflow: hidden;
    flex-shrink: 0;
}

.p-treetable-scrollable-body {
    overflow: auto;
    position: relative;
}

.p-treetable-virtual-table {
    position: absolute;
}

/* Frozen Columns */
.p-treetable-frozen-view .p-treetable-scrollable-body {
    overflow: hidden;
}

.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child {
    border-right: 0 none;
}

.p-treetable-unfrozen-view {
    position: absolute;
    top: 0;
}

/* Flex Scrollable */
.p-treetable-flex-scrollable {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,
.p-treetable-flex-scrollable .p-treetable-scrollable-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body {
    flex: 1;
}

/* Resizable */
.p-treetable-resizable>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-resizable .p-treetable-thead>tr>th,
.p-treetable-resizable .p-treetable-tfoot>tr>td,
.p-treetable-resizable .p-treetable-tbody>tr>td {
    overflow: hidden;
}

.p-treetable-resizable .p-resizable-column {
    background-clip: padding-box;
    position: relative;
}

.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}

.p-treetable .p-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: ${t("treetable.column.resizer.width")};
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-treetable .p-column-resizer-helper {
    width: ${t("treetable.resize.indicator.width")};
    position: absolute;
    z-index: 10;
    display: none;
    background: ${t("treetable.resize.indicator.color")};
}

.p-treetable .p-row-editor-init,
.p-treetable .p-row-editor-save,
.p-treetable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}


/* Reorder */
.p-treetable-reorder-indicator-up,
.p-treetable-reorder-indicator-down {
    position: absolute;
    display: none;
}

[ttReorderableColumn] {
    cursor: move;
}

/* Loader */
.p-treetable-mask {
    position: absolute !important;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-treetable-loading-icon {
    font-size: ${t("treetable.loading.icon.size")};
    width: ${t("treetable.loading.icon.size")};
    height: ${t("treetable.loading.icon.size")};
}

/* Virtual Scroll */
.p-treetable .p-scroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-treetable .p-paginator-top {
    border-color: ${t("treetable.paginator.top.border.color")};
    border-style: solid;
    border-width: ${t("treetable.paginator.top.border.width")};
}

.p-treetable .p-paginator-bottom {
    border-color: ${t("treetable.paginator.bottom.border.color")};
    border-style: solid;
    border-width: ${t("treetable.paginator.bottom.border.width")};
}

.p-treetable .p-treetable-header {
    background: ${t("treetable.header.background")};
    color: ${t("treetable.header.color")};
    border-color: ${t("treetable.header.border.color")};
    border-style: solid;
    border-width: ${t("treetable.header.border.width")};
    padding: ${t("treetable.header.padding")};
    font-weight: ${t("treetable.column.title.font.weight")};
}

.p-treetable .p-treetable-footer {
    background: ${t("treetable.footer.background")};
    color: ${t("treetable.footer.color")};
    border-color: ${t("treetable.footer.border.color")};
    border-style: solid;
    border-width: ${t("treetable.footer.border.width")};
    padding: ${t("treetable.footer.padding")};
    font-weight: ${t("treetable.column.footer.font.weight")};
}

.p-treetable .p-treetable-thead>tr>th {
    padding: ${t("treetable.header.cell.padding")};
    background: ${t("treetable.header.cell.background")};
    border-color: ${t("treetable.header.cell.border.color")};
    border-style: solid;
    border-width: 0 0 1px 0;
    color: ${t("treetable.header.cell.color")};
    font-weight: ${t("treetable.column.title.font.weight")};
    text-align: start;
    transition: background ${t("treetable.transition.duration")}, color ${t("treetable.transition.duration")}, border-color ${t("treetable.transition.duration")},
            outline-color ${t("treetable.transition.duration")}, box-shadow ${t("treetable.transition.duration")};
}

.p-treetable .p-treetable-tfoot>tr>td {
    text-align: start;
    padding: ${t("treetable.footer.cell.padding")};
    border-color: ${t("treetable.footer.cell.border.color")};
    border-style: solid;
    border-width: 0 0 1px 0;
    color: ${t("treetable.footer.cell.color")};
    background: ${t("treetable.footer.cell.background")};
    font-weight: ${t("treetable.column.footer.font.weight")};
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-icon {
    color: ${t("treetable.sort.icon.color")};
    transition: color ${t("treetable.transition.duration")};
}


.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover {
    background: ${t("treetable.header.cell.hover.background")};
    color: ${t("treetable.header.cell.hover.color")};
}

.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover .p-sortable-column-icon {
    color: ${t("treetable.sort.icon.hover.color")};
}

.p-treetable .p-sortable-column.p-treetable-column-sorted {
    background: ${t("treetable.header.cell.selected.background")};
    color: ${t("treetable.header.cell.selected.color")};
}

.p-treetable .p-sortable-column.p-treetable-column-sorted .p-sortable-column-icon {
    color: ${t("treetable.header.cell.selected.color")};
}

.p-treetable .p-sortable-column:focus-visible {
    box-shadow: ${t("treetable.header.cell.focus.ring.shadow")};
    outline: ${t("treetable.header.cell.focus.ring.width")} ${t("treetable.header.cell.focus.ring.style")} ${t("treetable.header.cell.focus.ring.color")};
    outline-offset: ${t("treetable.header.cell.focus.ring.offset")};
}

.p-treetable-hoverable .p-treetable-selectable-row {
    cursor: pointer;
}

.p-treetable .p-treetable-tbody > tr {
    outline-color: transparent;
    background: ${t("treetable.row.background")};
    color: ${t("treetable.row.color")};
    transition: background ${t("treetable.transition.duration")}, color ${t("treetable.transition.duration")}, border-color ${t("treetable.transition.duration")},
            outline-color ${t("treetable.transition.duration")}, box-shadow ${t("treetable.transition.duration")};
}

.p-treetable .p-treetable-tbody>tr>td {
    text-align: start;
    border-color: ${t("treetable.body.cell.border.color")};
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: ${t("treetable.body.cell.padding")};
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: ${t("treetable.node.toggle.button.size")};
    height: ${t("treetable.node.toggle.button.size")};
    color: ${t("treetable.node.toggle.button.color")};
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: ${t("treetable.node.toggle.button.border.radius")};
    transition: background ${t("treetable.transition.duration")}, color ${t("treetable.transition.duration")}, border-color ${t("treetable.transition.duration")},
            outline-color ${t("treetable.transition.duration")}, box-shadow ${t("treetable.transition.duration")};
    outline-color: transparent;
    user-select: none;
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:enabled:hover {
    color: ${t("treetable.node.toggle.button.hover.color")};
    background: ${t("treetable.node.toggle.button.hover.background")};
}

.p-treetable .p-treetable-tbody>tr>tr.treetable-row-selected .p-treetable-toggler:hover {
    background: ${t("treetable.node.toggle.button.selected.hover.background")};
    color: ${t("treetable.node.toggle.button.selected.hover.color")};
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:focus-visible {
    box-shadow: ${t("treetable.node.toggle.button.focus.ring.shadow")};
    outline: ${t("treetable.node.toggle.button.focus.ring.width")} ${t("treetable.node.toggle.button.focus.ring.style")} ${t("treetable.node.toggle.button.focus.ring.color")};
    outline-offset: ${t("treetable.node.toggle.button.focus.ring.offset")};
}


.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected {
    background: ${t("treetable.row.selected.background")};
    color: ${t("treetable.row.selected.color")};
}

.p-treetable-tbody > tr:focus-visible,
.p-treetable-tbody > tr.p-treetable-contextmenu-row-selected {
    box-shadow: ${t("treetable.row.focus.ring.shadow")};
    outline: ${t("treetable.row.focus.ring.width")} ${t("treetable.row.focus.ring.style")} ${t("treetable.row.focus.ring.color")};
    outline-offset: ${t("treetable.row.focus.ring.offset")};
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler {
    color: inherit;
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler:hover {
    background: ${t("treetable.node.toggle.button.selected.hover.background")};
    color: ${t("treetable.node.toggle.button.selected.hover.color")};
}

.p-treetable.p-treetable-hoverable-rows .p-treetable-tbody>tr:not(.p-treetable-row-selected):hover {
    background: ${t("treetable.row.hover.background")};
    color: ${t("treetable.row.hover.color")};
}

.p-treetable.p-treetable-gridlines .p-datatable-header {
    border-width: 1px 1px 0 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-footer {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-top {
    border-width: 0 1px 0 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-bottom {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead>tr>th {
    border-width: 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-tbody>tr>td {
    border-width: 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-tfoot>tr>td {
    border-width: 1px;
}

.p-treetable.p-treetable-sm .p-treetable-header {
    padding: 0.65625rem 0.875rem;
}

.p-treetable.p-treetable-sm .p-treetable-thead>tr>th {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tbody>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tfoot>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-footer {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-lg .p-treetable-header {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-thead>tr>th {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-footer {
    padding: 0.9375rem 1.25rem;
}

p-treetabletoggler + p-treetablecheckbox .p-checkbox {
    vertical-align: middle;
}

p-treetabletoggler + p-treetablecheckbox + span {
    vertical-align: middle;
}
`,xf={root:({instance:t})=>({"p-treetable p-component":!0,"p-treetable-hoverable":t.rowHover||t.selectionMode,"p-treetable-resizable":t.resizableColumns,"p-treetable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-treetable-scrollable":t.scrollable,"p-treetable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex","p-treetable-gridlines":t.showGridlines,"p-treetable-sm":t.size==="small","p-treetable-lg":t.size==="large"}),loading:"p-treetable-loading",mask:"p-treetable-mask p-overlay-mask",loadingIcon:"p-treetable-loading-icon",header:"p-treetable-header",paginator:({instance:t})=>"p-treetable-paginator-"+t.paginatorPosition,tableContainer:"p-treetable-table-container",table:({instance:t})=>({"p-treetable-table":!0,"p-treetable-scrollable-table":t.scrollable,"p-treetable-resizable-table":t.resizableColumns,"p-treetable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}),thead:"p-treetable-thead",headerCell:({instance:t})=>({"p-treetable-header-cell":!0,"p-treetable-sortable-column":t.sortable,"p-treetable-resizable-column":t.resizableColumns,"p-treetable-column-sorted":t?.sorted,"p-treetable-frozen-column":t.columnProp("frozen")}),columnResizer:"p-treetable-column-resizer",columnHeaderContent:"p-treetable-column-header-content",columnTitle:"p-treetable-column-title",sortIcon:"p-treetable-sort-icon",pcSortBadge:"p-treetable-sort-badge",tbody:"p-treetable-tbody",row:({instance:t})=>({"p-treetable-row-selected":t.selected}),bodyCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),bodyCellContent:({instance:t})=>({"p-treetable-body-cell-content":!0,"p-treetable-body-cell-content-expander":t.columnProp("expander")}),toggler:"p-treetable-body-cell-content-expander",nodeToggleButton:"p-treetable-node-toggle-button",nodeToggleIcon:"p-treetable-node-toggle-icon",pcNodeCheckbox:"p-treetable-node-checkbox",emptyMessage:"p-treetable-empty-message",tfoot:"p-treetable-tfoot",footerCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),footer:"p-treetable-footer",columnResizeIndicator:"p-treetable-column-resize-indicator"},vf={tableContainer:{overflow:"auto"},thead:{position:"sticky"},tfoot:{position:"sticky"}},al=(()=>{class t extends jt{name="treetable";theme=yf;classes=xf;inlineStyles=vf;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ae(t)))(o||t)}})();static \u0275prov=rt({token:t,factory:t.\u0275fac})}return t})();var Tf=["colgroup"],wf=["caption"],Cf=["header"],Sf=["body"],kf=["footer"],Mf=["summary"],If=["emptymessage"],Df=["paginatorleft"],Ef=["paginatorright"],Nf=["paginatordropdownitem"],Pf=["frozenheader"],Lf=["frozenbody"],Of=["frozenfooter"],zf=["frozencolgroup"],Rf=["loadingicon"],Ff=["reorderindicatorupicon"],Af=["reorderindicatordownicon"],Vf=["sorticon"],Bf=["checkboxicon"],Hf=["headercheckboxicon"],$f=["togglericon"],Wf=["paginatorfirstpagelinkicon"],jf=["paginatorlastpagelinkicon"],Uf=["paginatorpreviouspagelinkicon"],Kf=["paginatornextpagelinkicon"],Qf=["loader"],qf=["container"],Yf=["resizeHelper"],Xf=["reorderIndicatorUp"],Gf=["reorderIndicatorDown"],Jf=["table"],Zf=["scrollableView"],eg=["scrollableFrozenView"],tg=(t,n,e,i,o,s)=>({"p-treetable p-component":!0,"p-treetable-gridlines":t,"p-treetable-hoverable-rows":n,"p-treetable-auto-layout":e,"p-treetable-resizable":i,"p-treetable-resizable-fit":o,"p-treetable-flex-scrollable":s}),st=t=>({$implicit:t}),ig=(t,n)=>({left:t,width:n}),ng=t=>({width:t});function og(t,n){if(t&1&&ee(0,"i"),t&2){let e=k(2);Le("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function sg(t,n){t&1&&ee(0,"SpinnerIcon",24),t&2&&y("spin",!0)("styleClass","p-treetable-loading-icon")}function rg(t,n){}function ag(t,n){t&1&&S(0,rg,0,0,"ng-template")}function lg(t,n){if(t&1&&(P(0,"span",25),S(1,ag,1,0,null,26),L()),t&2){let e=k(3);v(),y("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function cg(t,n){if(t&1&&(ue(0),S(1,sg,1,2,"SpinnerIcon",22)(2,lg,2,1,"span",23),pe()),t&2){let e=k(2);v(),y("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),v(),y("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function dg(t,n){if(t&1&&(P(0,"div",18)(1,"div",19),S(2,og,1,2,"i",20)(3,cg,3,2,"ng-container",21),L()()),t&2){let e=k();v(2),y("ngIf",e.loadingIcon),v(),y("ngIf",!e.loadingIcon)}}function hg(t,n){t&1&&U(0)}function ug(t,n){if(t&1&&(P(0,"div",27),S(1,hg,1,0,"ng-container",26),L()),t&2){let e=k();v(),y("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function pg(t,n){t&1&&U(0)}function fg(t,n){if(t&1&&S(0,pg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function gg(t,n){t&1&&S(0,fg,1,1,"ng-template",29)}function mg(t,n){t&1&&U(0)}function bg(t,n){if(t&1&&S(0,mg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function _g(t,n){t&1&&S(0,bg,1,1,"ng-template",30)}function yg(t,n){t&1&&U(0)}function xg(t,n){if(t&1&&S(0,yg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function vg(t,n){t&1&&S(0,xg,1,1,"ng-template",31)}function Tg(t,n){t&1&&U(0)}function wg(t,n){if(t&1&&S(0,Tg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Cg(t,n){t&1&&S(0,wg,1,1,"ng-template",32)}function Sg(t,n){if(t&1){let e=Oe();P(0,"p-paginator",28),ae("onPageChange",function(o){W(e);let s=k();return j(s.onPageChange(o))}),S(1,gg,1,0,null,21)(2,_g,1,0,null,21)(3,vg,1,0,null,21)(4,Cg,1,0,null,21),L()}if(t&2){let e,i,o,s=k();y("rows",s.rows)("first",s.first)("totalRecords",s.totalRecords)("pageLinkSize",s.pageLinks)("alwaysShow",s.alwaysShowPaginator)("rowsPerPageOptions",s.rowsPerPageOptions)("templateLeft",(e=s.paginatorLeftTemplate)!==null&&e!==void 0?e:s._paginatorLeftTemplate)("templateRight",(i=s.paginatorRightTemplate)!==null&&i!==void 0?i:s._paginatorRightTemplate)("dropdownAppendTo",s.paginatorDropdownAppendTo)("currentPageReportTemplate",s.currentPageReportTemplate)("showFirstLastIcon",s.showFirstLastIcon)("dropdownItemTemplate",(o=s.paginatorDropdownItemTemplate)!==null&&o!==void 0?o:s._paginatorDropdownItemTemplate)("showCurrentPageReport",s.showCurrentPageReport)("showJumpToPageDropdown",s.showJumpToPageDropdown)("showPageLinks",s.showPageLinks)("styleClass",s.paginatorStyleClass)("locale",s.paginatorLocale),v(),y("ngIf",s.paginatorFirstPageLinkIconTemplate||s._paginatorFirstPageLinkIconTemplate),v(),y("ngIf",s.paginatorPreviousPageLinkIconTemplate||s._paginatorPreviousPageLinkIconTemplate),v(),y("ngIf",s.paginatorLastPageLinkIconTemplate||s._paginatorLastPageLinkIconTemplate),v(),y("ngIf",s.paginatorNextPageLinkIconTemplate||s._paginatorNextPageLinkIconTemplate)}}function kg(t,n){t&1&&U(0)}function Mg(t,n){t&1&&U(0)}function Ig(t,n){t&1&&U(0)}function Dg(t,n){if(t&1&&(P(0,"div",33)(1,"table",34,1),S(3,kg,1,0,"ng-container",35),P(4,"thead",36),S(5,Mg,1,0,"ng-container",35),L(),ee(6,"tbody",37),P(7,"tfoot",38),S(8,Ig,1,0,"ng-container",35),L()()()),t&2){let e,i=k();v(),y("ngClass",i.tableStyleClass)("ngStyle",i.tableStyle),v(2),y("ngTemplateOutlet",i.colGroupTemplate||i._colGroupTemplate)("ngTemplateOutletContext",ne(10,st,i.columns)),v(2),y("ngTemplateOutlet",i.headerTemplate||i._headerTemplate)("ngTemplateOutletContext",ne(12,st,i.columns)),v(),y("pTreeTableBody",i.columns)("pTreeTableBodyTemplate",(e=i.bodyTemplate)!==null&&e!==void 0?e:i._bodyTemplate),v(2),y("ngTemplateOutlet",i.footerTemplate||i._footerTemplate)("ngTemplateOutletContext",ne(14,st,i.columns))}}function Eg(t,n){if(t&1&&ee(0,"div",42,3),t&2){let e=k(2);y("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",ne(4,ng,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function Ng(t,n){if(t&1&&(P(0,"div",39),S(1,Eg,2,6,"div",40),ee(2,"div",41,2),L()),t&2){let e=k();v(),y("ngIf",e.frozenColumns||e.frozenBodyTemplate||e._frozenBodyTemplate),v(),y("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",Ke(5,ig,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function Pg(t,n){t&1&&U(0)}function Lg(t,n){if(t&1&&S(0,Pg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function Og(t,n){t&1&&S(0,Lg,1,1,"ng-template",29)}function zg(t,n){t&1&&U(0)}function Rg(t,n){if(t&1&&S(0,zg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function Fg(t,n){t&1&&S(0,Rg,1,1,"ng-template",30)}function Ag(t,n){t&1&&U(0)}function Vg(t,n){if(t&1&&S(0,Ag,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function Bg(t,n){t&1&&S(0,Vg,1,1,"ng-template",31)}function Hg(t,n){t&1&&U(0)}function $g(t,n){if(t&1&&S(0,Hg,1,0,"ng-container",26),t&2){let e=k(3);y("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Wg(t,n){t&1&&S(0,$g,1,1,"ng-template",32)}function jg(t,n){if(t&1){let e=Oe();P(0,"p-paginator",43),ae("onPageChange",function(o){W(e);let s=k();return j(s.onPageChange(o))}),S(1,Og,1,0,null,21)(2,Fg,1,0,null,21)(3,Bg,1,0,null,21)(4,Wg,1,0,null,21),L()}if(t&2){let e,i,o,s=k();y("rows",s.rows)("first",s.first)("totalRecords",s.totalRecords)("pageLinkSize",s.pageLinks)("alwaysShow",s.alwaysShowPaginator)("rowsPerPageOptions",s.rowsPerPageOptions)("templateLeft",(e=s.paginatorLeftTemplate)!==null&&e!==void 0?e:s._paginatorLeftTemplate)("templateRight",(i=s.paginatorRightTemplate)!==null&&i!==void 0?i:s._paginatorRightTemplate)("dropdownAppendTo",s.paginatorDropdownAppendTo)("currentPageReportTemplate",s.currentPageReportTemplate)("showFirstLastIcon",s.showFirstLastIcon)("dropdownItemTemplate",(o=s.paginatorDropdownItemTemplate)!==null&&o!==void 0?o:s._paginatorDropdownItemTemplate)("showCurrentPageReport",s.showCurrentPageReport)("showJumpToPageDropdown",s.showJumpToPageDropdown)("showPageLinks",s.showPageLinks)("styleClass",s.paginatorStyleClass)("locale",s.paginatorLocale),v(),y("ngIf",s.paginatorFirstPageLinkIconTemplate||s._paginatorFirstPageLinkIconTemplate),v(),y("ngIf",s.paginatorPreviousPageLinkIconTemplate||s._paginatorPreviousPageLinkIconTemplate),v(),y("ngIf",s.paginatorLastPageLinkIconTemplate||s._paginatorLastPageLinkIconTemplate),v(),y("ngIf",s.paginatorNextPageLinkIconTemplate||s._paginatorNextPageLinkIconTemplate)}}function Ug(t,n){t&1&&U(0)}function Kg(t,n){if(t&1&&(P(0,"div",44),S(1,Ug,1,0,"ng-container",26),L()),t&2){let e=k();v(),y("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function Qg(t,n){t&1&&ee(0,"div",45,4)}function qg(t,n){t&1&&ee(0,"ArrowDownIcon")}function Yg(t,n){}function Xg(t,n){t&1&&S(0,Yg,0,0,"ng-template")}function Gg(t,n){if(t&1&&(P(0,"span",46,5),S(2,qg,1,0,"ArrowDownIcon",21)(3,Xg,1,0,null,26),L()),t&2){let e=k();v(2),y("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),v(),y("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function Jg(t,n){t&1&&ee(0,"ArrowUpIcon")}function Zg(t,n){}function em(t,n){t&1&&S(0,Zg,0,0,"ng-template")}function tm(t,n){if(t&1&&(P(0,"span",47,6),S(2,Jg,1,0,"ArrowUpIcon",21)(3,em,1,0,null,26),L()),t&2){let e=k();v(2),y("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),v(),y("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var im=["pTreeTableBody",""],nm=(t,n,e,i)=>({$implicit:t,node:n,rowData:e,columns:i}),om=(t,n)=>({$implicit:t,frozen:n});function sm(t,n){t&1&&U(0)}function rm(t,n){if(t&1&&(ue(0),S(1,sm,1,0,"ng-container",2),pe()),t&2){let e=k().$implicit,i=k();v(),y("ngTemplateOutlet",i.template)("ngTemplateOutletContext",bs(2,nm,e,e.node,e.node.data,i.columns))}}function am(t,n){if(t&1&&S(0,rm,2,7,"ng-container",1),t&2){let e=n.$implicit;y("ngIf",e.visible)}}function lm(t,n){t&1&&U(0)}function cm(t,n){if(t&1&&(ue(0),S(1,lm,1,0,"ng-container",2),pe()),t&2){let e=k();v(),y("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",Ke(2,om,e.columns,e.frozen))}}var dm=["scrollHeader"],hm=["scrollHeaderBox"],um=["scrollBody"],pm=["scrollTable"],fm=["loadingTable"],gm=["scrollFooter"],mm=["scrollFooterBox"],bm=["scrollableAligner"],_m=["scroller"],ym=["ttScrollableView",""],xm=t=>({height:t}),ll=(t,n)=>({$implicit:t,options:n}),vm=t=>({options:t}),Tm=(t,n)=>({"max-height":t,"overflow-y":n}),wm=()=>({});function Cm(t,n){t&1&&U(0)}function Sm(t,n){t&1&&U(0)}function km(t,n){t&1&&U(0)}function Mm(t,n){if(t&1&&S(0,km,1,0,"ng-container",14),t&2){let e=n.$implicit,i=n.options;k(2);let o=On(11);y("ngTemplateOutlet",o)("ngTemplateOutletContext",Ke(2,ll,e,i))}}function Im(t,n){t&1&&U(0)}function Dm(t,n){if(t&1&&S(0,Im,1,0,"ng-container",14),t&2){let e=n.options,i=k(3);y("ngTemplateOutlet",i.tt.loaderTemplate||i.tt._loaderTemplate)("ngTemplateOutletContext",ne(2,vm,e))}}function Em(t,n){t&1&&(ue(0),S(1,Dm,1,4,"ng-template",null,5,Qe),pe())}function Nm(t,n){if(t&1){let e=Oe();P(0,"p-scroller",19,3),ae("onLazyLoad",function(o){W(e);let s=k();return j(s.tt.onLazyItemLoad(o))}),S(2,Mm,1,5,"ng-template",null,4,Qe)(4,Em,3,0,"ng-container",17),L()}if(t&2){let e=k();Ct(ne(8,xm,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),y("items",e.tt.serializedValue)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),v(4),y("ngIf",e.tt.loaderTemplate||e.tt._loaderTemplate)}}function Pm(t,n){t&1&&U(0)}function Lm(t,n){if(t&1&&(ue(0),P(1,"div",20,6),S(3,Pm,1,0,"ng-container",14),L(),pe()),t&2){let e=k(),i=On(11);v(),y("ngStyle",Ke(3,Tm,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),v(2),y("ngTemplateOutlet",i)("ngTemplateOutletContext",Ke(7,ll,e.serializedValue,ms(6,wm)))}}function Om(t,n){t&1&&U(0)}function zm(t,n){t&1&&ee(0,"div",24,8)}function Rm(t,n){if(t&1&&(P(0,"table",21,7),S(2,Om,1,0,"ng-container",14),ee(3,"tbody",22),L(),S(4,zm,2,0,"div",23)),t&2){let e=n.$implicit,i=n.options,o=k();Ct(i.contentStyle),Le(o.tt.tableStyleClass),y("ngClass",i.contentStyleClass)("ngStyle",o.tt.tableStyle),v(2),y("ngTemplateOutlet",o.frozen?o.tt.frozenColGroupTemplate||o.tt._frozenColGroupTemplate||o.tt.colGroupTemplate||o.tt._colGroupTemplate:o.tt.colGroupTemplate||o.tt._colGroupTemplate)("ngTemplateOutletContext",ne(13,st,o.columns)),v(),y("pTreeTableBody",o.columns)("pTreeTableBodyTemplate",o.frozen?o.tt.frozenBodyTemplate||o.tt._frozenBodyTemplate||o.tt.bodyTemplate||o.tt._bodyTemplate:o.tt.bodyTemplate||o.tt._bodyTemplate)("serializedNodes",e)("frozen",o.frozen),v(),y("ngIf",o.frozen)}}function Fm(t,n){t&1&&U(0)}function Am(t,n){t&1&&U(0)}function Vm(t,n){if(t&1&&(P(0,"div",25,9)(2,"div",26,10)(4,"table",27),S(5,Fm,1,0,"ng-container",14),P(6,"tfoot",28),S(7,Am,1,0,"ng-container",14),L()()()()),t&2){let e=k();v(4),y("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),v(),y("ngTemplateOutlet",e.frozen?e.tt.frozenColGroupTemplate||e.tt._frozenColGroupTemplate||e.tt.colGroupTemplate||e.tt._colGroupTemplate:e.tt.colGroupTemplate||e.tt._colGroupTemplate)("ngTemplateOutletContext",ne(6,st,e.columns)),v(2),y("ngTemplateOutlet",e.frozen?e.tt.frozenFooterTemplate||e.tt._frozenFooterTemplate||e.tt.footerTemplate||e.tt._footerTemplate:e.tt.footerTemplate||e.tt._footerTemplate)("ngTemplateOutletContext",ne(8,st,e.columns))}}var Bm=(t,n)=>({$implicit:t,partialSelected:n});function Hm(t,n){}function $m(t,n){t&1&&S(0,Hm,0,0,"ng-template")}function Wm(t,n){if(t&1&&S(0,$m,1,0,null,3),t&2){let e=k(2);y("ngTemplateOutlet",e.tt.checkboxIconTemplate||e.tt._checkboxIconTemplate)("ngTemplateOutletContext",Ke(2,Bm,e.checked,e.partialChecked))}}function jm(t,n){t&1&&(ue(0),S(1,Wm,1,5,"ng-template",2),pe())}function Um(t,n){t&1&&ee(0,"ChevronDownIcon"),t&2&&de("aria-hidden",!0)}function Km(t,n){t&1&&ee(0,"ChevronRightIcon"),t&2&&de("aria-hidden",!0)}function Qm(t,n){if(t&1&&(ue(0),S(1,Um,1,1,"ChevronDownIcon",1)(2,Km,1,1,"ChevronRightIcon",1),pe()),t&2){let e=k();v(),y("ngIf",e.rowNode.node.expanded),v(),y("ngIf",!e.rowNode.node.expanded)}}function qm(t,n){}function Ym(t,n){t&1&&S(0,qm,0,0,"ng-template")}var Ai=(()=>{class t{sortSource=new At;selectionSource=new At;contextMenuSource=new At;uiUpdateSource=new At;totalRecordsSource=new At;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=rt({token:t,factory:t.\u0275fac})}return t})(),ri=(()=>{class t extends dt{_componentStyle=Fe(al);columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,i)=>i;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.log("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}showGridlines=!1;selectionChange=new H;contextMenuSelectionChange=new H;onFilter=new H;onNodeExpand=new H;onNodeCollapse=new H;onPage=new H;onSort=new H;onLazyLoad=new H;sortFunction=new H;onColResize=new H;onColReorder=new H;onNodeSelect=new H;onNodeUnselect=new H;onContextMenuSelect=new H;onHeaderCheckboxToggle=new H;onEditInit=new H;onEditComplete=new H;onEditCancel=new H;selectionKeysChange=new H;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;_colGroupTemplate;colGroupTemplate;_captionTemplate;captionTemplate;_headerTemplate;headerTemplate;_bodyTemplate;bodyTemplate;_footerTemplate;footerTemplate;_summaryTemplate;summaryTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_togglerIconTemplate;togglerIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;_loaderTemplate;loaderTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break}})}filterService=Fe(Ss);tableService=Fe(Ai);zone=Fe(wt);ngOnChanges(e){super.ngOnChanges(e),e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,i,o,s){if(i&&i.length)for(let r of i){r.parent=e;let a={node:r,parent:e,level:o,visible:s&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&r.expanded&&this.serializeNodes(r,r.children,o+1,a.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let i=this.lazy?0:this.first;for(let o=i;o<i+this.rows;o++){let s=e[o];s&&(this.serializedValue.push({node:s,parent:null,level:0,visible:!0}),this.serializeNodes(s,s.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(ge(e.data,this.dataKey))]=1;else this.selectedKeys[String(ge(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let o=i.metaKey||i.ctrlKey,s=this.getSortMeta(e.field);s?o?s.order=s.order*-1:(this._multiSortMeta=[{field:e.field,order:s.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((i,o)=>{let s=ge(i.data,this.sortField),r=ge(o.data,this.sortField),a=null;return s==null&&r!=null?a=-1:s!=null&&r==null?a=1:s==null&&r==null?a=0:typeof s=="string"&&typeof r=="string"?a=s.localeCompare(r,void 0,{numeric:!0}):a=s<r?-1:s>r?1:0,this.sortOrder*a});for(let i of e)this.sortNodes(i.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((i,o)=>this.multisortField(i,o,this.multiSortMeta,0));for(let i of e)this.sortMultipleNodes(i.children)}}multisortField(e,i,o,s){if(Hn(this.multiSortMeta)||Hn(o[s]))return 0;let r=ge(e.data,o[s].field),a=ge(i.data,o[s].field),l=null;if(r==null&&a!=null?l=-1:r!=null&&a==null?l=1:r==null&&a==null&&(l=0),typeof r=="string"||r instanceof String){if(r.localeCompare&&r!=a)return o[s].order*r.localeCompare(a,void 0,{numeric:!0})}else l=r<a?-1:1;return r==a?o.length-1>s?this.multisortField(e,i,o,s+1):0:o[s].order*l}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==e){i=!0;break}}return i}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Ft(xe(xe({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let i=ui(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-i+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let i=ui(this.containerViewChild?.nativeElement).left;Fn(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,i){let o=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,s=i.offsetWidth,r=s+o,a=i.style.minWidth||15;if(s+o>parseInt(a)){if(this.columnResizeMode==="fit"){let l=i.nextElementSibling;for(;!l.offsetParent;)l=l.nextElementSibling;if(l){let c=l.offsetWidth-o,d=l.style.minWidth||15;if(r>15&&c>parseInt(d))if(this.scrollable){let h=this.findParentScrollableView(i),u=le(h,".p-treetable-scrollable-body table")||le(h,".p-scroller-viewport table"),p=le(h,"table.p-treetable-scrollable-header-table"),f=le(h,"table.p-treetable-scrollable-footer-table"),g=hi(i);this.resizeColGroup(p,g,r,c),this.resizeColGroup(u,g,r,c),this.resizeColGroup(f,g,r,c)}else i.style.width=r+"px",l&&(l.style.width=c+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let l=this.findParentScrollableView(i),c=le(l,".p-treetable-scrollable-body")||le(l,".p-scroller-viewport"),d=le(l,".p-treetable-scrollable-header"),h=le(l,".p-treetable-scrollable-footer"),u=le(l,".p-treetable-scrollable-body table")||le(l,".p-scroller-viewport table"),p=le(l,"table.p-treetable-scrollable-header-table"),f=le(l,"table.p-treetable-scrollable-footer-table");u.style.width=u.offsetWidth+o+"px",p.style.width=p.offsetWidth+o+"px",f&&(f.style.width=f.offsetWidth+o+"px");let g=hi(i),m=i?u.offsetWidth+o:r,_=i?p.offsetWidth+o:r,b=this.containerViewChild?.nativeElement.offsetWidth>=m,T=(C,x,w,I)=>{C&&x&&(C.style.width=I?w+Vn(c)+"px":"auto",x.style.width=w+"px")};T(c,u,m,b),T(d,p,_,b),T(h,f,_,b),this.resizeColGroup(p,g,r,null),this.resizeColGroup(u,g,r,null),this.resizeColGroup(f,g,r,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+o+"px",i.style.width=r+"px";let l=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=l+"px"}this.onColResize.emit({element:i,delta:o})}this.resizeHelperViewChild.nativeElement.style.display="none",An(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let i=e.parentElement;for(;i&&!St(i,"p-treetable-scrollable-view");)i=i.parentElement;return i}else return null}resizeColGroup(e,i,o,s){if(e){let r=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(r){let a=r.children[i],l=a.nextElementSibling;a.style.width=o+"px",l&&s&&(l.style.width=s+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,i){this.reorderIconWidth=Ts(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=vs(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let o=ui(this.containerViewChild?.nativeElement),s=ui(i);if(this.draggedColumn!=i){let r=s.left-o.left,a=o.top-s.top,l=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-o.top+i.offsetHeight+"px",e.pageX>l?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let o=jn.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),s=jn.indexWithinGroup(i,"ttreorderablecolumn"),r=o!=s;r&&(s-o==1&&this.dropPosition===-1||o-s==1&&this.dropPosition===1)&&(r=!1),r&&s<o&&this.dropPosition===1&&(s=s+1),r&&s>o&&this.dropPosition===-1&&(s=s-1),r&&(Cs(this.columns,o,s),this.onColReorder.emit({dragIndex:o,dropIndex:s,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let i=e.originalEvent.target.nodeName;if(!(i=="INPUT"||i=="BUTTON"||i=="A"||St(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let o=e.rowNode,s=this.isSelected(o.node),r=this.rowTouched?!1:this.metaKeySelection,a=this.dataKey?String(ge(o.node.data,this.dataKey)):null;if(r){let l=e.originalEvent,c=l.metaKey||l.ctrlKey;if(s&&c){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let d=this.findIndexInSelection(o.node);this._selection=this.selection.filter((h,u)=>u!=d),this.selectionChange.emit(this.selection),a&&delete this.selectedKeys[a]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o.node,this.selectionChange.emit(o.node),a&&(this.selectedKeys={},this.selectedKeys[a]=1)):this.isMultipleSelectionMode()&&(c?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,o.node],this.selectionChange.emit(this.selection),a&&(this.selectedKeys[a]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")s?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"})):(this._selection=o.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys={},this.selectedKeys[a]=1));else if(this.selectionMode==="multiple")if(s){let l=this.findIndexInSelection(o.node);this._selection=this.selection.filter((c,d)=>d!=l),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"}),a&&delete this.selectedKeys[a]}else this._selection=this.selection?[...this.selection,o.node]:[o.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys[a]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let i=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),s=this.dataKey?String(ge(i.data,this.dataKey)):null;o||(this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i)):this.isMultipleSelectionMode()&&(this.selection=[i],this.selectionChange.emit(this.selection)),s&&(this.selectedKeys[s]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let i=e.rowNode.node;this.isSelected(i)?(this.propagateSelectionDown(i,!1),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown(i,!0),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,i){let o=this.filteredNodes||this.value;this._selection=i&&o?o.slice():[],this.toggleAll(i),i||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i})}toggleAll(e){let i=this.filteredNodes||this.value;if(this.selectionKeys){if(i&&i.length){for(let o of i)this.propagateDown(o,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(i&&i.length)for(let o of i)this.propagateSelectionDown(o,e)}propagateSelectionUp(e,i){if(e.children&&e.children.length){let s=0,r=!1,a=this.dataKey?String(ge(e.data,this.dataKey)):null;for(let l of e.children)this.isSelected(l)?s++:l.partialSelected&&(r=!0);if(i&&s==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,a&&(this.selectedKeys[a]=1);else{if(!i){let l=this.findIndexInSelection(e);l>=0&&(this._selection=this.selection.filter((c,d)=>d!=l),a&&delete this.selectedKeys[a])}r||s>0&&s!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let o=e.parent;e.checked=i,o&&this.propagateSelectionUp(o,i)}propagateSelectionDown(e,i){let o=this.findIndexInSelection(e),s=this.dataKey?String(ge(e.data,this.dataKey)):null;if(i&&o==-1?(this._selection=[...this.selection||[],e],s&&(this.selectedKeys[s]=1)):!i&&o>-1&&(this._selection=this.selection.filter((r,a)=>a!=o),s&&delete this.selectedKeys[s]),e.partialSelected=!1,e.checked=i,e.children&&e.children.length)for(let r of e.children)this.propagateSelectionDown(r,i)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[ge(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return ge(e,this.dataKey)||ge(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:i,check:o,originalEvent:s}=e,r=i.node;this.selectionKeys?(this.propagateDown(r,o),r.parent&&this.propagateUp(r.parent,o),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:s,rowNode:i}),this.tableService.onSelectionChange()}propagateDown(e,i){if(i?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let o of e.children)this.propagateDown(o,i)}propagateUp(e,i){let o=0,s=!1;for(let a of e.children)this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].checked?o++:this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].partialChecked&&(s=!0);i&&o===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(i||delete this.selectionKeys[this.nodeKey(e)],s||o>0&&o!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let r=e.parent;r&&this.propagateUp(r,i)}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length){for(let o=0;o<this.selection.length;o++)if(this.equals(e,this.selection[o])){i=o;break}}return i}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,i){return this.compareSelectionBy==="equals"?$n(e,i):$n(e.data,i.data,this.dataKey)}filter(e,i,o){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:o},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let i;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");i=this.globalFilterFields||this.columns}this.filteredNodes=[];let o=this.filterMode==="strict",s=!1;for(let r of this.value){let a=xe({},r),l=!0,c=!1,d;for(let u in this.filters)if(this.filters.hasOwnProperty(u)&&u!=="global"){let p=this.filters[u],f=u,g=p.value,m=p.matchMode||"startsWith",_=this.filterService.filters[m];if(d={filterField:f,filterValue:g,filterConstraint:_,isStrictMode:o},(o&&!(this.findFilteredNodes(a,d)||this.isFilterMatched(a,d))||!o&&!(this.isFilterMatched(a,d)||this.findFilteredNodes(a,d)))&&(l=!1),!l)break}if(this.filters.global&&!c&&i){let u=xe({},a),p,f=this.filters.global.value,g=this.filterService.filters[this.filters.global.matchMode];d={filterField:p,filterValue:f,filterConstraint:g,isStrictMode:o,globalFilterFieldsArray:i},(o&&(this.findFilteredNodes(u,d)||this.isFilterMatched(u,d))||!o&&(this.isFilterMatched(u,d)||this.findFilteredNodes(u,d)))&&(c=!0,a=u)}let h=l;this.filters.global&&(h=l&&c),h&&this.filteredNodes.push(a),s=s||!l||c||l&&this.filteredNodes.length>0||!c&&this.filteredNodes.length===0}s||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,i){if(e){let o=!1;if(e.children){let s=[...e.children];e.children=[];for(let r of s){let a=xe({},r);this.isFilterMatched(a,i)&&(o=!0,e.children.push(a))}}if(o)return!0}}isFilterMatched(e,i){let{filterField:o,filterValue:s,filterConstraint:r,isStrictMode:a,globalFilterFieldsArray:l}=i,c=!1,d=h=>r(ge(e.data,h),s,this.filterLocale);return c=l?.length?l.some(h=>d(h.field||h)):d(o),(!c||a&&!this.isNodeLeaf(e))&&(c=this.findFilteredNodes(e,{filterField:o,filterValue:s,filterConstraint:r,isStrictMode:a,globalFilterFieldsArray:l})||c),c}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,i,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&Ge(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(An(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ae(t)))(o||t)}})();static \u0275cmp=Ie({type:t,selectors:[["p-treeTable"],["p-treetable"],["p-tree-table"]],contentQueries:function(i,o,s){if(i&1&&(A(s,Tf,4),A(s,wf,4),A(s,Cf,4),A(s,Sf,4),A(s,kf,4),A(s,Mf,4),A(s,If,4),A(s,Df,4),A(s,Ef,4),A(s,Nf,4),A(s,Pf,4),A(s,Lf,4),A(s,Of,4),A(s,zf,4),A(s,Rf,4),A(s,Ff,4),A(s,Af,4),A(s,Vf,4),A(s,Bf,4),A(s,Hf,4),A(s,$f,4),A(s,Wf,4),A(s,jf,4),A(s,Uf,4),A(s,Kf,4),A(s,Qf,4),A(s,kt,4)),i&2){let r;E(r=N())&&(o._colGroupTemplate=r.first),E(r=N())&&(o._captionTemplate=r.first),E(r=N())&&(o._headerTemplate=r.first),E(r=N())&&(o._bodyTemplate=r.first),E(r=N())&&(o._footerTemplate=r.first),E(r=N())&&(o._summaryTemplate=r.first),E(r=N())&&(o._emptyMessageTemplate=r.first),E(r=N())&&(o._paginatorLeftTemplate=r.first),E(r=N())&&(o._paginatorRightTemplate=r.first),E(r=N())&&(o._paginatorDropdownItemTemplate=r.first),E(r=N())&&(o._frozenHeaderTemplate=r.first),E(r=N())&&(o._frozenBodyTemplate=r.first),E(r=N())&&(o._frozenFooterTemplate=r.first),E(r=N())&&(o._frozenColGroupTemplate=r.first),E(r=N())&&(o._loadingIconTemplate=r.first),E(r=N())&&(o._reorderIndicatorUpIconTemplate=r.first),E(r=N())&&(o._reorderIndicatorDownIconTemplate=r.first),E(r=N())&&(o._sortIconTemplate=r.first),E(r=N())&&(o._checkboxIconTemplate=r.first),E(r=N())&&(o._headerCheckboxIconTemplate=r.first),E(r=N())&&(o._togglerIconTemplate=r.first),E(r=N())&&(o._paginatorFirstPageLinkIconTemplate=r.first),E(r=N())&&(o._paginatorLastPageLinkIconTemplate=r.first),E(r=N())&&(o._paginatorPreviousPageLinkIconTemplate=r.first),E(r=N())&&(o._paginatorNextPageLinkIconTemplate=r.first),E(r=N())&&(o._loaderTemplate=r.first),E(r=N())&&(o.templates=r)}},viewQuery:function(i,o){if(i&1&&(re(qf,5),re(Yf,5),re(Xf,5),re(Gf,5),re(Jf,5),re(Zf,5),re(eg,5)),i&2){let s;E(s=N())&&(o.containerViewChild=s.first),E(s=N())&&(o.resizeHelperViewChild=s.first),E(s=N())&&(o.reorderIndicatorUpViewChild=s.first),E(s=N())&&(o.reorderIndicatorDownViewChild=s.first),E(s=N())&&(o.tableViewChild=s.first),E(s=N())&&(o.scrollableViewChild=s.first),E(s=N())&&(o.scrollableFrozenViewChild=s.first)}},inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",z],lazy:[2,"lazy","lazy",z],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",z],paginator:[2,"paginator","paginator",z],rows:[2,"rows","rows",ve],first:[2,"first","first",ve],pageLinks:[2,"pageLinks","pageLinks",ve],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",z],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",z],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",z],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",z],showPageLinks:[2,"showPageLinks","showPageLinks",z],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",ve],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",z],customSort:[2,"customSort","customSort",z],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",z],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",z],loading:[2,"loading","loading",z],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",z],scrollable:[2,"scrollable","scrollable",z],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ve],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",ve],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",z],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",z],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",ve],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys",showGridlines:[2,"showGridlines","showGridlines",z]},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},standalone:!1,features:[Vt([Ai,al]),Pe,ct,Bi],decls:12,vars:21,consts:[["container",""],["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-treetable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-treetable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-overlay-mask","p-treetable-mask"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",2,"display","none"],[1,"p-treetable-reorder-indicator-up",2,"display","none"],[1,"p-treetable-reorder-indicator-down",2,"display","none"]],template:function(i,o){i&1&&(P(0,"div",7,0),S(2,dg,4,2,"div",8)(3,ug,2,1,"div",9)(4,Sg,5,21,"p-paginator",10)(5,Dg,9,16,"div",11)(6,Ng,4,8,"div",12)(7,jg,5,21,"p-paginator",13)(8,Kg,2,1,"div",14)(9,Qg,2,0,"div",15)(10,Gg,4,2,"span",16)(11,tm,4,2,"span",17),L()),i&2&&(Le(o.styleClass),y("ngStyle",o.style)("ngClass",_s(14,tg,o.showGridlines,o.rowHover||o.selectionMode==="single"||o.selectionMode==="multiple",o.autoLayout,o.resizableColumns,o.resizableColumns&&o.columnResizeMode==="fit",o.scrollable&&o.scrollHeight==="flex")),v(2),y("ngIf",o.loading&&o.showLoader),v(),y("ngIf",o.captionTemplate||o._captionTemplate),v(),y("ngIf",o.paginator&&(o.paginatorPosition==="top"||o.paginatorPosition=="both")),v(),y("ngIf",!o.scrollable),v(),y("ngIf",o.scrollable),v(),y("ngIf",o.paginator&&(o.paginatorPosition==="bottom"||o.paginatorPosition=="both")),v(),y("ngIf",o.summaryTemplate||o._summaryTemplate),v(),y("ngIf",o.resizableColumns),v(),y("ngIf",o.reorderableColumns),v(),y("ngIf",o.reorderableColumns))},dependencies:()=>[Bt,qe,Ye,Ht,Fs,kt,Ut,Un,Kn,Xm,cl],encapsulation:2})}return t})(),cl=(()=>{class t{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,i,o){this.tt=e,this.treeTableService=i,this.cd=o,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,i){return this.tt.virtualScroll?(i=i||this.scrollerOptions,i?i[e]:null):null}getRowIndex(e){let i=this.getScrollerOption("getItemOptions");return i?i(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Z(ri),Z(Ai),Z(Rn))};static \u0275cmp=Ie({type:t,selectors:[["","pTreeTableBody",""]],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",z],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},standalone:!1,features:[Pe],attrs:im,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&S(0,am,1,1,"ng-template",0)(1,cm,2,5,"ng-container",1),i&2&&(y("ngForOf",o.serializedNodes||o.tt.serializedValue)("ngForTrackBy",o.tt.rowTrackBy),v(),y("ngIf",o.tt.isEmpty()))},dependencies:[di,qe,Ye],encapsulation:2})}return t})(),Xm=(()=>{class t{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,i,o,s,r){this.platformId=e,this.renderer=i,this.tt=o,this.el=s,this.zone=r}ngAfterViewInit(){if($t(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=ys()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate||this.tt._frozenBodyTemplate)&&Fn(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;if(e&&(this.tt.virtualScroll?this.frozenSiblingBody=le(e,".p-scroller-viewport"):this.frozenSiblingBody=le(e,".p-treetable-scrollable-body")),this.scrollHeight){let i=Vn();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=i+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=i+"px")}}this.bindEvents()}}bindEvents(){$t(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){$t(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(i){return new(i||t)(Z(Hi),Z(hs),Z(ri),Z(ci),Z(wt))};static \u0275cmp=Ie({type:t,selectors:[["","ttScrollableView",""]],viewQuery:function(i,o){if(i&1&&(re(dm,5),re(hm,5),re(um,5),re(pm,5),re(fm,5),re(gm,5),re(mm,5),re(bm,5),re(_m,5)),i&2){let s;E(s=N())&&(o.scrollHeaderViewChild=s.first),E(s=N())&&(o.scrollHeaderBoxViewChild=s.first),E(s=N())&&(o.scrollBodyViewChild=s.first),E(s=N())&&(o.scrollTableViewChild=s.first),E(s=N())&&(o.scrollLoadingTableViewChild=s.first),E(s=N())&&(o.scrollFooterViewChild=s.first),E(s=N())&&(o.scrollFooterBoxViewChild=s.first),E(s=N())&&(o.scrollableAlignerViewChild=s.first),E(s=N())&&(o.scroller=s.first)}},inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",z],scrollHeight:"scrollHeight"},standalone:!1,features:[Pe],attrs:ym,decls:13,vars:13,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[1,"p-treetable-scrollable-header"],[1,"p-treetable-scrollable-header-box"],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"onLazyLoad","items","scrollHeight","itemSize","lazy","options"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],[1,"p-treetable-scrollable-footer"],[1,"p-treetable-scrollable-footer-box"],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(i,o){i&1&&(P(0,"div",11,0)(2,"div",12,1)(4,"table",13),S(5,Cm,1,0,"ng-container",14),P(6,"thead",15),S(7,Sm,1,0,"ng-container",14),L()()()(),S(8,Nm,5,10,"p-scroller",16)(9,Lm,4,10,"ng-container",17)(10,Rm,5,15,"ng-template",null,2,Qe)(12,Vm,8,10,"div",18)),i&2&&(v(4),y("ngClass",o.tt.tableStyleClass)("ngStyle",o.tt.tableStyle),v(),y("ngTemplateOutlet",o.frozen?o.tt.frozenColGroupTemplate||o.tt._frozenColGroupTemplate||o.tt.colGroupTemplate||o.tt._colGroupTemplate:o.tt.colGroupTemplate||o.tt._colGroupTemplate)("ngTemplateOutletContext",ne(9,st,o.columns)),v(2),y("ngTemplateOutlet",o.frozen?o.tt.frozenHeaderTemplate||o.tt._frozenHeaderTemplate||o.tt.headerTemplate||o.tt._headerTemplate:o.tt.headerTemplate||o.tt._headerTemplate)("ngTemplateOutletContext",ne(11,st,o.columns)),v(),y("ngIf",o.tt.virtualScroll),v(),y("ngIf",!o.tt.virtualScroll),v(3),y("ngIf",o.tt.footerTemplate||o.tt._footerTemplate))},dependencies:()=>[Bt,qe,Ye,Ht,bi,cl],encapsulation:2})}return t})();var A_=(()=>{class t{tt;tableService;rowNode;ttSelectableRowDisabled;selected;subscription;constructor(e,i){this.tt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.selected=this.tt.isSelected(this.rowNode.node)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.tt.isSelected(this.rowNode.node))}onClick(e){this.isEnabled()&&this.tt.handleRowClick({originalEvent:e,rowNode:this.rowNode})}onKeyDown(e){switch(e.code){case"Enter":case"Space":this.onEnterKey(e);break;default:break}}onTouchEnd(e){this.isEnabled()&&this.tt.handleRowTouchEnd(e)}onEnterKey(e){this.tt.selectionMode==="checkbox"?this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode}):this.onClick(e),e.preventDefault()}isEnabled(){return this.ttSelectableRowDisabled!==!0}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Z(ri),Z(Ai))};static \u0275dir=Pn({type:t,selectors:[["","ttSelectableRow",""]],hostVars:3,hostBindings:function(i,o){i&1&&ae("click",function(r){return o.onClick(r)})("keydown",function(r){return o.onKeyDown(r)})("touchend",function(r){return o.onTouchEnd(r)}),i&2&&(de("aria-checked",o.selected),$i("p-treetable-row-selected",o.selected))},inputs:{rowNode:[0,"ttSelectableRow","rowNode"],ttSelectableRowDisabled:[2,"ttSelectableRowDisabled","ttSelectableRowDisabled",z]},standalone:!1,features:[Pe]})}return t})();var V_=(()=>{class t{tt;tableService;cd;disabled;rowNode;checked;partialChecked;focused;subscription;constructor(e,i,o){this.tt=e,this.tableService=i,this.cd=o,this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected),this.cd.markForCheck()})}ngOnInit(){this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected)}onClick(e){if(!this.disabled)if(this.tt.selectionKeys){let i=!this.checked;this.tt.toggleCheckbox({originalEvent:e,check:i,rowNode:this.rowNode})}else this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode});xs()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Z(ri),Z(Ai),Z(Rn))};static \u0275cmp=Ie({type:t,selectors:[["p-treeTableCheckbox"]],inputs:{disabled:[2,"disabled","disabled",z],rowNode:[0,"value","rowNode"]},standalone:!1,features:[Pe],decls:2,vars:5,consts:[["styleClass","p-treetable-node-checkbox",3,"onChange","ngModel","binary","indeterminate","tabIndex"],[4,"ngIf"],["pTemplate","icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(P(0,"p-checkbox",0),ae("onChange",function(r){return o.onClick(r)}),S(1,jm,2,0,"ng-container",1),L()),i&2&&(y("ngModel",o.checked)("binary",!0)("indeterminate",o.partialChecked)("tabIndex",-1),v(),y("ngIf",o.tt.checkboxIconTemplate||o.tt._checkboxIconTemplate))},dependencies:()=>[qe,Ye,kt,mi,ji,Ui],encapsulation:2,changeDetection:0})}return t})();var B_=(()=>{class t{tt;el;zone;get level(){return this.rowNode?.level+1}get styleClass(){return this.rowNode?.node.styleClass||""}get expanded(){return this.rowNode?.node.expanded}rowNode;constructor(e,i,o){this.tt=e,this.el=i,this.zone=o}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Tab":this.onTabKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;default:break}}onArrowDownKey(e){let i=this.el?.nativeElement?.nextElementSibling;i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onArrowUpKey(e){let i=this.el?.nativeElement?.previousElementSibling;i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onArrowRightKey(e){let i=e.currentTarget;!(le(i,"button").style.visibility==="hidden")&&!this.expanded&&this.rowNode.node.children&&(this.expand(e),i.tabIndex=-1),e.preventDefault()}onArrowLeftKey(e){let i=this.tt.containerViewChild?.nativeElement,o=Ge(i,'[aria-expanded="true"]'),s=o[o.length-1];this.expanded&&this.collapse(e),s&&(this.tt.toggleRowIndex=hi(s)),this.restoreFocus(),e.preventDefault()}onHomeKey(e){let i=le(this.tt.containerViewChild?.nativeElement,`tr[aria-level="${this.level}"]`);i&&Wt(i),e.preventDefault()}onEndKey(e){let i=Ge(this.tt.containerViewChild?.nativeElement,`tr[aria-level="${this.level}"]`),o=i[i.length-1];Wt(o),e.preventDefault()}onTabKey(e){let i=this.el.nativeElement?[...Ge(this.el.nativeElement.parentNode,"tr")]:void 0;if(i&&ws(i)){let o=i.some(s=>Bn(s,"data-p-highlight")||s.getAttribute("aria-checked")==="true");if(i.forEach(s=>{s.tabIndex=-1}),o){let s=i.filter(r=>Bn(r,"data-p-highlight")||r.getAttribute("aria-checked")==="true");s[0].tabIndex=0;return}i[0].tabIndex=0}}expand(e){this.tt.toggleRowIndex=hi(this.el.nativeElement),this.rowNode.node.expanded=!0,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.rowNode.node.children?this.restoreFocus(this.tt.toggleRowIndex+1):this.restoreFocus(),this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node})}collapse(e){this.rowNode.node.expanded=!1,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node})}focusRowChange(e,i,o){e.tabIndex="-1",i.tabIndex="0",Wt(i)}restoreFocus(e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{let i=this.tt.containerViewChild?.nativeElement,o=le(i,".p-treetable-tbody").children[e||this.tt.toggleRowIndex],s=[...Ge(i,"tr")];s&&s.forEach(r=>{o.isSameNode(r)||(r.tabIndex=-1)}),o&&(o.tabIndex=0,o.focus())},25)})}static \u0275fac=function(i){return new(i||t)(Z(ri),Z(ci),Z(wt))};static \u0275dir=Pn({type:t,selectors:[["","ttRow",""]],hostVars:7,hostBindings:function(i,o){i&1&&ae("keydown",function(r){return o.onKeyDown(r)}),i&2&&(de("tabindex","0")("aria-expanded",o.expanded)("aria-level",o.level)("data-pc-section",o.row)("role",o.row),Le("p-element "+o.styleClass))},inputs:{rowNode:[0,"ttRow","rowNode"]},standalone:!1})}return t})(),H_=(()=>{class t extends dt{tt;rowNode;constructor(e){super(),this.tt=e}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(i){return new(i||t)(Z(ri))};static \u0275cmp=Ie({type:t,selectors:[["p-treeTableToggler"],["p-treetabletoggler"],["p-treetable-toggler"]],inputs:{rowNode:"rowNode"},standalone:!1,features:[ct],decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(P(0,"button",0),ae("click",function(r){return o.onClick(r)}),S(1,Qm,3,2,"ng-container",1)(2,Ym,1,0,null,2),L()),i&2&&(Ve("visibility",o.rowNode.node.leaf===!1||o.rowNode.node.children&&o.rowNode.node.children.length?"visible":"hidden")("margin-left",o.rowNode.level*16+"px"),de("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",o.toggleButtonAriaLabel),v(),y("ngIf",!o.tt.togglerIconTemplate&&!o.tt._togglerIconTemplate),v(),y("ngTemplateOutlet",o.tt.togglerIconTemplate||o.tt._togglerIconTemplate)("ngTemplateOutletContext",ne(10,st,o.rowNode.node.expanded)))},dependencies:()=>[qe,Ye,Wi,fi,gi],encapsulation:2})}return t})(),$_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=lt({type:t});static \u0275inj=at({imports:[Xe,As,bi,Ut,Un,Kn,Ns,Ls,Ps,Is,Ds,fi,gi,mi,Te,pi,Te]})}return t})();export{Qu as a,_b as b,Ju as c,Pb as d,rl as e,s_ as f,ri as g,A_ as h,V_ as i,B_ as j,H_ as k,$_ as l};
